/*! ds-bootstrap - v1.0.0.35301 - 2025-08-25 4:33pm UTC
* Copyright (c) 2025 ; Not Licensed */!function(){"use strict";var e=DS,t=(e.MicroScrollBar,e.detection,function(e){return null!=e&&2===e.split(".").length}),n=function(e,t){return e.some((function(e){var n=t[e.name];return null==n||"outline"===e.name&&n.enabled||!0===n}))};function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(o=i.key,a=void 0,a=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}var l=DS,c=l._,s=l.pubSub,u=l.events,f=l.constants,d=l.utils,h=l.translationStore,p=[],y=function(){function e(t,n,r){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.frame=t,this.frame.blocked=!1,this.preso=r,this.setupControlOptions(),this.layouts={},this.dockedStates={},this.dockSettings={dockedState:f.docked.NONE,width:0},this.setLayout(this.frame.default_layout,f.refs.FRAME),DS.flagManager.localizationPlatform&&!c.isEmpty(n)&&this.setLocalizationData(n,!0),this.resourceDescription=this.frame.resourceData.description;var o=r.getFirstSlide();for(var a in this.slideWidth=o.get("width"),this.slideHeight=o.get("height"),this.temp=[],this.frame.layouts)this.temp.push(a);this.rtl="rtl"===this.frame.textdirection,this.hasModernText=0!==this.frame.renderingEngineType,this.dir=this.dir.bind(this),c.bindAll(this,"onLayoutChanged"),s.on(u.controlLayout.CHANGED,this.onLayoutChanged),s.on(u.controlLayout.UPDATE,(function(e,t,n){i.frame.controlLayouts[e]=n,i.setLayout(e,t)})),s.on(u.controlOptions.CHANGED,(function(e){var t=i.optionChangesRequireMenuRefresh(i.frame.controlOptions.menuOptions,e.menuOptions);i.frame.controlOptions=e,i.setupControlOptions(),s.trigger(u.controlOptions.RESET),t&&s.trigger(u.navData.REFRESH_VIEW)})),s.on(u.frame.FONT_SCALE,(function(e){i.frame.fontscale=e,s.trigger(u.controlOptions.RESET)})),s.on(u.glossary.UPDATE,(function(e){i.frame.glossaryData=e,s.trigger(u.glossary.REFRESH_VIEW)})),s.on(u.navData.UPDATE,(function(e){i.frame.navData=e,s.trigger(u.navData.REFRESH_VIEW)})),s.on(u.resources.UPDATE,(function(e){i.frame.resourceData.resources=e,s.trigger(u.resources.REFRESH_VIEW)})),s.on(u.resources.UPDATE_DESCRIPTION,(function(e){i.frame.resourceData.description=e,s.trigger(u.resources.REFRESH_VIEW)})),s.on(u.layer.DIALOG_SHOWN,(function(e){var t=DS.windowManager.getCurrentWindow();s.trigger(u.frameModel.BLOCKED_CHANGED,t.frame.id,!0,e)})),s.on(u.layer.DIALOG_HIDDEN,(function(){var e=DS.windowManager.getCurrentWindow();s.trigger(u.frameModel.BLOCKED_CHANGED,e.frame.id,!1)})),s.on(u.localization.LANGUAGE_UPDATED,(function(){i.setLocalizationData(DS.localizationManager.getCurrentFrameData())})),s.on(u.localization.REVIEW_FRAME_UPDATED,(function(){i.updateReviewStrings()}))}var t,r,o;return t=e,r=[{key:"traverseMenu",value:function(e,t){var n=this;t.forEach((function(r){e(r),null!=r.links&&t.length>0&&n.traverseMenu(e,r.links)}))}},{key:"updateMenuStrings",value:function(){var e=d.getPath(this.frame,"navData.outline.links",[]);this.traverseMenu((function(e){e.displaytext=h.getUpdatedTextData("menuItem","".concat(e.translationId,"-Name"),e.displaytext)}),e)}},{key:"updateGlossaryStrings",value:function(){(this.frame.glossaryData||[]).forEach((function(e){var t=e.translationId;e.title=h.getUpdatedTextData("glossaryItem","".concat(t,"-Term"),e.title),e.content=h.getUpdatedTextData("glossaryItem","".concat(t,"-Definition"),e.content)}))}},{key:"updateResourcesStrings",value:function(){d.getPath(this.frame,"resourceData.resources",[]).forEach((function(e){var t=e.translationId;e.title=h.getUpdatedTextData("resourceItem","".concat(t,"-Title"),e.title)}))}},{key:"updateNoteStrings",value:function(){(this.frame.notesData||[]).forEach((function(e){var t=e.slideId,n=c.last(t.split(".")),r=h.getUpdatedTextData("slideNote","".concat(n,"-Note"));null!=r&&null!=DS.renderHtmlString&&(e.content=DS.renderHtmlString(r))}))}},{key:"updateReviewStrings",value:function(){this.updateMenuStrings(),this.updateGlossaryStrings(),this.updateResourcesStrings(),this.updateNoteStrings(),this.title.text=h.getUpdatedTextData("projectTitle","project-Title",this.title.text),this.notifyStringsUpdated()}},{key:"setLocalizationData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.frame.stringTables=e.stringTables,this.frame.navData=e.navData,this.frame.resourceData=e.resourceData,this.frame.glossaryData=e.glossaryData,this.frame.notesData=e.notesData,this.frame.controlStrings=e.controlStrings.reduce((function(e,t){var n=t.id,r=t.value;return e[n]=r,e}),{}),this.title.text=this.frame.controlStrings.title,this.logo.altText=this.frame.controlStrings.logoAltText,this.frame.textdirection=e.textdirection,this.rtl="rtl"===this.frame.textdirection,"bylanguage"===this.initialSidebarPos&&(this.sidebarOpts.sidebarPos=this.getSidebarPos()),t||this.notifyStringsUpdated()}},{key:"notifyStringsUpdated",value:function(){s.trigger(u.strings.UPDATE_STRINGS),s.trigger(u.navData.REFRESH_VIEW),s.trigger(u.glossary.REFRESH_VIEW),s.trigger(u.resources.REFRESH_VIEW),s.trigger(u.transcript.REFRESH_VIEW),s.trigger(u.frame.REFLOW),s.trigger(u.frame.LOCALIZATION_UPDATED)}},{key:"getSidebarPos",value:function(){return"bylanguage"===this.initialSidebarPos?DS.localizationManager.getCurrentLangIsRTL()?"right":"left":this.initialSidebarPos}},{key:"setupControlOptions",value:function(){var e=this.frame.controlOptions.sidebarOptions;this.initialSidebarPos=e.sidebarPos,e.sidebarPos=this.getSidebarPos(),this.sidebarOpts=e,this.bottomBarOpts=this.frame.controlOptions.bottomBarOptions,this.topTabs=e.tabs.linkRight||[],this.topTabsLeft=e.tabs.linkLeft||[],this.topTabsRight=e.tabs.linkRight||[],this.sidebarTabs=e.tabs.sidebar||[],this.outlineInSidebar=this.sidebarTabs.some((function(e){return"outline"===e.name})),this.buttonOptions=this.frame.controlOptions.buttonoptions,this.title={enabled:e.titleEnabled,text:e.titleText},this.logo={enabled:e.logoEnabled,altText:e.logoAltText,altTextEnabled:e.logoAltTextEnabled}}},{key:"optionChangesRequireMenuRefresh",value:function(e,t){return e.wrapListItems!==t.wrapListItems||e.autonumber!==t.autonumber}},{key:"onLayoutChanged",value:function(e,t){this.setLayout(e,t)}},{key:"hasTopLinks",value:function(){return 0!==this.topTabsLeft.length||0!==this.topTabsRight.length}},{key:"getControlString",value:function(e){return h.getUpdatedTextData("frameLink","".concat(e,"-Link"),d.getPath(this.frame,"controlStrings.".concat(e),null))}},{key:"getString",value:function(e,t){var n=this.currLayout.string_table,r=this.frame.stringTables[n].string[e];return null==r?(p.includes(e)||(p.push(e),console.warn("could not find ".concat(e," in string table ").concat(n))),null!=t?t:e.replace("acc_","").replace(/_/g," ")):r}},{key:"setDocked",value:function(e,t,n){t===f.docked.NONE?(this.dockedStates[e]=null,delete this.dockedStates[e]):this.dockedStates[e]={dockedState:t,width:n};var r=Object.keys(this.dockedStates);0===r.length?this.dockSettings={dockedState:f.docked.NONE,width:0}:t!==f.docked.NONE?this.dockSettings={dockedState:t,width:n}:this.dockSettings=this.dockedStates[r[0]]}},{key:"getDockedWidth",value:function(){var e=this.dockSettings,t=e.dockedState,n=e.width;return t!==DS.constants.docked.NONE?n:0}},{key:"setLayout",value:function(e,t){this.currLayout=this.frame.layouts[e],this.currControlLayout=this.frame.controlLayouts[e],this.layouts[t]=this.currControlLayout,this.topbarHasTabs=n([].concat(i(this.topTabsRight),i(this.topTabsLeft)),e),s.trigger(u.frameModel.LAYOUT_CHANGED,this.currControlLayout,t)}},{key:"getWndControlLayout",value:function(e){return this.layouts[e]||this.currControlLayout}},{key:"dir",value:function(e){if(null!=e)return this.rtl?e.reverse():e}}],r&&a(t.prototype,r),o&&a(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}(),v=y;function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function m(e,t,n){return(t=k(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,k(r.key),r)}}function k(e){var t=function(e,t){if("object"!==b(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==b(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===b(t)?t:String(t)}var O,C=DS,E=C._,x=C.scaler,T=C.detection,L=C.detection.orientation,P=C.utils,j=P.getPath,D=P.scaleVal,I=P.pxify,A=C.dom,R=A.addClass,B=A.removeClass,M=C.constants.refs.FRAME,H=document.getElementById(DS.constants.els.PRESO),N={x:"w",xl:"w",xp:"w",y:"h",yl:"h",yp:"h",wl:"w",wp:"w",hl:"h",hp:"h"},F=["wrapper","lightBoxWrapper"],V=function(e){null!=e.beforeUpdateHook&&e.beforeUpdateHook()},W=function(e,t,n){V(e),n=e.w>0?n:0,e.y=e.top=0,e.x=e.left=t.l+n,e.update(!0),t.l=e.x+e.w},U=function(e,t,n){V(e),n=e.w>0?n:0,e.y=e.top=0,e.x=e.left=t.r-e.w-n,e.update(!0),t.r=e.x},z=function(e,t,n){V(e),n=e.h>0?n:0,e.x=e.left=0,e.y=e.top=t.t+n,e.update(!0),t.t=e.y+e.h},K=function(e,t,n){V(e),n=e.h>0?n:0,e.x=e.left=0,e.y=e.top=t.b-e.h-n,e.update(!0),t.b=e.y},G={l:W,r:U,t:z,b:K},q=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ViewLogic=t,this.params=n,this.nameKey=null!=n&&n.nameKey||t.nameKey,this.enabled=!0}var t,n,r;return t=e,n=[{key:"init",value:function(e){if(this.hasInited)console.warn("has already initialized",this);else{var t;this.hasInited=!0;var n=this.ViewLogic,r=this.params;null==r&&null!=n?r=n:null!=n&&(t=!0),E.isFunction(r)&&(r=r(this.nameSpace||e)),r.w=r.w||r.minW||100,r.h=r.h||r.minH||100,this.orientationProps(r,"x","y","w","h","scale"),(r=Object.assign({position:"absolute",x:0,y:0,minW:0,maxW:Number.MAX_SAFE_INTEGER,minH:0,maxH:Number.MAX_SAFE_INTEGER,wPad:0,scale:1,visibility:"reflow",visual:!0,bgColor:null,overflow:"hidden",origin:"center center",z:null,opacity:null,visible:!0,attrs:{},noContent:!0,calcTextSize:!1},r)).calcTextSize&&(r.noContent=!1),this.noContent=r.noContent,this.lastWidthByText=0,this.lastHeightByText=0,this.padLeft=r.padLeft||0,this.padRight=r.padRight||0,this.childDef=r.childDef,this.childViews=r.childViews,this.updateHook=r.updateHook,this.onCaptionChanged=r.onCaptionChanged,r.childViews=null,r.updateHook=null,r.childDef=null,r.nameKey=null,r.onCaptionChanged=null,Object.assign(this,r.methods),r.methods=null,this.createDynamicGetters(r),r.visual&&(this.el=document.createElement(r.tag||"div"),this.initAttributes(r.attrs),this.initStyles(r),"button"===r.tag&&(this.el.style.cursor="pointer"),this.initContent(r),r.add&&H.appendChild(this.el),this.hasInitialized=!0),this.initVisibility(r),this.initChildRefs(),t&&(this.viewLogic=new n(this))}}},{key:"orientationProp",value:function(e,t){var n="".concat(t,"l"),r="".concat(t,"p");null!=e[n]&&null!=e[r]&&(e[t]=function(){return L.isLandscape?this[n]:this[r]})}},{key:"orientationProps",value:function(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];r.forEach((function(n){return t.orientationProp(e,n)}))}},{key:"initContent",value:function(e){if(this.noContent){var t=this.html;null!=t&&(this.el.innerHTML=t)}else this.content=document.createElement("div"),this.content.setAttribute("class","view-content"),this.content.setAttribute("tabindex",-1),Object.assign(this.content.style,{position:"relative","text-align":"center",top:0}),Object.assign(this.content.style,e.contentStyle||{}),this.initAttributes(e.contentAttrs,this.content),null!=e.html&&(this.content.innerHTML=this.html),this.el.appendChild(this.content)}},{key:"initAttributes",value:function(e,t){for(var n in e)if(null!=e[n]){var r=e[n];"id"===n?r=E.kebabCase(r):"tabindex"===n&&-1!==r&&this.el.setAttribute("data-".concat(n),r),(t||this.el).setAttribute(n,r)}}},{key:"initStyles",value:function(e){if(Object.assign(this.el.style,{position:e.position,left:0,top:0,backgroundColor:e.bgColor,border:e.border,overflow:e.overflow,transformOrigin:e.origin,opacity:e.opacity,zIndex:e.z}),null!=j(e,"style.display")){var t=e.style.display;"boolean"==typeof t&&(e.style.display=t?"block":"none")}Object.assign(this.el.style,e.style)}},{key:"initVisibility",value:function(e){!1===e.visible&&this.setVisibility(!1)}},{key:"initChildRefs",value:function(){this.children=[],this.childList=[];for(var e=this.el.querySelectorAll("[data-ref]"),t=0;t<e.length;t++)this.children[e[t].dataset.ref]={el:e[t]}}},{key:"updateStrings",value:function(){null!=this.ariaStringId&&this.el.setAttribute("aria-label",$.model.getString(this.ariaStringId)),null!=this.updateDomStrings&&(this.updateDomStrings(),this.calcTextSize&&(this.doTextCalcs(),this.update()))}},{key:"updateHtml",value:function(){var e=this.html;null!=e&&(this.noContent?this.el.innerHTML=e:this.content.innerHTML=e)}},{key:"createDynamicGetters",value:function(t){for(var n in t)"id"!==n&&null!=t[n]&&e.prop(this,n,t[n])}},{key:"updateSize",value:function(){"button"===this.tag?(this.el.style.width=I(D(Math.max(this.w,24))),this.el.style.height=I(D(Math.max(this.h,24)))):(this.el.style.width=I(D(this.w)),this.el.style.height=I(D(this.h)))}},{key:"updateTrans",value:function(){var e=F.includes(this.nameKey)?E.identity:D,t=["translate(".concat(I(e(this.x)),", ").concat(I(e(this.y)),")")];if(this.xs)for(var n=0;n<this.xs.length;n++)t.push("translateX(".concat(I(e(this.xs[n])),")"));if(this.ys)for(var r=0;r<this.ys.length;r++)t.push("translateY(".concat(I(e(this.ys[r])),")"));T.deviceView.isMobile&&null!=this.scale&&t.push("scale(".concat(this.scale,")")),this.el.style.transform=t.join(" ")}},{key:"getMinChildWidthInfo",value:function(){return null==this.children?0:this.children.reduce((function(e,t){return t.visible?(e.count++,e.minWidth+=t.minW,e):e}),{count:0,minWidth:0})}},{key:"calcChildrensWidth",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return!0},t=0;return null!=this.children&&this.children.forEach((function(n){e(n)&&(n.update(),t+=n.w)})),t}},{key:"calcChildrensHeight",value:function(){var e=0;return null!=this.children&&this.children.forEach((function(t){t.update(),e+=t.h})),e}},{key:"positionChildren",value:function(e){var t=e.vertical,n=e.toTop,r=e.toLeft,i=e.pad,o=e.startPos,a=e.reverse,l=void 0!==a&&a,c=e.hook,s=void 0===c?E.noop:c,u=e.rtl,f=void 0!==u&&u,d=e.sizeToChildren,h=e.alignChild,p=t?n?K:z:r?U:W,y=Object.assign({l:o,r:o,t:o,b:o},e.bounds),v=l!==f?this.children.slice().reverse():this.children,b=g(t?["height","t"]:["width","l"],2),m=b[0],w=b[1],S=L.isLandscape?E.first:E.last;v.forEach((function(e){(e.beforeReflowHook||E.noop)();var t=h&&S(e.parentAlign);!e.visible&&"reflow"===e.visibility||"-"===t||(t?G[t](e,y,i):p(e,y,i),s(e))})),d&&(this[m]=y[w])}},{key:"flowChildren",value:function(e){(e=Object.assign({pad:0,sizeToChildren:!1,startPos:0,toLeft:!1,reverse:!1,fullUpdate:!1,rtl:!1,hook:function(){}},e)).fullUpdate?this.hasAllChildren()&&(this.positionChildren(e),this.updateSize()):this.positionChildren(e)}},{key:"isBlocked",value:function(){if(T.theme.isClassic)return!1;var e=$.getTopNameSpace(),t=$.getCurrentNameSpace(),n=$.getBlocker(t.name);return null!=e&&null!=n&&n.visible}},{key:"setEnabled",value:function(e,t){this.enabled!=e&&(this.enabled=e,e?B(this.el,"cs-disabled"):R(this.el,"cs-disabled"),this.el.setAttribute("aria-disabled",!e));var n=this.el.getAttribute("data-tabindex");null!=n&&this.el.setAttribute("tabindex",t&&!e||this.isBlocked()?-1:n)}},{key:"setVisibility",value:function(e,t){var n=this.visible!==e,r=!1;return"no-reflow"===this.visibility?(this.el.style.visibility=e?"visible":"hidden",this.el.style.pointerEvents=e?"":"none"):"reflow"===this.visibility&&(this.el.style.display=e?"block":"none",r=!0),t&&(this.layoutDefaultVisible=e),this.visible=e,n&&j(this,"viewLogic.didChangeVisibility")&&this.viewLogic.didChangeVisibility(e),r}},{key:"ariaVisibleWithChildren",value:function(){this.el.setAttribute("aria-hidden",!this.children.some((function(e){return e.visible})))}},{key:"childVisibilityChanged",value:function(){null!=this.childVisibilityChangedHook?this.childVisibilityChangedHook():null!=this.parent&&this.parent.childVisibilityChanged()}},{key:"update",value:function(e){null==this.beforeUpdateHook||e||this.beforeUpdateHook(),this.updateSize(),this.updateTrans(),null!=this.updateHook&&this.updateHook()}},{key:"updateChildren",value:function(e){this.children.forEach((function(t){t.update(),e&&t.updateChildren(e)}))}},{key:"doTextCalcs",value:function(){var e=1/x.getScale(),t=this.content.style.width,n=this.el.style.display;DS.flagManager.localizationPlatform&&(this.el.style.display="block",this.content.style.width="fit-content");var r=this.content.clientWidth*e,i=this.content.clientHeight*e;DS.flagManager.localizationPlatform&&(this.content.style.width=t,this.el.style.display=n),this.lastWidthByText=r+4+this.padLeft+this.padRight,this.lastHeightByText=i+4}},{key:"wasAppended",value:function(){var e=this;this.calcTextSize&&this.doTextCalcs(),null!=this.childViews&&this.childViews.forEach((function(t){"string"==typeof t&&(t=$.getOrCreateView(t)),t.init(e.nameSpace),e.append(t)}))}},{key:"setChildNum",value:function(e){this.defaultChildNum=e}},{key:"hasAllChildren",value:function(){return this.hasInitialized&&this.children.length===this.defaultChildNum}},{key:"append",value:function(e,t){if(e.parent=this,this.children[E.camelCase(e.nameKey)]=e,t?this.children.unshift(e):this.children.push(e),this.noContent||e.outsideContent?this.el.appendChild(e.el):this.content.appendChild(e.el),e.wasAppended(),e.update(),null==e.nameSpace){for(var n=this;null!=n&&null==n.nameSpace;)n=n.parent;e.nameSpace=n.nameSpace,$.hasNamespace(n.nameSpace)?$.getNamespace(n.nameSpace)[e.nameKey]=e:console.warn("could not find namespace ".concat(n.nameSpace," when appending"))}}},{key:"destroy",value:function(){var e,t;null!=this.children&&this.children.forEach((function(e){return e.destroy()})),null==this||null===(e=this.viewLogic)||void 0===e||null===(t=e.teardown)||void 0===t||t.call(e),null!=this.el.parentNode&&this.el.parentNode.removeChild(this.el),this.nameSpace=null}},{key:"startFloat",value:function(){this.floating=!0,this.lastFloatParent=this.el.parentNode,this.shouldReparent&&$.getNamespace(this.nameSpace).wrapper.el.appendChild(this.el)}},{key:"endFloat",value:function(){this.floating&&(this.floating=!1,this.shouldReparent&&this.lastFloatParent.appendChild(this.el))}},{key:"right",value:function(){return this.floating?0:this.x+this.w}},{key:"bottom",value:function(){return this.floating?0:this.y+this.h}},{key:"getBox",value:function(){if(null==$.getNamespace(this.nameSpace).wrapper)return null;var e=T.theme.isClassic&&$.getNamespace(this.nameSpace).wrapper.dimScale||1,t=($.getNamespace(this.nameSpace).wrapper.scale||1)*e,n=this.x,r=this.y,i=this.w,o=this.h,a=this.offsets,l=(a=void 0===a?{}:a).l,c=void 0===l?0:l,s=a.t,u=this;for(n=(n+c)*t,r=(r+(void 0===s?0:s))*t;u=u.parent;){var f=null!=u.parent?t:1,d=u.offsets,h=(d=void 0===d?{}:d).l,p=void 0===h?0:h,y=d.t,v=void 0===y?0:y;n+=(u.x+p)*f,r+=(u.y+v)*f}return{x:n,y:r,w:i*=t,h:o*=t}}}],n&&S(t.prototype,n),r&&S(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();q.propFns={"fit-to-text-w":function(){return Math.max(this.minW,this.lastWidthByText)+this.wPad},"fit-to-text-h":function(){return Math.max(this.minH,this.lastHeightByText)},"vertical-center":function(){return this.parent.h/2-this.h/2},"horizontal-center":function(){return this.parent.w/2-this.w/2}},q.prop=function(e,t,n){if("number"==typeof n)e[t]=n;else if("string"==typeof n&&null!=q.propFns[n])Object.defineProperties(e,m({},t,{get:q.propFns[n],set:E.noop}));else if("string"==typeof n&&n.endsWith("%")){var r=parseFloat(n)/100,i=null!=N[t]?N[t]:t;Object.defineProperties(e,m({},t,{get:function(){return this.parent[i]?e.parent[i]*r:0},set:E.noop}))}else if(E.isFunction(n)){var o;if("w"===t||"h"===t){var a=n.bind(e),l=t.toUpperCase(),c=e["min".concat(l)],s=e["max".concat(l)];o=function(){var e=a();return e<c?e=c:e>s&&(e=s),e}.bind(e)}else o=n;Object.defineProperties(e,m({},t,{get:o,set:E.noop}))}else e[t]=n;e[t]=n};var Z={},Q={},Y={},X=function(e){var t,n,r=b(e);return"string"===r?t=e:"object"===r?n=e[t=Object.keys(e)[0]]:console.warn("invalid view definition. ".concat(e," is a ").concat(b(e))),{viewName:t,children:n}},$={nameSpaces:{},nsStack:[],iconTextEl:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return DS.detection.deviceView.isMobile?"":'<div class="frame-icon-text"\n      style="'.concat(t,'">').concat($.model.getString(e),"</div>")},getNamespace:function(e){return this.nameSpaces[e]},hasNamespace:function(e){return null!=this.nameSpaces[e]},setModel:function(e){return this.model=e,this},resetStates:function(e){var t=this.getNamespace(e);E.forEach(t,(function(e){return e&&e.setEnabled&&e.setEnabled(!0)}))},updateVisibility:function(e,t){var n=!1;for(var r in e){var i=this.nameSpaces[t][r];if(null!=i)i.setVisibility(e[r],!0)&&(n=!0)}return n},def:function(e,t,n){null==n?t.nameKey=e:n.nameKey=e;var r=new q(t,n);return null==Z[e]?(Z[e]=r,Q[e]={ViewLogic:t,p:n},Y[e]=0):console.warn("views connot share the same name ".concat(e)),r},addNameSpace:function(e){O=e,this.nameSpaces[O]=this.nameSpaces[O]||{name:e,topLevelElements:[],isAttached:!0,tabReachable:!0,detach:function(){this.isAttached=!1,this.topLevelElements.forEach((function(e){return H.removeChild(e.el)}))},reattach:function(){this.isAttached=!0,this.topLevelElements.forEach((function(e){return H.appendChild(e.el)}))},updateTabIndex:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=function(t){if(!t.dataset.leavealone){var n=t.getAttribute("data-tabindex");null==n&&(n=t.tabIndex,t.setAttribute("data-tabindex",n)),t.tabIndex=e.tabReachable?n:-1}};this.topLevelElements.forEach((function(r){var i=function(e,t){t?e.el.removeAttribute("aria-hidden"):e.el.setAttribute("aria-hidden",!0)};t&&(r.children.some((function(e){return"startoverlay"===e.nameKey}))?r.children.filter((function(e){return"startoverlay"!==e.nameKey})).forEach((function(t){return i(t,e.tabReachable)})):i(r,e.tabReachable)),r.el.querySelectorAll("[tabIndex]:not(.acc-shadow-el):not(.slide-object)").forEach((function(e){return n(e)})),"lightBoxClose"===r.nameKey&&n(r.el)}))}}},update:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){e.forEach((function(e){E.isFunction(e)?e():Array.isArray(e)?update(e,t):null==e||!e.update||e.noUpdate&&!t||(e.update(),t&&e.updateHtml())}))})),getViewConfig:function(e){var t=Q[e];return{name:e,ViewLogic:t.ViewLogic,p:t.p}},getOrCreateView:function(e){if(++Y[e]>1){var t=Q[e],n=t.ViewLogic,r=t.p;return new q(n,r)}return Z[e]},tree:function(e,t){for(var n=this,r=[],i=function t(r){if(null!==r){var i=X(r),o=i.viewName,a=i.children,l=n.nameSpaces[e][o]=n.getOrCreateView(o);if(null!=l){if(l.nameSpace=e,j(a,"length")>0){l.setChildNum(a.length),l.hasChildren=!0;for(var c=0;c<a.length;c++)t(a[c])}}else console.warn("could not find view '".concat(o,"'"))}},o=function t(i,o){if(null!==i){var a=X(i),l=a.viewName,c=a.children,s=n.nameSpaces[e][l];if(null!=s){if(s.init(e),null!=o?o.append(s):n.nameSpaces[e].topLevelElements.push(s),null!=s.childDef&&s.childDef(),r.push(s),s.hasChildren)for(var u=0;u<c.length;u++)t(c[u],s)}else console.warn("could not find view '".concat(l,"'"))}},a=0;a<t.length;a++)i(t[a]);for(var l=0;l<t.length;l++)o(t[l]);return r},getCurrentNameSpace:function(){return this.nameSpaces[O]},getTopNameSpace:function(){return E.last(this.nsStack)},getCurrentNameSpaceString:function(){return O},getFrameNameSpace:function(){return this.nameSpaces[M]},getBlocker:function(e){switch(e){case DS.constants.refs.FRAME:return $.getNamespace(e).frameBlocker;case"LightboxWnd":return $.getNamespace(e).lightBoxBlocker;case"LightboxControlsWnd":return $.getNamespace(e).lightBoxControlsBlocker;default:return null}}};function J(e){return function(e){if(Array.isArray(e))return e}(e)||ne(e)||te(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ee(e){return function(e){if(Array.isArray(e))return re(e)}(e)||ne(e)||te(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function te(e,t){if(e){if("string"==typeof e)return re(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?re(e,t):void 0}}function ne(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ie,oe=DS,ae=oe._,le=oe.pubSub,ce=oe.events,se={},ue=!1,fe={},de={},he=function(e){try{var t=ee(document.styleSheets).find(e);ie=ee(t.rules)}catch(e){}};if(he((function(e){return null!=e.href&&e.href.includes("output.min.css")})),le.on(ce.scheme.CHANGED,(function(e){he((function(t){return null!=t.ownerNode&&t.ownerNode.id===e})),fe={},se.initializeCssColorVars()})),null!=ie){var pe=function(e,t){var n,r;if(ue){n="".concat(t,".cs-").concat($.model.frame.default_layout);var i=e.split(" ");r=(i=i.map((function(e){return(e.startsWith(".")?".":"")+ae.compact(e.split(".")).reverse().join(".")}))).join(" ")}else{$.model;n=".cs-".concat($.model.frame.default_layout).concat(t),r=e}return"".concat(n," ").concat(r)};se.getColor=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=pe(t,r);if(null==fe[i]){var o=ie.find((function(e){return e.selectorText===i}));null==o&&(ue=!ue,i=pe(t,r),o=ie.find((function(e){return e.selectorText===i}))||{}),fe[i]=o.style||{}}return fe[i][n]||""}}else{se.usePolyfill=!0;var ye=function(e,t){var n=document.createElement(e);return n.setAttribute("class",t),n},ve=/^\./,be=/\./g;se.getColor=function(e,t,n){var r,i,o=(arguments.length>4&&void 0!==arguments[4]&&arguments[4]||t).split(/\s+/),a=$.getNamespace(e).wrapper.el;o.forEach((function(e,t){if(ve.test(e))c=e.replace(be," "),r=ye("div",c);else{var n=J(e.split(".")),o=n[0],l=n.slice(1);r=ye(o,l.join(" "))}var c;0===t&&(r.style.position="absolute",r.style.display="none",i=r),a.appendChild(r),a=r}));var l=window.getComputedStyle(r).getPropertyValue(n);return""===l&&"border-color"===n&&(l=window.getComputedStyle(r).getPropertyValue("border-top-color")),i.parentNode.removeChild(i),l||""}}se.initializeCssColorVars=function(){de={},se.createCssColorVar("--color-messagebox-title-separator",".message-window-header p","border-bottom-color"),se.createCssColorVar("--color-messagebox-button-border",".message-window button.slide-object-button","border-color"),se.createCssColorVar("--color-messagebox-button-hover",".message-window button.slide-object-button:hover","background-color","",".resources .resources-list a.button-tapped")},se.createCssColorVar=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!de[e]){var o="";if(se.usePolyfill){var a=Object.keys($.nameSpaces);if(0===a.length)return void requestAnimationFrame((function(){se.createCssColorVar(e,t,n,r,i)}));o=a[0]}var l=se.getColor(o,t,n,r,i);if(!ae.isEmpty(l)&&e)de[e]=!0,document.getElementById("preso").style.setProperty(e,l)}};var me=se;function ge(e){return ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ge(e)}function we(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Se(r.key),r)}}function Se(e){var t=function(e,t){if("object"!==ge(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ge(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ge(t)?t:String(t)}var ke=DS,Oe=ke.detection,Ce=ke.pubSub,Ee=ke.events,xe=327,Te=new(function(){function e(){var t,n,r,i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t=this,r=function(){i.scale=Math.min(window.innerWidth/i.ratioW,window.innerHeight/i.ratioH),i.scale>1&&i.preventUpscale&&(i.scale=1),i.scaledRatioH=i.ratioH*i.scale,i.scaledRatioW=i.ratioW*i.scale},(n=Se(n="onResize"))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,this.scale=1,this.ratioW=720,this.ratioH=540,this.isMobileChrome=Oe.os.isIOS&&Oe.browser.isChrome,Oe.deviceView.isMobile?this.isScaled=!0:this.setScaleMode(),DS.flagManager.playerSizeOption&&this.isLockedFit&&(window.addEventListener("resize",this.onResize),this.onResize()),Ce.on("frame:modelReady",(function(){var e,t,n,r,o=!$.model.frame.chromeless&&!Oe.env.hideFrame;i.ratioW=null==$||null===(e=$.model)||void 0===e?void 0:e.slideWidth,i.ratioH=null==$||null===(t=$.model)||void 0===t?void 0:t.slideHeight,i.preventUpscale=null==$||null===(n=$.model)||void 0===n||null===(r=n.frame)||void 0===r?void 0:r.preventUpscale,!$.model.sidebarOpts.closed&&$.model.sidebarOpts.sidebarEnabled||(xe=0),o&&(i.ratioW+=xe,i.ratioH+=130),i.onResize()})),this.setupFullScreen()}var t,n,r;return t=e,(n=[{key:"setupFullScreen",value:function(){var e=this;document.addEventListener("fullscreenchange",(function(){var t,n=null!=document.fullscreenElement,r="preso"===(null===(t=document.fullscreenElement)||void 0===t?void 0:t.id);n&&!r?e.forcePlayerScaled():e.playerScaleIsForced&&e.setScaleMode(),Ce.trigger(Ee.frameWindow.FULLSCREEN,{preso:n&&r})}))}},{key:"setScaleMode",value:function(){this.isLockedFit="LockedFit"===window.globals.scale,this.isLocked="Locked"===window.globals.scale,this.isScaled="Scaled"===window.globals.scale,Ce.trigger(Ee.frame.REFLOW),Ce.trigger(Ee.frame.SCALE)}},{key:"forcePlayerScaled",value:function(){this.isLockedFit=this.isLocked=!1,this.isScaled=!0,this.playerScaleIsForced=!0}},{key:"shouldUseCache",value:function(){return this.isMobileChrome&&document.activeElement.classList.contains("acc-textinput")}},{key:"innerWidth",get:function(){return this.isLockedOption?this.isLocked?this.ratioW:this.scaledRatioW:window.innerWidth}},{key:"innerHeight",get:function(){return this.isLockedOption?this.isLocked?this.ratioH:this.scaledRatioH:window.innerHeight}},{key:"minHeight",get:function(){return Math.min(this.innerHeight,window.innerHeight)}},{key:"minWidth",get:function(){return Math.min(this.minWidth,window.innerWidth)}},{key:"x",get:function(){return this.isLockedOption?Math.max(0,(window.innerWidth-this.innerWidth)/2):0}},{key:"y",get:function(){return this.isLockedOption?Math.max(0,(window.innerHeight-this.innerHeight)/2):0}},{key:"height",get:function(){return this.shouldUseCache()?(this.cachedOuterHeight!==this.outerHeight&&(this.cachedHeight=this.outerHeight-(this.cachedOuterHeight-this.cachedHeight),this.cachedOuterHeight=this.outerHeight),this.cachedHeight):(this.cachedOuterHeight=this.outerHeight,this.cachedHeight=this.innerHeight,this.innerHeight)}},{key:"width",get:function(){return this.innerWidth}},{key:"isLockedOption",get:function(){return DS.flagManager.playerSizeOption&&(this.isLockedFit||this.isLocked)}}])&&we(t.prototype,n),r&&we(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}());DS.frameWindow=Te;var Le=Te;function Pe(e){return Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pe(e)}function _e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==Pe(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Pe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===Pe(o)?o:String(o)),r)}var i,o}var je,De,Ie,Ae,Re=DS,Be=Re.dom,Me=Re._,He=Re.detection,Ne=Re.pubSub,Fe=Re.events,Ve=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Me.bindAll(this,"onLoaderShow","onLoaderMute","onLoaderUnmute","onLoaderHide","onRemoveLoaderTitle");var t={};t[Fe.loader.SHOW]=this.onLoaderShow,t[Fe.loader.MUTE]=this.onLoaderMute,t[Fe.loader.UNMUTE]=this.onLoaderUnmute,t[Fe.loader.HIDE]=this.onLoaderHide,t[Fe.loader.REMOVE_TITLE]=this.onRemoveLoaderTitle,t[Fe.startOverlay.READY]=this.onLoaderHide,Be.addClass(document.body,"theme-".concat(window.globals.themeName)),document.body.classList.contains("view-tablet")&&Be.addClass(document.body,"is-touchable-tablet"),He.env.is360&&!Le.isLockedOption&&Be.addClass(document.body,"is-360"),Ne.on(t),this.setupBrandingColor()}var t,n,r;return t=e,(n=[{key:"setupBrandingColor",value:function(){window.requestAnimationFrame((function(){var e=me.getColor(DS.constants.refs.FRAME,".cs-brandhighlight-bg","background-color",".cs-base.cs-custom-theme");null!=e&&(DS.constants.theme.brandingHighlight=e,Ne.trigger(Fe.app.BRANDING_COLOR,e))}))}},{key:"onRemoveLoaderTitle",value:function(){var e=document.querySelector("body > .mobile-load-title-overlay");null!=e&&e.parentNode.removeChild(e)}},{key:"getSpinLoader",value:function(){return document.querySelector("body > .slide-loader")}},{key:"onLoaderMute",value:function(){var e=this.getSpinLoader();null!=e&&(e.style.opacity=0)}},{key:"showLoaderDelayed",value:function(e){clearTimeout(this.loaderTimeout),this.loaderTimeout=setTimeout(this.onLoaderShow,e)}},{key:"onLoaderHide",value:function(){clearTimeout(this.loaderTimeout),this.getSpinLoader().style.display="none",Be.addClass(document.getElementById("preso"),"hide-slide-loader"),Ne.trigger(Fe.app.HIDE_LOADER)}},{key:"onLoaderUnmute",value:function(){var e=this.getSpinLoader();null!=e&&(e.style.opacity=1)}},{key:"onLoaderShow",value:function(e){e>0?this.showLoaderDelayed(e):(this.getSpinLoader().style.display="block",Be.removeClass(document.getElementById("preso"),"hide-slide-loader"),Ne.trigger(Fe.app.SHOW_LOADER))}}])&&_e(t.prototype,n),r&&_e(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),We=DS,Ue=We.globalEventHelper.addWindowListener,ze=We.events,Ke=ze.ds,Ge=Ke.FRAME_DATA_LOADED,qe=Ke.PRESO_READY,Ze=ze.window.STACKING_CHANGED,Qe=ze.frame,Ye=Qe.MODEL_READY,Xe=Qe.SCALE,$e=ze.resume.SET_DATA,Je=ze.startOverlay.READY,et=ze.controlOptions.RESET,tt=ze.sidebar.ACTIVE_TAB_SET,nt=ze.renderTree.DESTROYED,rt=We.constants,it=(rt.els.PRESO,rt.refs.FRAME),ot=We.detection.theme,at=We.pubSub,lt=We.focusManager,ct=(We.flagManager,We.playerGlobals),st=We.stringTabler,ut=We.shortcutManager,ft=We.dom,dt={},ht=function(e){var t=$.nsStack.indexOf(e);t>=0&&$.nsStack.splice(t,1)},pt=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];$.nsStack.forEach((function(t,n,r){t.tabReachable=n===r.length-1&&e,t.updateTabIndex()}))},yt=function(e){je={createWindow:function(t,n){var r,i,o,a,l,c=this,s=$.getNamespace(t),u=function(){return function(e){var t=$.getNamespace(e),n=t.isAttached;t.reattach(),ht(t),$.nsStack.push(t),n||dt[e].all();var r=$.nsStack.length;$.nsStack.forEach((function(e,t){var n=e.slide.el;t===r-1?(ft.addClass(n,"primary-slide"),ft.removeClass(n,"secondary-slide")):(ft.removeClass(n,"primary-slide"),ft.addClass(n,"secondary-slide"))})),pt(),at.trigger(Ze,e)}(t)},f=function(e,n,r){if(e===t){var i=r?r.getWndBlockerBackground():"",o=$.getBlocker(e);null!=o&&(o.setBackgroundColor(i),o.setVisibility(n)),s.tabReachable=!n,s.updateTabIndex(!1)}};(null==s&&($.addNameSpace(t),i=e[t](De),r=_.flow(Ue("resize",(function(){i.resize(),at.trigger(Xe)})),DS.pubSub.addListener(DS.events.utilityWindow.DOCKED,(function(){i.resize(),at.trigger(Xe)}))),t===it?De.setLayout(De.frame.default_layout,it):i.all(),s=$.getNamespace(t),dt[t]=i,s.moveToTop=u,ot.isUnified&&(at.on(DS.events.frameModel.BLOCKED_CHANGED,f),at.on(DS.events.window.MAIN_CHANGED,(function(e,t){return f(t,!1)})))),u(),at.on(et,(function e(){var t=function(){var e=[],t=$.getNamespace(it).tabs.viewLogic.getSelectedTab();return t&&e.push(t.nameKey),_.each($.getNamespace(it).topTabs.children,(function(t){_.each(_.filter(t.children,"viewLogic.showing",!0),(function(t){return e.push(t.nameKey)}))})),e}();ht($.getNamespace(it)),i.destroy(),DS.pubSub.trigger(nt),$.nameSpaces[it]=null,r(),at.off(et,e),c.createWindow("_frame"),i.rerender(),t.forEach((function(e){at.trigger(tt,e)}))})),null!=n)&&(null===(o=s.slide)||void 0===o||null===(a=o.viewLogic)||void 0===a||null===(l=a.setPromptId)||void 0===l||l.call(a,n));return{id:t,promptId:n,el:s.slide.el,wndEl:s.wrapper.el,captionEl:(s.captionContainer||{}).el,x:function(){return s.wrapper.x},y:function(){return s.wrapper.y},close:function(){s.zoomBounds=null,s.detach(),ht(s),$.nsStack[$.nsStack.length-1].moveToTop(),lt.reCenter()},moveToTop:u,getWinScale:function(){return s.slide.winScale||1},getPinchZoomBounds:function(){return s.slide.pinchZoomBounds},onPinchZoom:dt[t].pinchZoom?function(e){s.zoomBounds=e,dt[t].pinchZoom()}:function(){},onWndBlockedChanged:f}},getSidebarPosition:function(){return De.sidebarOpts.sidebarPos},getDefaultLayout:function(){return Ie.default_layout},getFonts:function(){return Ie.fonts},getFontScale:function(){return De.frame.fontscale},getCaptionData:function(){var e=De.frame.controlOptions.controls,t={font:e.font,enabled:e.closed_captions},n=De.frame.controlOptions.ccOptions||{};return t.font=n.font,t.size=n.size,t.placement=n.placement,t.backgroundColor=n.backgroundColor,t.color=n.color,t.text=n.text,t},getNavData:function(){return De.frame.navData.outline.links},isReadOnlyOnce:function(){return Ie.controlOptions.controls.readonlyOnce},topmostUnreachable:function(){return $.nsStack},setAllAccVisibility:function(e){_.forEach($.nameSpaces,(function(t){var n=t.wrapper;e?n.el.removeAttribute("aria-hidden"):n.el.setAttribute("aria-hidden",!0)}))}},at.on($e,pt),at.on(Je,(function(){pt(!1)})),ct.player=je},vt=function(){je.hasData=!0,at.trigger(Ge,je)},bt=10,mt=20,gt=46;function wt(e){return wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wt(e)}function St(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==wt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==wt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===wt(o)?o:String(o)),r)}var i,o}var kt,Ot=DS.utils,Ct=Ot.scaleVal,Et=Ot.pxify,xt=10,Tt=function(e){return Et(Ct(e,!1))},Lt=function(e){return Et(Ct(e))},Pt=function(e){return"scale(".concat(Ct(e,!1),")")},_t=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.model=t}var t,n,r;return t=e,(n=[{key:"calcStyles",value:function(){return"\n      .cs-".concat(this.model.frame.default_layout,".cs-base {\n        border-width: ").concat(Tt(1)," !important;\n      }\n\n      #frame {\n        border-radius: ").concat(Lt(xt),";\n      }\n\n      .btn {\n        border-radius: ").concat(Tt(7),";\n      }\n\n      #nav-controls .btn svg,\n      #light-box-bottom .btn svg {\n        width: ").concat(Lt(8),";\n        height: ").concat(Lt(11),";\n      }\n\n      #reset svg {\n        width: ").concat(Lt(18),";\n        height: ").concat(Lt(16),";\n      }\n\n      .search-heading {\n        padding: ").concat(Lt(xt),";\n        margin: 0;\n        padding-bottom: ").concat(Lt(12),";\n      }\n\n      #outline-search {\n        padding: ").concat(Lt(xt),'\n      }\n\n      .search input[type="search"] {\n        height: ').concat(Lt(28),";\n        width: calc(100% - ").concat(Lt(25),");\n        border-top-left-radius: ").concat(Tt(4),";\n        border-bottom-left-radius: ").concat(Tt(4),";\n      }\n\n      #outline-search button {\n        width: ").concat(Lt(25),";\n        height: ").concat(Lt(28),";\n        border-top-right-radius: ").concat(Tt(4),";\n        border-bottom-right-radius: ").concat(Tt(4),";\n      }\n\n      .icon-search {\n        width: ").concat(Lt(14),";\n        height: ").concat(Lt(14),";\n      }\n\n      #outline-content > ul {\n        padding: ").concat(Lt(1)," ").concat(Lt(3)," ").concat(Lt(2),";\n      }\n\n      #outline-content svg {\n        width: ").concat(Lt(20),";\n        height: ").concat(Lt(20),";\n      }\n\n      .note-content, .note-title, #transcript-content hr,\n      .resources-content, .resources-title, #resources-content hr,\n      #search-results-content hr {\n        margin-left: ").concat(Tt(xt),";\n        margin-right: ").concat(Tt(xt),";\n      }\n\n      .resources-title, .note-title {\n        margin-top: ").concat(Tt(xt),";\n        margin-bottom: ").concat(Tt(xt),";\n      }\n\n      hr {\n        border-width: ").concat(Tt(1),";\n        width: calc(100% - ").concat(Tt(20),");\n      }\n\n      #transcript-content hr {\n        top: ").concat(Tt(2),";\n      }\n\n      .glossary-title {\n        padding: ").concat(Lt(xt),";\n      }\n\n      .term button {\n        padding-top: ").concat(Lt(7),";\n        padding-right: ").concat(Lt(10),";\n        padding-bottom: ").concat(Lt(7),";\n        padding-left: ").concat(Lt(10),";\n      }\n\n      #captions {\n        border-radius: ").concat(Tt(7),";\n      }\n\n      #captions svg {\n        width: ").concat(Lt(22),";\n        height: ").concat(Lt(18),";\n      }\n\n      #light-box-close svg {\n        width: ").concat(Lt(10),";\n        height: ").concat(Lt(10),";\n      }\n\n      .message-window {\n        border-width: ").concat(Tt(1),";\n      }\n\n      .message-window-header {\n        padding-right: ").concat(Lt(10),";\n        padding-left: ").concat(Lt(10),";\n      }\n\n      .message-window-header hr {\n        right: ").concat(Lt(10),";\n        left: ").concat(Lt(10),";\n      }\n\n      .message-window-header hr + hr {\n        bottom: ").concat(Lt(1),";\n      }\n\n      .volume-panel {\n        border-radius: ").concat(Tt(7),"\n      }\n\n      .volume-panel .btn {\n        height: ").concat(Tt(30),";\n      }\n\n      .volume-panel .slider-bar {\n        transform: ").concat(Pt(1),";\n      }\n\n      /* search results */\n      .icon-gear {\n        width: ").concat(Tt(14),";\n        height: ").concat(Tt(14),";\n      }\n\n      .search-results li div {\n        padding-left: ").concat(Lt(20),";\n      }\n\n      .search-results {\n        padding: ").concat(Lt(1)," ").concat(Lt(3),";\n      }\n\n      .search-filter {\n        top: ").concat(Tt(7),";\n        right: ").concat(Tt(5),';\n      }\n\n      .search-options input[type="checkbox"] {\n        transform: ').concat(Pt(1),";\n      }\n\n      .search-options p {\n        margin-left: ").concat(Lt(10),";\n        margin-right: ").concat(Lt(10),";\n      }\n\n      .search-options label {\n        margin-left: ").concat(Lt(10),";\n        margin-right: ").concat(Lt(10),";\n      }\n\n      .search-content {\n        height: calc(100% - ").concat(Tt(40),");\n      }\n\n      .search-clear {\n        padding: 0 ").concat(Tt(8),";\n      }\n\n      .search-clear svg {\n        height: ").concat(Tt(14),";\n        width: ").concat(Tt(13),";\n      }\n\n      .search-options {\n        height: ").concat(Tt(80),";\n      }\n\n      #light-box-bottom button {\n        height: ").concat(Tt(28)," !important;\n      }\n\n    ")}},{key:"update",value:function(){null!=kt&&kt.parentNode.removeChild(kt),kt=document.createElement("style"),document.body.appendChild(kt),kt.innerHTML=this.calcStyles()}}])&&St(t.prototype,n),r&&St(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function jt(e){return jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jt(e)}function Dt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==jt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==jt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===jt(o)?o:String(o)),r)}var i,o}var It,At=DS,Rt=At.dom,Bt=At._,Mt=At.pubSub,Ht=At.detection,Nt=At.frameWindow,Ft=At.globalEventHelper.addWindowListener,Vt=At.events,Wt=Vt.slide.HAS_MOUNTED,Ut=Vt.frame.SCALE,zt=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),"show all"!==window.globals.scale&&(this.el=t.el,Bt.bindAll(this,"onResize"),this.removeListener=Ft("resize",this.onResize),Mt.once(Wt,this.onResize),DS.flagManager.playerSizeOption&&Mt.on(Ut,this.onResize))}var t,n,r;return t=e,(n=[{key:"onResize",value:function(){var e=document.body;DS.flagManager.playerSizeOption?Ht.theme.isUnified&&!Nt.isLocked||!(e.clientHeight<this.el.clientHeight||e.clientWidth<this.el.clientWidth)?Rt.removeClass(e,"has-scrollbar"):Rt.addClass(e,"has-scrollbar"):e.clientHeight<this.el.clientHeight||e.clientWidth<this.el.clientWidth?Rt.addClass(e,"has-scrollbar"):Rt.removeClass(e,"has-scrollbar")}},{key:"teardown",value:function(){null!=this.removeListener&&this.removeListener()}}])&&Dt(t.prototype,n),r&&Dt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Kt="wrapper",Gt=DS,qt=Gt.utils.scaleVal,Zt=Gt.scaler;$.def(Kt,zt,(function(){var e=$.model,t=e.preso.display().width(),n=e.preso.display().height();return{attrs:{id:Kt,class:"cs-base cs-".concat(e.frame.default_layout," fn-").concat(e.frame.default_layout)},style:{fontSize:"".concat(Zt.getScaledFontSize(),"%")},w:t,h:n,origin:"0 0",dimScale:function(){return Zt.getScale()},html:function(){return'<div id="frame-overlay" style="z-index:'.concat(999,';"></div>')},x:function(){var e=qt(t),n=e>window.innerWidth;return Math.max(0,n?0:Math.ceil((window.innerWidth-e)/2))},y:function(){var e=qt(n),t=e>window.innerHeight;return Math.max(0,t?0:Math.ceil((window.innerHeight-e)/2))},updateHook:function(){this.el.style.fontSize="".concat(Zt.getScaledFontSize(),"%")},add:!0}}));var Qt,Yt="-20px",Xt="-30px";var $t={setTooltipOn:function(e,t,n){var r,i,o=t.left,a=t.top,l=t.width,c=t.height;null==It&&(r=$.model,i=me.getColor(DS.constants.refs.FRAME,".cs-button .cs-icon","fill"),(It=document.createElement("div")).id="tooltip",It.style.left=Yt,It.style.top=Xt,It.style.borderColor=i,It.classList.add("cs-base","cs-".concat(r.frame.default_layout)),document.getElementById("app-top").appendChild(It),It.addEventListener("mouseleave",$t.runObjHoverOut)),Qt=e,It.style.display="block",It.innerText=n;var s=It.getBoundingClientRect().width,u=window.innerWidth,f=o+(l/2-s/2);f+s>=u-10?f=u-10-s:f<=10&&(f=10);var d=a-(c+10);d<=10&&(d=a+c+10),It.style.left="".concat(f,"px"),It.style.top="".concat(d,"px")},hideTooltip:function(e){null==It||null!=e&&e!==Qt||(It.style.display="none",It.innerText="",It.style.left=0,Qt=void 0)},updateTooltip:function(e,t){var n=It.getBoundingClientRect().width;It.innerText=t,It.style.left="".concat(e-n/2,"px")},runObjHoverOut:function(){null!=Qt?Qt.onHoverOut():$t.hideTooltip()}},Jt=$t;function en(e){return en="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},en(e)}function tn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==en(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==en(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===en(o)?o:String(o)),r)}var i,o}var nn=DS,rn=nn.dom,on=nn.pubSub,an=nn.events,ln=nn._,cn=nn.constants,sn=nn.keyManager,un=nn.focusManager,fn=(nn.flagManager,nn.stringTabler),dn=nn.detection,hn="click",pn=function(){return dn.deviceView.isUnifiedDesktop},yn=function(){function e(t){var n=this;for(var r in function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.el=t.el,this.view=t,this.model=t.model,t.children)this[r+"El"]=t.children[r].el;DS.flagManager.localizationPlatform?(t.simpleView||(DS._.bindAll(this,"onFocus","onBlur","onLayoutChange"),this.el.addEventListener("focusin",this.onFocus),this.el.addEventListener("focusout",this.onBlur),on.on(an.frameModel.LAYOUT_CHANGED,this.onLayoutChange)),on.on(an.strings.UPDATE_STRINGS,(function(){return n.onStringsUpdated()}))):(DS._.bindAll(this,"onFocus","onBlur","onLayoutChange"),this.el.addEventListener("focusin",this.onFocus),this.el.addEventListener("focusout",this.onBlur),on.on(an.frameModel.LAYOUT_CHANGED,this.onLayoutChange)),pn()&&(ln.bindAll(this,"onHoverIn","onHoverOut","onMainKeydown"),document.body.addEventListener("mouseenter",this.onHoverOut),this.el.addEventListener("mouseenter",this.onHoverIn),this.el.addEventListener("mouseleave",this.onHoverOut),this.hasTooltip&&this.el.addEventListener("mouseup",this.onHoverOut),document.addEventListener("keydown",this.onMainKeydown))}var t,n,r;return t=e,(n=[{key:"onClick",value:function(e){this.el.addEventListener(hn,e.bind(this))}},{key:"onClickEl",value:function(e,t){e.addEventListener(hn,t.bind(this))}},{key:"on",value:function(e,t){this.el.addEventListener(e,t.bind(this))}},{key:"getViewBox",value:function(){return this.view.getBox()}},{key:"onFocus",value:function(e){var t=this.getViewBox(),n=t.x,r=t.y,i=t.w,o=t.h;DS.flagManager.playerSizeOption&&DS.detection.deviceView.isDesktop&&(n-=window.scrollX,r-=window.scrollY),un.setFocusRectOn(this.el,{left:n,top:r,width:i,height:o}),this.onHoverIn(e),this.hasFocus=!0}},{key:"onBlur",value:function(e){un.takeFocusOff(),this.onHoverOut(e),this.hasFocus=!1}},{key:"getTooltipString",value:function(){return fn.getString(this.tooltipKey)}},{key:"onHoverIn",value:function(e){var t=this;if(pn()&&this.hasTooltip&&(null==this.hideTooltipWhenOpen||!this.isOpen)){var n=this.getTooltipString(e);if(null==n&&"seek"===this.view.nameKey)return void setTimeout((function(){return t.onHoverIn(e)}),200);Jt.hideTooltip();var r=this.getViewBox(e),i=r.x,o=r.y,a=r.w,l=r.h;DS.flagManager.playerSizeOption&&DS.detection.deviceView.isDesktop&&(i-=window.scrollX,o-=window.scrollY),Jt.setTooltipOn(this,{left:i,top:o,width:a,height:l},n),this.tooltipMoves&&this.setForFollowMouse(),this.tooltipOn=!0}}},{key:"dismissTooltip",value:function(){Jt.hideTooltip(this),this.tooltipMoves&&this.stopFollowMouse(),this.tooltipOn=!1}},{key:"onHoverOut",value:function(){var e=this;pn()&&this.hasTooltip&&this.tooltipOn&&setTimeout((function(){var t=document.elementFromPoint(rn.mouseX,rn.mouseY);null!=t&&(e.el.contains(t)||"tooltip"===t.id||e.dismissTooltip())}),200)}},{key:"onMainKeydown",value:function(e){sn.isKey(e.which,cn.keys.ESCAPE)&&(e.stopPropagation(),this.dismissTooltip())}},{key:"teardown",value:function(){on.off(an.frameModel.LAYOUT_CHANGED,this.onLayoutChange),dn.deviceView.isUnifiedDesktop&&(document.body.removeEventListener("mouseenter",this.onHoverOut),this.el.removeEventListener("mouseenter",this.onHoverIn),this.el.removeEventListener("mouseleave",this.onHoverOut),this.el.removeEventListener("mousedown",this.dismissTooltip),document.removeEventListener("keydown",this.onMainKeydown),this.tooltipOn&&(this.onHoverOut(),this.tooltipMoves&&this.stopFollowMouse()))}},{key:"onLayoutChange",value:function(){}},{key:"onStringsUpdated",value:function(){this.view.updateStrings()}}])&&tn(t.prototype,n),r&&tn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function vn(e){return vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vn(e)}function bn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==vn(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==vn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===vn(o)?o:String(o)),r)}var i,o}function mn(e,t){return mn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},mn(e,t)}function gn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=wn(e);if(t){var i=wn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===vn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function wn(e){return wn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},wn(e)}var Sn="frame",kn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mn(e,t)}(o,e);var t,n,r,i=gn(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=i.call(this,e)).onScroll=function(e){e.preventDefault(),t.el.scrollTop=0,t.el.scrollLeft=0},t.el.addEventListener("scroll",t.onScroll),t}return t=o,(n=[{key:"teardown",value:function(){this.el.removeEventListener("scroll",this.onScroll)}},{key:"onFocus",value:function(){}},{key:"onBlur",value:function(){}}])&&bn(t.prototype,n),r&&bn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(yn);function On(e){return On="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},On(e)}function Cn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==On(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==On(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===On(o)?o:String(o)),r)}var i,o}function En(e,t){return En=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},En(e,t)}function xn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ln(e);if(t){var i=Ln(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===On(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Tn(e)}(this,n)}}function Tn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ln(e){return Ln=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ln(e)}$.def(Sn,kn,(function(){var e=$.model;return{attrs:{id:Sn,class:"cs-base cs-".concat(e.frame.default_layout," fn-").concat(e.frame.default_layout)},w:"100%",h:"100%"}}));var Pn,_n,jn=DS,Dn=jn.detection,In=jn.events,An=jn.pubSub,Rn=function(){return document.getElementById("app-top")||document.body},Bn=DS.utils.pxify,Mn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&En(e,t)}(o,e);var t,n,r,i=xn(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=i.call(this,e)).visualNode=function(){var e=document.createElement("div");e.className="skipnav transparent";var t=function(){e.innerText=$.model.getString("acc_skipnavigation"),Rn().appendChild(e),window.requestAnimationFrame((function(){_n=e.clientHeight,Pn=e.clientWidth,e.className="skipnav",null!=e.parentNode&&e.parentNode.removeChild(e)}))};return An.on(In.strings.UPDATE_STRINGS,(function(){t()})),t(),e}(),DS._.bindAll(Tn(t),"onButtonClick"),t.onClick(t.onButtonClick),t}return t=o,n=[{key:"onFocus",value:function(){if(!Dn.device.isMobile){DS.focusManager.takeFocusOff();var e=$.getTopNameSpace().slide;if(DS.flagManager.playerSizeOption&&DS.detection.deviceView.isDesktop)Object.assign(this.visualNode.style,{right:"".concat(50,"px"),bottom:"".concat(50,"px")}),e.el.querySelector(".slide-container").style.opacity=.6,e.el.append(this.visualNode);else{var t=e.getBox(),n=t.x,r=t.y,i=t.w,o=t.h;Object.assign(this.visualNode.style,{top:Bn(r+o-_n-50),left:Bn(n+i-Pn-50)}),e.el.style.opacity=.6,Rn().appendChild(this.visualNode)}An.trigger(In.skipNav.FOCUSED)}}},{key:"onBlur",value:function(){var e=$.getTopNameSpace().slide,t=this.visualNode.parentNode;DS.flagManager.playerSizeOption&&DS.detection.deviceView.isDesktop?e.el.querySelector(".slide-container").style.opacity=1:e.el.style.opacity=1,null!=t&&t.removeChild(this.visualNode)}},{key:"onButtonClick",value:function(e){this.el.focus(),setTimeout((function(){DS.focusManager.onSlideStarted(null,DS.windowManager.getCurrentWindowSlide())}),100)}}],n&&Cn(t.prototype,n),r&&Cn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(yn),Hn=Mn,Nn="skipnav";function Fn(e){return Fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fn(e)}function Vn(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Fn(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Fn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Fn(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}$.def(Nn,Hn,(function(){var e=$.model,t=e.getString("acc_skipnavigation");return{tag:"button",ariaStringId:"acc_skipnavigation",attrs:{id:Nn,"aria-label":t,tabindex:0},visible:e.sidebarOpts.sidebarEnabled,x:-100,y:-100,w:1,h:1,html:t,methods:{updateDomStrings:function(){this.el.textContent=e.getString("acc_skipnavigation")}}}}));var Wn=DS,Un=Wn._,zn=Wn.pubSub,Kn=Wn.events,Gn=Wn.detection,qn=Wn.constants.MOBILE_UI_SIZE,Zn="top ".concat(150,"ms ease-in-out");function Qn(e){return Qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qn(e)}function Yn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==Qn(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Qn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===Qn(o)?o:String(o)),r)}var i,o}function Xn(e,t){return Xn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Xn(e,t)}function $n(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=er(e);if(t){var i=er(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Qn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Jn(e)}(this,n)}}function Jn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function er(e){return er=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},er(e)}var tr=DS,nr=tr.pubSub,rr=tr.events,ir=tr._,or=tr.utils,ar=(tr.flagManager,function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xn(e,t)}(o,e);var t,n,r,i=$n(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=i.call(this,e),ir.bindAll(Jn(t),"onSlideChange","onAriaToggle"),nr.on(rr.slide.HAS_MOUNTED,t.onSlideChange),nr.on(rr.slide.ARIA_TOGGLE,t.onAriaToggle),t.teardownPushableSlide=function(e){var t;if(!Gn.deviceView.isPhone)return Un.noop;function n(){e.view.el.style.transition=null,e.view.el.style.top="0px"}function r(t){e.view.el.style.transition=Zn;var n=.45*window.innerHeight-10,r=-(e.view.bottom()-n),i=e.view.y+r,o=0;i<qn&&Gn.theme.isUnified?o=qn-i+10:i<0&&(o=-1*i+10),e.view.el.style.top="".concat(r+o,"px")}function i(){e.view.el.style.transition=Zn,e.view.el.style.top="".concat(0,"px")}return zn.on((Vn(t={},Kn.threeSixtyImage.UN_PUSH_LABEL,n),Vn(t,Kn.threeSixtyImage.PUSH_UP_BY_LABEL,r),Vn(t,Kn.threeSixtyImage.PUSH_DOWN_BY_LABEL,i),t)),function(){n(),zn.off(Kn.threeSixtyImage.UN_PUSH_LABEL,n),zn.off(Kn.threeSixtyImage.PUSH_UP_BY_LABEL,r),zn.off(Kn.threeSixtyImage.PUSH_DOWN_BY_LABEL,i)}}(Jn(t)),t}return t=o,(n=[{key:"onAriaToggle",value:function(e){e.hidden?(this.el.setAttribute("aria-hidden",!0),this.el.setAttribute("tabindex",0)):(this.el.removeAttribute("aria-hidden"),this.el.removeAttribute("tabindex"))}},{key:"teardown",value:function(){nr.off(rr.slide.HAS_MOUNTED,this.onSlideChange),this.teardownPushableSlide()}},{key:"onSlideChange",value:function(e){null!=this.labelEl&&this.view.nameSpace===e.props.windowId&&(this.labelEl.textContent="".concat($.model.getString("slide"),": ").concat(or.stripTags(e.props.model.title())))}},{key:"onFocus",value:function(){}},{key:"onBlur",value:function(){}}])&&Yn(t.prototype,n),r&&Yn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(yn)),lr="slide";$.def(lr,ar,(function(e){var t=$.getNamespace(e),n=t.frame,r=t.sidebar,i=(t.title,$.model);return{attrs:{id:lr},winScale:function(){return DS.scaler.getScale()},origin:"0 0",w:i.slideWidth,h:i.slideHeight,x:function(){var e=0,t=0;return"left"===r.pos&&(t=r.w),e=r.visible?n.x+t+bt:n.x+n.w/2-this.w/2,e-1},y:function(){var e=n.y+bt;return $.model.hasTopLinks()&&(e+=24),(i.sidebarOpts.titleEnabled||i.sidebarOpts.timeEnabled)&&(e+=23),e},add:!0,html:'<div id="slide-label" data-ref="label" aria-live="polite"></div><main class="slide-container" data-ref="container" aria-live="off" tabindex="-1"></main>',noContent:!0,childViews:["captionContainer"],updateHook:function(){this.children.captionContainer.update()}}}));var cr,sr="logo",ur=DS.utils.scaleVal;$.def(sr,(function(e){var t=$.model,n=$.getNamespace(e).sidebar,r=t.sidebarOpts.html5_logo_url,i=t.sidebarOpts.logoPlaceholderText,o=200,a=150;return{id:sr,attrs:{class:null!=i?"placeholder":"logo cs-logo"},x:function(){return bt},y:bt,w:o+mt,h:function(){return(null!=cr&&r===cr.imgSrc?cr.imgH:a)+mt},html:function(){var e=this;if(null!=i){var t=document.createElement("div");t.className="placeholder-text",t.style.fontSize="2.5em",t.innerText=i,this.el.appendChild(t)}else{this.img=document.createElement("img"),this.img.onload=function(){o=Math.min(e.img.naturalWidth,200),a=e.img.naturalHeight/e.img.naturalWidth*o,cr={imgW:o,imgH:a,imgSrc:r},e.img.width=ur(o),e.img.onload=null,n.updateChildren(!0)};var l=DS.utils.resolveAssetUrl(r);this.img.src=l,this.el.appendChild(this.img)}},updateHook:function(){null!=this.img&&(this.img.width=ur(o))},visible:t.sidebarOpts.logoEnabled}}));var fr="sidebar";$.def(fr,(function(e){var t=$.model,n=$.getNamespace(e).frame;return{tag:"section",attrs:{id:fr,class:"cs-left","aria-label":"sidebar"},style:{zIndex:1},maxW:400,visible:t.sidebarOpts.sidebarEnabled,pos:t.sidebarOpts.sidebarPos,x:function(){var e=0;return"right"===this.pos&&(e=n.w-this.w),e},w:function(){return this.visible?240:0},h:"100%"}}));var dr="topBar";$.def(dr,(function(e){var t=$.getNamespace(e),n=t.sidebar,r=t.frame,i=t.title,o=$.model;return{tag:"section",noTabIndex:!0,attrs:{id:dr,"aria-label":"top bar"},overflow:"visible",x:function(){return"left"===n.pos?n.right():0},w:function(){return r.w-n.w-bt},h:function(){var e=0;return i.visible||o.sidebarOpts.timeEnabled?e=58:o.hasTopLinks()&&(e=34),e},y:0}}));var hr="title";function pr(e){return pr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pr(e)}function yr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return vr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function br(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Or(r.key),r)}}function mr(e,t){return mr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},mr(e,t)}function gr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sr(e);if(t){var i=Sr(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===pr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return wr(e)}(this,n)}}function wr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sr(e){return Sr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Sr(e)}function kr(e,t,n){return(t=Or(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Or(e){var t=function(e,t){if("object"!==pr(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==pr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===pr(t)?t:String(t)}$.def(hr,(function(e){var t=$.model,n=$.model.rtl,r=$.getNamespace(e),i=r.timer,o=r.linksLeft,a=r.linksRight;return{id:hr,tag:"h1",attrs:{class:"presentation-title cs-title ".concat(n?"rtl":""),tabindex:-1},x:n?0:16,y:function(){return(t.hasTopLinks()?8:0)-1},calcTextSize:!0,w:function(){var e=n?5:-10;return this.parent.w-(t.sidebarOpts.timeEnabled?i.w:0)-this.x+e},h:function(){return this.parent.h-16},html:t.title.text,visible:t.sidebarOpts.titleEnabled,updateHook:function(){var e="remove";if(!((n?t.topTabsRight:t.topTabsLeft).length>0)){(n?o:a).calcChildrensWidth((function(e){return"TabPanel"!==e.ViewLogic.name}))+this.lastWidthByText<this.parent.w&&(e="add")}this.el.classList[e]("centered")}}}));var Cr=DS,Er=Cr.detection,xr=Cr.events,Tr=Cr.pubSub,Lr=Cr.svgUtils,Pr=Cr._.bindAll,_r={remaining:function(e,t){return DS.utils.formatSecondsAsTime(t-e,!0)},totalelapsed:function(e,t){return[e,t].map((function(e){return DS.utils.formatSecondsAsTime(e,!0)})).join(" / ")},elapsed:function(e){return DS.utils.formatSecondsAsTime(e,!0)},none:function(){return""}},jr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mr(e,t)}(o,e);var t,n,r,i=gr(o);function o(e){var t,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),kr(wr(n=i.call(this,e)),"updateReadeableTimer",(function(){n.timerTextReadEl.innerHTML=n.timerTextEl.innerHTML})),Pr(wr(n),"onShow","onHide","onTick"),Tr.on((kr(t={},xr.timer.SHOW,n.onShow),kr(t,xr.timer.HIDE,n.onHide),t)),n.timeFormat=n.getTimeFormat(),n.isPieProgress=Er.theme.isUnified,n}return t=o,n=[{key:"getTimeFormat",value:function(){if(!Er.deviceView.isClassicMobile){var e=$.model.sidebarOpts.timeFormat;if(e&&null!=_r[e.toLowerCase()])return e.toLowerCase();if(!$.model.sidebarOpts.timeEnabled)return"none"}return"remaining"}},{key:"teardown",value:function(){var e;Tr.off((kr(e={},xr.timer.SHOW,this.onShow),kr(e,xr.timer.HIDE,this.onHide),e))}},{key:"onTick",value:function(e,t,n){if(this.view.children.timerText.el.innerHTML=_r[this.timeFormat](t,n),!Er.deviceView.isClassicMobile){var r=Lr.wheelPath(9,9,9,0,360*(1-e),this.isPieProgress);this.view.children.timerPath.el.setAttributeNS(null,"d",r)}}},{key:"onShow",value:function(e){null!=this.currentTimer&&this.onHide(),this.currentTimer=e,this.currentTimer.on("tick",this.onTick),Er.deviceView.isDesktop&&(requestAnimationFrame(this.updateReadeableTimer),this.timeReadId=setInterval(this.updateReadeableTimer,7e3)),this.toggleVisibility(!0),window.requestAnimationFrame(DS.pubSub.trigger.bind(DS.pubSub,DS.events.timer.SHOWN))}},{key:"onHide",value:function(){null!=this.currentTimer&&(this.currentTimer.off("tick",this.onTick),this.currentTimer=null,Er.deviceView.isDesktop&&clearTimeout(this.timeReadId),window.requestAnimationFrame(DS.pubSub.trigger.bind(DS.pubSub,DS.events.timer.HIDDEN))),this.toggleVisibility(!1)}},{key:"toggleVisibility",value:function(e){var t=yr(e?["add","remove"]:["remove","add"],2),n=t[0],r=t[1];document.body.classList[n]("timer-shown"),this.el.classList[r]("hidden"),this.el.classList[n]("shown"),this.view.setVisibility(e),this.view.parent.updateChildren(!0)}},{key:"onFocus",value:function(){var e=this.view.children.timerText.el.getBoundingClientRect(),t=e.left,n=e.top,r=e.width,i=e.height;t-=8,n-=8,r+=37,i+=12,DS.focusManager.setFocusRectOn(this.el,{left:t,top:n,width:r,height:i})}}],n&&br(t.prototype,n),r&&br(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(yn),Dr=jr,Ir="timer";function Ar(e){return Ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ar(e)}function Rr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Br(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Br(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Br(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Mr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==Ar(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ar(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===Ar(o)?o:String(o)),r)}var i,o}function Hr(){return Hr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Wr(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Hr.apply(this,arguments)}function Nr(e,t){return Nr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Nr(e,t)}function Fr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Wr(e);if(t){var i=Wr(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Ar(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Vr(e)}(this,n)}}function Vr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wr(e){return Wr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Wr(e)}$.def(Ir,Dr,(function(e){return{noTabIndex:!0,attrs:{id:Ir,"aria-label":"timer",class:"timer cs-timer"},overflow:"visible",x:function(){return $.getNamespace(e).topBar.w-210},y:6,w:200,h:gt,visible:!1,html:'\n      <div class="timer-wheel cs-pie">\n        <svg\n          style="width: 18px; height: 18px; overflow: visible;"\n          width="18"\n          height="18"\n          xmlns:xlink="http://www.w3.org/1999/xlink"\n          focusable="false"\n        >\n        <circle cx="9" cy="9" r="9" fill="url(#timer-yellow-grad)" />\n        <path data-ref="timerPath"\n          d=""\n          fill="url(#timer-blue-grad)"\n          transform="rotate(-90 9 9)"\n          stroke="none" />\n\n          <circle cx="9" cy="9" r="10" fill="none" class="cs-innerstroke" stroke-width="1"/>\n          <circle cx="9" cy="9" r="9" fill="none" class="cs-innerborder" stroke-width="1"/>\n        </svg>\n      </div>\n      <div class="timer-text" data-ref=\'timerText\' tabindex=\'0\' data-tabindex=\'0\'></div>\n    '}}));var Ur=DS,zr=Ur._,Kr=Ur.keyManager,Gr=Ur.focusManager,qr=Ur.windowManager,Zr=Ur.pubSub,Qr=Ur.events,Yr=Ur.detection,Xr=Ur.globalEventHelper,$r=Xr.addBodyListener,Jr=Xr.removeBodyListener,ei=Xr.addWindowListener,ti=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Nr(e,t)}(o,e);var t,n,r,i=Fr(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=i.call(this,e),zr.bindAll(Vr(t),"onKeydown","onResizeRefresh"),t.active=[],Zr.on(Qr.sidebar.ACTIVE_TAB_SET,t.onActiveTabSet.bind(Vr(t))),DS.flagManager.localizationPlatform&&Zr.on(Qr.frame.SHOW_TAB_ITEM,t.onShowTabItem.bind(Vr(t))),Yr.theme.isUnified&&(t.removeResize=ei("resize",t.onResizeRefresh)),t}return t=o,(n=[{key:"onResizeRefresh",value:function(){var e=this;clearTimeout(this.forceRefresh),this.forceRefresh=setTimeout((function(){e.view.update()}),200)}},{key:"onShowTabItem",value:function(e,t){var n=this.view.children.find((function(t){return t.nameKey.includes(e)}));null!=n?(n.viewLogic.showPanel(),Zr.trigger(Qr.sidebar.OPEN)):document.body.classList.contains("floating-sidebar")&&Zr.trigger(Qr.sidebar.CLOSE)}},{key:"onActiveTabSet",value:function(e){var t=this.view.children.find((function(t){return t.nameKey.includes(e)}));null!=t&&t.viewLogic.showPanel()}},{key:"onLayoutChange",value:function(e){var t=this;if(null!=$.model&&0!==this.view.children.length){var n=($.model.sidebarTabs||[]).reduce((function(n,r){var i=r.name,o=e[i],a="".concat(i,"Tab");return(zr.isObject(o)?!0===o.enabled:!0===o)&&null!=t.view.children[a]&&n.push(t.view.children[a]),n}),[]);if(this.view.children.forEach((function(e){e.el.setAttribute("aria-selected",!1),e.el.tabIndex=-1})),0===this.active.length&&n.length>0||!n.includes(this.currentTab)){var r=Rr(n,1)[0];this.currentTab=r}if(null!=this.currentTab){this.currentTab.el.setAttribute("aria-selected",!0);var i=qr.getCurrentWindow();null!=i&&null!=i.getId&&"_frame"!==i.getId()||(this.currentTab.el.tabIndex=0)}this.active=n}}},{key:"onFocus",value:function(e){this.isFocused||(this.isFocused=!0,this.getInitialActive().setCurrent(),$r("keydown",this.onKeydown))}},{key:"onBlur",value:function(e){this.el.contains(e.relatedTarget)||(this.isFocused=!1,Hr(Wr(o.prototype),"onBlur",this).call(this),Jr("keydown",this.onKeydown))}},{key:"onKeydown",value:function(e){var t=this.currentTab;Kr.isActionKey(e.which)?(this.activeTab=this.currentTab,this.activateTab()):Kr.isRightKey(e.which)?this.currentTab=this.getNextTab(this.currentTab.model.idx):Kr.isLeftKey(e.which)?this.currentTab=this.getPrevTab(this.currentTab.model.idx):Kr.isHomeKey(e.which)?this.currentTab=this.getFirstTab():Kr.isEndKey(e.which)&&(this.currentTab=this.getLastTab()),t!==this.currentTab&&(null!=t&&(t.el.tabIndex=-1),this.setCurrent())}},{key:"activateTab",value:function(){null!=this.activeTab&&(zr.forEach(this.view.children,(function(e){return e.el.setAttribute("aria-selected",!1)})),this.activeTab.el.setAttribute("aria-selected",!0),this.activeTab.viewLogic.showPanel())}},{key:"setAsActive",value:function(e){this.activeTab=this.currentTab=e}},{key:"tabDidChangeVisibility",value:function(){this.view.visible&&(null!=this.activeTab&&this.activeTab.visible||(this.currentTab=this.activeTab=zr.first(this.getLiveChildren())),this.activateTab())}},{key:"setCurrent",value:function(){var e=this.currentTab;if(null!=e){e.el.tabIndex=0,e.el.focus();var t=e.getBox(),n=t.x,r=t.y,i=t.w,o=t.h;Gr.setFocusRectOn(e.el,{left:n,top:r,width:i,height:o})}}},{key:"getInitialActive",value:function(){return this.currentTab=this.activeTab=this.getLiveChildren().find((function(e){return e.el===document.activeElement})),this}},{key:"getNextTab",value:function(e){var t=this.getLiveChildren(),n=t.findIndex((function(t){return t.model.idx===e}))+1;return n===t.length&&(n=0),t[n]}},{key:"getPrevTab",value:function(e){var t=this.getLiveChildren(),n=t.findIndex((function(t){return t.model.idx===e}))-1;return-1===n&&(n=t.length-1),t[n]}},{key:"getFirstTab",value:function(){return this.view.children.find((function(e){return e.viewLogic.isLive()}))}},{key:"getLastTab",value:function(){return this.view.children.slice().reverse().find((function(e){return e.viewLogic.isLive()}))}},{key:"getLiveChildren",value:function(){return this.view.children.filter((function(e){return e.viewLogic.isLive()}))}},{key:"getSelectedTab",value:function(){return this.view.children.find((function(e){return!0===e.viewLogic.isActive}))}},{key:"teardown",value:function(){Zr.off(Qr.sidebar.ACTIVE_TAB_SET),o.lastSelectedTab=this.getSelectedTab(),null!=this.removeResize&&this.removeResize()}}])&&Mr(t.prototype,n),r&&Mr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(yn);function ni(e){return ni="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ni(e)}function ri(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==ni(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ni(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===ni(o)?o:String(o)),r)}var i,o}function ii(e,t){return ii=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ii(e,t)}function oi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ai(e);if(t){var i=ai(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===ni(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function ai(e){return ai=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ai(e)}var li=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ii(e,t)}(o,e);var t,n,r,i=oi(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=i.call(this,e)).searchEnabled=$.model.frame.controlOptions.controls.search,t.onClick(t.showPanel),t}return t=o,(n=[{key:"didChangeVisibility",value:function(e){this.view.parent.viewLogic.tabDidChangeVisibility()}},{key:"showPanel",value:function(e){if(!this.isActive){var t=this.view.parent,n=t.children;for(var r in n)n[r].viewLogic.hidePanel();this.el.classList.add("cs-selected"),this.el.setAttribute("aria-selected","true"),this.isActive=!0,t.viewLogic.setAsActive(this.view),DS.pubSub.trigger(DS.events.tab.SHOW,this.model.name)}}},{key:"hidePanel",value:function(){this.el.classList.remove("cs-selected"),this.el.setAttribute("aria-selected","false"),this.isActive=!1}},{key:"isLive",value:function(){var e=$.model.currControlLayout[this.model.name];return _.isObject(e)?e.enabled:e}}])&&ri(t.prototype,n),r&&ri(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(yn),ci="tabs",si=DS,ui=si._,fi=si.utils,di=fi.getPath,hi=fi.scaleVal,pi=fi.pxify,yi=si.constants.refs.FRAME,vi=($.def(ci,ti,(function(e){var t=$.getNamespace(e),n=t.sidebar,r=t.logo,i=$.model.rtl;return{attrs:{id:ci,role:"tablist",tabindex:-1,"aria-label":"sidebar-tabs"},overflow:"visible",x:9,y:function(){return(r?r.bottom():0)+bt-1},w:function(){return n.w-mt},h:function(){return ui.get(this,"children[0].h",25)},updateHook:function(){var e=this,t=this.children.length;if(0!==t){var n=t<=2,r=this.children.reduce((function(e,t){return t.lastWidthByText+e}),0),o=this.w-8*(t-1),a=(this.w-r)/t,l=this.w/t;if(n&&o>r||!n&&this.w>r){var c=0;this.children.forEach((function(r,i){var o=n?8:0,l=Math.round(r.lastWidthByText+(n?8:a))-o;n||i!==t-1||(l=e.w-c),r.width=l,c+=l}))}else{this.children.slice().sort((function(e,t){return e.lastWidthByText-t.lastWidthByText})).forEach((function(e,n){var r=e.lastWidthByText;r<l?(e.width=r,l+=(l-r)/(t-(n+1))):e.width=l}))}}var s={};i&&(s.toLeft=!0,s.startPos=this.w),this.flowChildren(s)},childDef:function(){vi($.model)}}})),function(e){var t=!1;di(e,"sidebarTabs",[]).forEach((function(n,r){var i=function(e,t,n,r){var i=t.name,o=e.getString(i),a=e.currControlLayout[i],l=!r&&(ui.isObject(a)?a.enabled:a),c=i+"Tab",s=$.def(c,li,{model:Object.assign(t,{idx:n}),tag:"button",attrs:{id:c,class:"tab cs-tabs ".concat(l?"cs-selected":""),role:"tab","aria-selected":l?"true":"false","aria-label":o,"aria-controls":"".concat(i,"-panel"),tabindex:0===n?0:-1},style:{borderTopLeftRadius:pi(hi(6)),borderTopRightRadius:pi(hi(6))},calcTextSize:!0,w:function(){return this.width||this.lastWidthByText+mt},padLeft:6,padRight:6,noUpdate:!0,h:function(){return this.lastHeightByText||26},html:o,updateHook:function(){this.el.style.borderTopLeftRadius=this.el.style.borderTopRightRadius=pi(hi(6))}});return s.init(),$.getNamespace(yi).tabs.append(s),l}(e,n,r,t);t=i||t}))});function bi(e){return bi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bi(e)}function mi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==bi(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==bi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===bi(o)?o:String(o)),r)}var i,o}function gi(){return gi="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Oi(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},gi.apply(this,arguments)}function wi(e,t){return wi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},wi(e,t)}function Si(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Oi(e);if(t){var i=Oi(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===bi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ki(e)}(this,n)}}function ki(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Oi(e){return Oi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Oi(e)}var Ci=DS,Ei=Ci._,xi=Ci.pubSub,Ti=Ci.detection,Li=Ci.globalEventHelper,Pi=(Li.addDocumentListener,Li.removeDocumentListener,Ci.keyManager.isTabKey,Ci.playerGlobals),_i=Ci.utils,ji=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wi(e,t)}(o,e);var t,n,r,i=Si(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=i.call(this,e),Ei.bindAll(ki(t),"onShow"),xi.on(DS.events.tab.SHOW,t.onShow),t}return t=o,(n=[{key:"getFirstChild",value:function(){return Ei.first(this.view.children)}},{key:"focusChild",value:function(){this.getFirstChild().viewLogic.focusSelf()}},{key:"onFocus",value:function(){}},{key:"onBlur",value:function(e){if(!Pi.presentation.isPreview()||window.globals.HAS_SLIDE)if(DS.flagManager.localizationPlatform){var t=_i.getPath(this,this.view.lnk);Ti.deviceView.isDesktop&&null!=t&&!t.translationShown&&this.isTargetOutsidePanel(e.relatedTarget)&&(gi(Oi(o.prototype),"onBlur",this).call(this,e),t.viewLogic.hidePanel())}else Ti.deviceView.isDesktop&&null!=this.view.lnk&&this.isTargetOutsidePanel(e.relatedTarget)&&(gi(Oi(o.prototype),"onBlur",this).call(this,e),this.view.lnk.viewLogic.hidePanel())}},{key:"isTargetOutsidePanel",value:function(e){return null==e||!this.el.contains(e)&&Ei.camelCase(e.id)!==this.view.lnk.nameKey&&Ei.camelCase(e.parentElement.id)!==this.view.lnk.nameKey}},{key:"onShow",value:function(e){var t="".concat(e,"Panel");if(this.view.nameKey===t){var n=this.view.parent.children,r=this.getFirstChild();for(var i in n)i.indexOf("Panel")>-1&&n[i].viewLogic.onHide();this.el.style.display="block",null!=r.onPanelVisible&&r.onPanelVisible()}}},{key:"onHide",value:function(){this.el.style.display="none"}},{key:"isTopLink",value:function(){return null!=this.view.tabsId}},{key:"getTopTabsView",value:function(){return this.view.lnk.parent.parent}},{key:"teardown",value:function(){xi.off(DS.events.tab.SHOW,this.onShow)}}])&&mi(t.prototype,n),r&&mi(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(yn);function Di(e){return Di="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Di(e)}function Ii(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==Di(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Di(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===Di(o)?o:String(o)),r)}var i,o}function Ai(e,t){return Ai=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ai(e,t)}function Ri(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Bi(e);if(t){var i=Bi(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Di(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function Bi(e){return Bi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Bi(e)}var Mi=DS.detection,Hi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ai(e,t)}(o,e);var t,n,r,i=Ri(o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),i.apply(this,arguments)}return t=o,n=[{key:"focusSelf",value:function(){var e=this.view.children,t=e.search,n=e.outline;if(null!=t){var r=t.viewLogic.searchInputEl;Mi.deviceView.isUnifiedMobile?(r.style.pointerEvents="none",setTimeout((function(){r.style.pointerEvents="all"}),100)):r.focus()}else n.viewLogic.focusSelf()}},{key:"onFocus",value:function(){}}],n&&Ii(t.prototype,n),r&&Ii(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(yn),Ni=Hi;function Fi(e){return Fi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fi(e)}function Vi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Wi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wi(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ui(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==Fi(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Fi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===Fi(o)?o:String(o)),r)}var i,o}function zi(e,t){return zi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},zi(e,t)}function Ki(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=qi(e);if(t){var i=qi(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Fi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Gi(e)}(this,n)}}function Gi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qi(e){return qi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},qi(e)}var Zi=DS,Qi=Zi.pubSub,Yi=Zi.events,Xi=Zi.TweenLite,$i=Zi.focusManager,Ji=Zi._.bindAll,eo=Zi.dom.addClass,to=Zi.detection,no=!1,ro=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zi(e,t)}(o,e);var t,n,r,i=Ki(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var n=(t=i.call(this,e)).view.children.searchForm.el,r=t.view.children.searchInput.el;return n.addEventListener("submit",t.onSearch.bind(Gi(t))),to.deviceView.isMobile&&(Ji(Gi(t),"onMobileOutlineShown"),r.addEventListener("input",t.onSearch.bind(Gi(t))),Qi.on(Yi.mobile.OUTLINE_SHOWN,t.onMobileOutlineShown)),t.ensureEventSubscriptions(),t}return t=o,n=[{key:"teardown",value:function(){Qi.off(Yi.mobile.OUTLINE_SHOWN,this.onMobileOutlineShown),Qi.off(Yi.controlOptions.RESET,this.onControlOptionsReset,this),no=!1}},{key:"ensureEventSubscriptions",value:function(){no||(Qi.on(Yi.controlOptions.RESET,this.onControlOptionsReset,this),no=!0)}},{key:"onControlOptionsReset",value:function(){this.view.updateHtml(),this.view.update()}},{key:"onMobileOutlineShown",value:function(){document.getElementById("outline-panel").appendChild(this.el),eo(document.body,"tab-shown")}},{key:"onFocus",value:function(e){$i.setFocusRectOn(this.view.el)}},{key:"onSearch",value:function(e){e.preventDefault();var t=this.view.parent.children.searchResults,n=this.view.children,r=n.bottomDiv,i=n.searchStatus,o=document.querySelector("#outline-content ul");Xi.to(o,.2,{alpha:0,onComplete:function(){t.el.style.opacity=0,Xi.to(t.el,.2,{alpha:1,onComplete:function(){return t.viewLogic.onAfterVisible()}}),r.el.style.opacity=0,t.setVisibility(!0)}});var a=t.viewLogic.performSearch(this.searchInputEl.value),l=Vi(1===a?["acc_search_result_status","%count% result found for %term%"]:["acc_search_results_status","%count% results found for %term%"],2),c=l[0],s=l[1],u=DS.stringTabler.getString(c,{count:a,term:this.searchInputEl.value},s);i.el.textContent=u,eo(document.body,"search-results-active")}},{key:"updateVisibility",value:function(e){var t=this.view,n=t.searchResults,r=t.searchResults.visible,i=t.visible;this.view.setVisibility(e),n.setVisibility(e&&this.searchResultsOpen),i&&(this.searchResultsOpen=r)}}],n&&Ui(t.prototype,n),r&&Ui(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(yn),io=ro,oo=function(){return"no icon"},ao={next:function(e){return'<svg class="cs-icon" width="8" height="11" viewBox="0 0 8 11" focusable="false" data-ref="icon">\n    <use xlink:href="#next-icon" class="cs-icon-shadow" transform="translate(0, 1)" />\n    <polygon\n      id="next-icon"\n      transform="translate(0, 1)"\n      points="2.7,0 0,1.7 3,5 0.3,8.3 3,10 7,5" />\n  </svg>'},prev:function(e){return'<svg class="cs-icon" width="8" height="11" viewBox="0 0 8 11" focusable="false" data-ref="icon">\n    <use xlink:href="#prev-icon" class="cs-icon-shadow" transform="translate(0, 1)"></use>\n    <polygon\n      id="prev-icon"\n      transform="translate(0, 1)"\n      points="0,5 4,10 7,8.3 4,5 7,1.7 4.3,0"/>\n  </svg>'},replay:function(e){return'<svg id="icon-replay" class="cs-icon" width="18" height="16" viewBox="0 0 18 16" focusable="false" data-ref="icon">\n    <use xlink:href="#replay-icon" class="cs-icon-shadow" transform="translate(0, 1.5)"></use>\n    <path id="replay-icon" transform="translate(-3, 1)" d="M9.2,15c4.1,0,7.4-3.1,7.7-7c0-0.2,0-0.4,0-0.5C17,3.3,13.5,0,9.2,0C5.7,0,2.6,2.8,1.8,6.1H0l2.6,2.9l3-2.9H3.7c0.6-2.5,2.8-4.3,5.5-4.3c3.3,0,5.9,2.5,5.9,5.7c0,0.2,0,0.4,0,0.5c-0.3,2.9-2.8,5.2-5.9,5.2c-2,0-3.7-0.9-4.8-2.5l-1.8,1.1C4,13.9,6.7,15,9.2,15z"/>\n  </svg>'},play:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:14;return'<svg id="icon-play" class="cs-icon play-icon" width="'.concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:11,'" height="').concat(e,'" viewBox="0 0 11 14" focusable="false" data-ref="icon">\n    <use xlink:href="#play-icon" class="cs-icon-shadow" transform="translate(0, 1)" />\n    <path\n      id="play-icon"\n      transform="translate(3.5, 1)"\n      d="M1.3 0.1l8.3 5.2c0.5 0.3 0.5 1 0 1.3l-8.3 5.2c-0.5 0.3-1.3 0-1.3-0.7L0 0.8C0 0.3 0.7-0.2 1.3 0.1z" />\n  </svg>')},pause:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:14;return'<svg id="icon-pause" class="cs-icon pause-icon" width="'.concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:12,'" height="').concat(e,'" viewBox="0 0 12 14" focusable="false" data-ref="icon">\n    <use xlink:href="#pause-icon" class="cs-icon-shadow" transform="translate(0, 1)" />\n    <g id="pause-icon" transform="translate(2, 1)">\n       <rect x="0" width="4" height="14"/>\n       <rect x="8" width="4" height="14"/>\n    </g>\n  </svg>')},volume:function(e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,n=e>0?"":"hidden",r=e>=5?"":"hidden",i=10==e?"":"hidden";return'<svg class="cs-icon volume-icon" width="'.concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:15,'" height="').concat(t,'" viewBox="0 0 15 20" focusable="false" data-ref="icon">\n    <use xlink:href="#player-volume" class="cs-icon-shadow" transform="translate(0, 1)" />\n    <g id="player-volume" transform="translate(-1, 4)">\n      <polygon points="4.3,10.7 0,10.7 0,4.3 4.3,4.3 8.6,0 8.6,15"/>\n      <rect class="').concat(n,'" x="10" y="5" width="1" height="6"/>\n      <rect class="').concat(r,'" x="12" y="4" width="1" height="8"/>\n      <rect class="').concat(i,'" x="14" y="3" width="1" height="10"/>\n    </g>\n  </svg>')},captions:function(){return'<svg\n    class="cs-icon caption-icon"\n    data-ref="icon"\n    width="22px" height="18px" viewBox="0 0 22 18"\n    focusable="false">\n    <g stroke="none" stroke-width="1" fill-rule="evenodd" transform="translate(0, 1)">\n      <path d="M14.8517422,14 L20.008845,14 C21.1103261,14 22,13.1019465 22,11.9941413 L22,2.00585866 C22,0.897060126 21.1085295,0 20.008845,0 L1.991155,0 C0.889673948,0 0,0.898053512 0,2.00585866 L0,11.9941413 C0,13.1029399 0.891470458,14 1.991155,14 L8.09084766,14 L11.4712949,17.3804472 L14.8517422,14 Z M3,4 L13,4 L13,6 L3,6 L3,4 Z M14,4 L19,4 L19,6 L14,6 L14,4 Z M19,8 L8,8 L8,10 L19,10 L19,8 Z M7,8 L3,8 L3,10 L7,10 L7,8 Z"></path>\n    </g>\n  </svg>'},carrot:function(e){return'<svg\n    style="left:calc('.concat(e,');"\n    class="cs-icon cs-icon-carrot carrot"\n    width="20" height="20" viewBox="-8 -6 20 20"\n    focusable="false">\n    <use xlink:href="#icon-carrot" class="cs-shadow" transform="translate(1, 0)"></use>\n    <polygon id="icon-carrot" points="1,1.5 5,5 1,8.5" transform="translate(0, 2)"></polygon>\n  </svg>')},search:function(){return'\n  <svg class="cs-icon icon-search" width="14" height="14" viewBox="0 0 14 14" focusable="false" data-ref="icon">\n    <path transform="translate(1,3)" d="M13.8,12.5l-3.6-3.6c0,0-0.1-0.1-0.1-0.1c0.6-0.9,1-2,1-3.2C11.1,2.5,8.6,0,5.5,0S0,2.5,0,5.6c0,3.1,2.5,5.6,5.5,5.6c1.2,0,2.4-0.4,3.3-1.1c0,0,0,0.1,0.1,0.1l3.6,3.6c0.3,0.3,0.8,0.3,1.1,0l0.2-0.2\n  C14.1,13.3,14.1,12.8,13.8,12.5z M5.5,9.5c-2.2,0-3.9-1.8-3.9-4c0-2.2,1.8-4,3.9-4c2.2,0,3.9,1.8,3.9,4C9.5,7.8,7.7,9.5,5.5,9.5z"/>\n  </svg>\n  '},filter:function(){return'<svg class="cs-icon icon-gear" width="14" height="14" viewBox="0 0 14 14" focusable="false">\n    <path id="icon-gear" transform="translate(0,3)" d="M11.1,9.8C11.1,9.8,11.1,9.8,11.1,9.8C11.1,9.8,11.1,9.7,11.1,9.8c0-0.1,0.1-0.1,0.1-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0-0.1,0.1-0.1c0,0,0,0,0,0c0-0.1,0.1-0.1,0.1-0.2c0,0,0,0,0,0c0-0.1,0-0.1,0.1-0.2c0,0,0,0,0,0c0.1-0.2,0.2-0.5,0.2-0.7l2-0.4V6.4l-2-0.4c0-0.3-0.1-0.5-0.2-0.7c0,0,0,0,0,0c0-0.1,0-0.1-0.1-0.2c0,0,0,0,0,0c0-0.1,0-0.1-0.1-0.2c0,0,0,0,0,0c0,0,0-0.1-0.1-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0l1.2-1.7l-0.9-0.9L9.7,2.8c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0-0.1,0-0.1-0.1c0,0,0,0,0,0c-0.1,0-0.1-0.1-0.2-0.1c0,0,0,0,0,0c-0.1,0-0.1,0-0.2-0.1c0,0,0,0,0,0C8.3,2.1,8.1,2.1,7.8,2L7.4,0H6.2L5.9,2c-0.3,0-0.5,0.1-0.7,0.2c0,0,0,0,0,0C5,2.3,5,2.3,4.9,2.3c0,0,0,0,0,0c-0.1,0-0.1,0-0.2,0.1c0,0,0,0,0,0c0,0-0.1,0-0.1,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0L2.3,1.6L1.4,2.5l1.2,1.7c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0.1-0.1,0.1c0,0,0,0,0,0C2.2,5,2.2,5,2.2,5.1c0,0,0,0,0,0c0,0.1,0,0.1-0.1,0.2c0,0,0,0,0,0C2,5.5,1.9,5.8,1.9,6l-2,0.4v1.2l2,0.4c0,0.3,0.1,0.5,0.2,0.7c0,0,0,0,0,0c0,0.1,0,0.1,0.1,0.2c0,0,0,0,0,0c0,0.1,0,0.1,0.1,0.2c0,0,0,0,0,0c0,0,0,0.1,0.1,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0l-1.2,1.7l0.9,0.9L4,11.2c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0.1,0,0.1,0.1c0,0,0,0,0,0c0.1,0,0.1,0.1,0.2,0.1c0,0,0,0,0,0c0.1,0,0.1,0,0.2,0.1c0,0,0,0,0,0c0.2,0.1,0.5,0.2,0.7,0.2l0.4,2h1.2l0.4-2c0.3,0,0.5-0.1,0.7-0.2c0,0,0,0,0,0c0.1,0,0.1,0,0.2-0.1c0,0,0,0,0,0c0.1,0,0.1,0,0.2-0.1c0,0,0,0,0,0c0,0,0.1,0,0.1-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0l1.7,1.2l0.9-0.9L11.1,9.8C11,9.8,11,9.8,11.1,9.8C11,9.8,11.1,9.8,11.1,9.8z M6.8,9.2c-1.2,0-2.2-1-2.2-2.2c0-1.2,1-2.2,2.2-2.2C8,4.8,9,5.8,9,7C9,8.2,8,9.2,6.8,9.2z"/>\n  </svg>'},close:function(){return'<svg class="icon" width="10" height="10" viewBox="0 0 10 10" focusable="false" data-ref="icon">\n    <use xlink:href="#close-icon" class="cs-icon-shadow" transform="translate(0, .5)" />\' +\n    <path id="close-icon" d="M9,9.5L9,9.5c-0.5,0.5-1.3,0.5-1.8,0L4.9,7.3L2.6,9.6c-0.5,0.5-1.3,0.5-1.8,0l0,0c-0.5-0.5-0.5-1.3,0-1.8l2.3-2.3L0.8,3.3C0.3,2.8,0.3,2,0.9,1.4l0,0c0.5-0.5,1.3-0.5,1.8,0l2.3,2.3l2.3-2.3c0.5-0.5,1.3-0.5,1.8,0l0,0c0.5,0.5,0.5,1.3,0,1.8L6.7,5.5L9,7.7C9.5,8.2,9.5,9,9,9.5z"/>\n  </svg>'},clear:function(){return'<svg\n    data-ref="icon"\n    class="cs-icon icon-clear"\n    width="13" height="14" viewBox="0 0 13 14"\n    focusable="false">\n    <use xlink:href="#icon-clear" class="cs-icon-shadow" transform="translate(0, 1)" />\n    <path id="icon-clear" d="M6.5,0C2.9,0,0,2.9,0,6.5C0,10.1,2.9,13,6.5,13c3.6,0,6.5-2.9,6.5-6.5C13,2.9,10.1,0,6.5,0z M1.5,6.5c0-2.8,2.2-5,5-5c1.2,0,2.4,0.5,3.2,1.2L2.2,9.1C1.8,8.3,1.5,7.5,1.5,6.5z M6.5,11.5c-1.2,0-2.3-0.5-3.2-1.2L10.8,4c0.4,0.7,0.7,1.6,0.7,2.5C11.5,9.3,9.3,11.5,6.5,11.5z"/>\n  </svg>'},settings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return'\n    <svg class="cs-icon" data-ref="settings" width="'.concat(16*e,'px" height="').concat(18*e,'px" viewBox="0 0 16 18" focusable="false">\n      <g transform="translate(0, 2)">\n        <path d="M8.94,0 C9.82,0 10.55,0.62 10.63,1.45 L10.73,2.36 C11.1,2.52 11.45,2.71 11.78,2.94 L12.66,2.56 C13.46,2.22 14.39,2.5 14.83,3.23 L15.77,4.77 C16.21,5.5 16,6.4 15.29,6.9 L14.51,7.42 C14.54,8.19 14.53,8.38 14.51,8.58 L15.29,9.11 C16,9.6 16.21,10.51 15.77,11.23 L14.83,12.77 C14.39,13.49 13.46,13.78 12.66,13.44 L11.78,13.06 C11.45,13.29 11.1,13.48 10.73,13.64 L10.63,14.55 C10.55,15.38 9.82,16 8.94,16 L7.06,16 C6.18,16 5.45,15.38 5.37,14.55 L5.27,13.64 C4.9,13.48 4.55,13.29 4.22,13.06 L3.34,13.44 C2.54,13.78 1.61,13.5 1.17,12.77 L0.23,11.23 C-0.21,10.51 0,9.6 0.71,9.11 L1.49,8.58 C1.46,7.81 1.47,7.62 1.49,7.42 L0.71,6.89 C0,6.40 -0.21,5.49 0.23,4.77 L1.17,3.23 C1.61,2.51 2.54,2.22 3.34,2.56 L4.22,2.94 C4.55,2.71 4.9,2.52 5.27,2.36 L5.37,1.45 C5.45,0.62 6.18,0 7.06,0 Z M7.96,4.53 C5.91,4.53 4.25,6.11 4.25,8.06 C4.25,10.01 5.91,11.59 7.96,11.59 C10.02,11.59 11.68,10.01 11.68,8.06 C11.68,6.11 10.02,4.53 7.96,4.53 Z"></path>\n      </g>\n    </svg>\n    ')},track:function(e,t,n,r,i,o){return'\n      <svg xmlns:xlink="http://www.w3.org/1999/xlink" width="'.concat(24*e,'px" height="').concat(16*e,'px" viewBox="0 0 24 16" focusable="false">\n        <defs>\n            <rect id="').concat(o,'-track" x="2" y="3.5" width="20" height="9" rx="4.5"></rect>\n            <filter x="-12.5%" y="-27.8%" width="125.0%" height="155.6%" filterUnits="objectBoundingBox" id="').concat(o,'-trackFilter">\n                <feGaussianBlur stdDeviation="1.5" in="SourceAlpha" result="shadowBlurInner1"></feGaussianBlur>\n                <feOffset dx="0" dy="1" in="shadowBlurInner1" result="shadowOffsetInner1"></feOffset>\n                <feComposite in="shadowOffsetInner1" in2="SourceAlpha" operator="arithmetic" k2="-1" k3="1" result="shadowInnerInner1"></feComposite>\n                <feColorMatrix values="0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.5 0" type="matrix" in="shadowInnerInner1"></feColorMatrix>\n            </filter>\n        </defs>\n        <g class="thumb-off" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n            <g>\n                <use fill="').concat(r,'" fill-rule="evenodd" xlink:href="#').concat(o,'-track"></use>\n                <use fill="black" fill-opacity="1" filter="url(#').concat(o,'-trackFilter)" xlink:href="#').concat(o,'-track"></use>\n                <use stroke="').concat(i,'" stroke-width="1" xlink:href="#').concat(o,'-track"></use>\n                <circle fill="').concat(n,'" cx="7" cy="8" r="5"></circle>\n            </g>\n        </g>\n        <g class="thumb-on" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n            <g>\n                <use fill="').concat(r,'" fill-rule="evenodd" xlink:href="#').concat(o,'-track"></use>\n                <use fill="black" fill-opacity="1" filter="url(#').concat(o,'-trackFilter)" xlink:href="#').concat(o,'-track"></use>\n                <use stroke="').concat(i,'" stroke-width="1" xlink:href="#').concat(o,'-track"></use>\n                <circle fill="').concat(t,'" stroke-width="0" cx="16" cy="8" r="6"></circle>\n            </g>\n        </g>        \n    </svg>\n    ')},downArrow:function(e){return'\n      <svg class="panel-down-arrow" data-ref="arrow" width="22px" height="11px" viewBox="0 0 22 11" focusable="false">\n        <path d="M 0 0 L 11 11 22 0" fill="'.concat(e,'"/>\n      </svg>\n    ')}},lo=function(e){return ao[e]||oo},co="search",so=DS,uo=so.utils,fo=(uo.pxify,uo.scaleVal,so.playerGlobals),ho=$.def(co,io,(function(){var e=$.model,t=$.getCurrentNameSpaceString(),n=function(){return me.getColor(t,".cs-outline .cs-diva","border-color")},r=function(){return me.getColor(t,".cs-outline .cs-divb","border-color")};return{attrs:{class:co,"aria-label":e.getString("acc_search_input"),tabIndex:-1},z:3,x:0,y:function(){return this.parent.y+this.parent.h-48},w:function(){return this.parent.w},h:48,html:function(){return'\n      <div class="search-ui">\n        <div data-ref="bottomDiv">\n          <hr class="cs-diva diva" style="border-color: '.concat(n(),'">\n          <hr class="cs-divb divb" style="border-color: ').concat(r(),'">\n        </div>\n        <form id="outline-search" data-ref="searchForm" class="search-input cs-outlinesearch cs-searchinput" tabindex="-1">\n          <input class="cs-input" data-ref="searchInput" type="search" placeholder="').concat(e.getString("search"),'" tabindex="0">\n          <button\n            class="cs-button btn-unstyled" style="background-repeat: no-repeat;"\n            data-ref="searchBtn"\n            tabindex="-1"\n          >').concat(lo("search")(),"</button>\n        </form>\n      </div>")},updateHook:function(){fo.presentation.isPreview()&&(this.children.bottomDiv.el.querySelector("hr.cs-diva").style.borderColor=n(),this.children.bottomDiv.el.querySelector("hr.cs-divb").style.borderColor=r()),this.viewLogic.ensureEventSubscriptions()}}}));function po(e){return po="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},po(e)}function yo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==po(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==po(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===po(o)?o:String(o)),r)}var i,o}function vo(){return vo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=wo(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},vo.apply(this,arguments)}function bo(e,t){return bo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},bo(e,t)}function mo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=wo(e);if(t){var i=wo(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===po(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return go(e)}(this,n)}}function go(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wo(e){return wo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},wo(e)}var So=DS,ko=So.focusManager,Oo=So.keyManager,Co=So.detection,Eo=So.globalEventHelper,xo=Eo.addDocumentListener,To=Eo.removeDocumentListener,Lo=(So.utils.getPath,So.dom),Po=Lo.parentNodesOf,_o=Lo.addClass,jo=Lo.removeClass,Do=So._,Io=Do.first,Ao=Do.last,Ro=Do.bindAll,Bo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bo(e,t)}(o,e);var t,n,r,i=mo(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=i.call(this,e),Ro(go(t),"onKeydown","addEvents","onClickItem"),t.addEvents(),t}return t=o,(n=[{key:"focusSelf",value:function(){this.hasListItems()&&this.getItems().find((function(e){return 0===e.tabIndex})).focus()}},{key:"addEvents",value:function(){var e=this;Co.device.isMobile?(this.el.addEventListener("touchmove",(function(t){e.moved=!0})),this.onClick((function(t){e.moved||e.onClickItem(t),e.moved=!1}))):this.onClick(this.onClickItem)}},{key:"onClickItem",value:function(){}},{key:"onFocus",value:function(){!this.isFocused&&this.hasListItems()&&(this.isFocused=!0,this.currentItem=this.currentItem||Io(this.getItems()),_o(this.currentItem,"hover"),Oo.isShowFocus&&this.centerOnFocused(),ko.setFocusRectOn(this.getFocusRectTarget()),xo("keydown",this.onKeydown))}},{key:"onBlur",value:function(e){this.el.contains(e.relatedTarget)||(vo(wo(o.prototype),"onBlur",this).call(this,e),null!=this.currentItem&&(jo(this.currentItem,"hover"),this.currentItem.style.backgroundColor=""),To("keydown",this.onKeydown),this.isFocused=!1)}},{key:"onKeydown",value:function(e){var t=this.currentItem;Oo.isActionKey(e.which)?(this.activateItem(e),Oo.isSpaceKey(e.which)&&e.preventDefault()):Oo.isDownishKey(e.which)?this.currentItem=this.getNextItem(this.getItemContent()):Oo.isUpishKey(e.which)?this.currentItem=this.getPrevItem(this.getItemContent()):Oo.isHomeKey(e.which)?this.currentItem=this.getFirstItem():Oo.isEndKey(e.which)&&(this.currentItem=this.getLastItem()),t!==this.currentItem&&(e.preventDefault(),t.tabIndex=-1,jo(t,"hover"),this.focusOnCurrent())}},{key:"hasListItems",value:function(){return!1}},{key:"getFocusRectTarget",value:function(){return this.currentItem}},{key:"focusOnCurrent",value:function(){this.centerOnFocused(),document.activeElement!==this.currentItem&&(this.currentItem.tabIndex=0,_o(this.currentItem,"hover"),this.currentItem.focus()),ko.setFocusRectOn(this.getFocusRectTarget())}},{key:"activateItem",value:function(){this.onClickItem({target:this.currentItem.firstElementChild})}},{key:"getNextItem",value:function(e){var t=this,n=this.getItems().findIndex((function(n){return t.findIndexCb(n,e)}))+1;return n===this.getItems().length&&(n=0),this.getItems()[n]}},{key:"getPrevItem",value:function(e){var t=this,n=this.getItems().findIndex((function(n){return t.findIndexCb(n,e)}))-1;return-1===n&&(n=this.getItems().length-1),this.getItems()[n]}},{key:"getLastItem",value:function(){return Ao(this.getItems())}},{key:"getFirstItem",value:function(){return Io(this.getItems())}},{key:"getItemContent",value:function(){return this.currentItem.textContent.trim()}},{key:"findIndexCb",value:function(e,t){return e.textContent.trim()===t}},{key:"getItems",value:function(){return[]}},{key:"getScrollEl",value:function(){return this.el}},{key:"getOffsetEl",value:function(){return this.el}},{key:"getOffsetTop",value:function(e){return function(e){return Po(e,(function(e){return"li"===e.nodeName.toLowerCase()})).reduce((function(e,t){return e+t.offsetTop}),0)}(e)}},{key:"getOffsetHeight",value:function(e){return e.offsetHeight}},{key:"centerOnFocused",value:function(){if(null!=this.currentItem){var e=this.getOffsetEl(),t=this.getOffsetHeight(e),n=this.getScrollEl().scrollTop,r=this.getOffsetTop(this.currentItem),i=r+this.getOffsetHeight(this.currentItem);i-n>t?e.scrollTop=i-t+10:r<n+10&&(e.scrollTop=r-10)}}}])&&yo(t.prototype,n),r&&yo(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(yn),Mo=function(){return"no icon"},Ho={next:function(){return'\n  <svg class="cs-icon next-icon" width="10px" height="18px" viewBox="0 -1 10 18" focusable="false" aria-hidden="true">\n    <path transform="rotate(180, 5, 8)" d="M2.81685219,7.60265083 L9.00528946,1.41421356 L7.5910759,-1.27897692e-13 L1.55431223e-13,7.5910759 L0.0115749356,7.60265083 L1.55431223e-13,7.61422577 L7.5910759,15.2053017 L9.00528946,13.7910881 L2.81685219,7.60265083 Z" stroke="none" fillRule="evenodd"></path>\n  </svg>'},prev:function(){return'\n  <svg class="cs-icon prev-icon" width="10px" height="18px" viewBox="0 -1 10 18" focusable="false" aria-hidden="true">\n    <path transform="translate(0, 1)" d="M2.81685219,7.60265083 L9.00528946,1.41421356 L7.5910759,-1.27897692e-13 L1.55431223e-13,7.5910759 L0.0115749356,7.60265083 L1.55431223e-13,7.61422577 L7.5910759,15.2053017 L9.00528946,13.7910881 L2.81685219,7.60265083 Z" stroke="none" fillRule="evenodd"></path>\n  </svg>\n'},submit:function(){return'\n   <svg class="cs-icon check-icon" width="17px" height="18px" viewBox="0 0 17 16" focusable="false" aria-hidden="true">\n\n  <path stroke="none" transform="translate(0, 1)" d="\n  M 17 1.4\n  L 15.6 0 5.7 9.9 1.4 5.65 0 7.05 5.65 12.75 5.7 12.75 17 1.4 Z"/>\n\n  </svg>'},replay:function(){return'<svg class="cs-icon" x="0px" y="0px" width="16px" height="16px" viewBox="0 0 16 16" focusable="false" aria-hidden="true">\n    <path fill="#FFFFFF" stroke="none" d="\n      M 10.95 8.75\n      Q 11 9 11 9.25 10.95 11.15 9.7 12.4 8.4 13.7 6.5 13.75 4.6 13.7 3.3 12.4 2.05 11.15 2 9.25 2.05 7.3 3.3 6.05 4.398828125 4.998828125 6 4.75\n      L 6 6.9\n      Q 6.05 7.75 6.85 7.35\n      L 11.35 4.3\n      Q 11.7 4.05 11.7 3.75 11.7 3.45 11.35 3.2\n      L 6.85 0.15\n      Q 6.05 -0.3 6 0.6\n      L 6 2.75\n      Q 3.4517578125 3.001171875 1.8 4.75 0.05 6.6 0 9.25 0.05 12 1.9 13.85 3.75 15.65 6.5 15.75 9.25 15.65 11.1 13.85 12.95 12 13 9.25 13 9 13 8.75\n      L 10.95 8.75 Z"/>\n    </svg>'},play:function(){return'<svg id="icon-play" class="cs-icon play-icon" width="11" height="13" viewBox="0 0 11 13" focusable="false" aria-hidden="true">\n    <path fill="#FFFFFF" stroke="none" d="\n      M 0.851 13.011\n      C 0.381 13.295 0 13.068 0 12.526\n      L 0 0.771\n      C 0 0.219 0.378 0 0.854 0.288\n      L 10.507 6.132\n      C 10.979 6.417 10.981 6.878 10.504 7.168\n      L 6.307 9.708\n      L 0.851 13.011 Z" />\n  </svg>'},pause:function(){return'<svg id="icon-pause" class="cs-icon pause-icon" width="9" height="14" viewBox="0 0 9 14" focusable="false" aria-hidden="true">\n    <rect x="0" width="3" height="14"/>\n    <rect x="6" width="3" height="14"/>\n  </svg>'},volume:function(e,t){var n=Math.min(1,e/5),r=Math.min(1,Math.max(0,e/5-.5));return'<svg class="cs-icon volume-icon '.concat(t?"volume-icon-selected":"",'" width="16px" height="14px" viewBox="0 0 16 14" focusable="false" aria-hidden="true">\n      <rect x="0" y="4" width="3" height="6"></rect>\n      <polygon points="4 4 9 0 9 14 4 10"></polygon>\n      <g transform="translate(10, 0)">\n        <mask id="vol-mask" fill="white">\n          <rect id="path-1" x="0" y="0" width="8" height="14" style="fill: white;"></rect>\n        </mask>\n        <circle strokeWidth="1.5" style="opacity: ').concat(r,';" mask="url(#vol-mask)" fill="none" cx="-1" cy="7" r="6.5"></circle>\n        <circle strokeWidth="1.5" style="opacity: ').concat(n,';" mask="url(#vol-mask)" fill="none" cx="-1" cy="7" r="3.5"></circle>\n      </g>\n    </g>\n  </svg>')},captionsOn:function(e){return'<svg class="cs-icon captions-icon" width="19px" height="16px" viewBox="0 0 19 16" focusable="false" aria-hidden="true">\n            <path fill="#FFFFFF" stroke="none" d="M 19 2 Q 19 1.15 18.4 0.6 17.85 0 17 0 L 2 0 Q 1.15 0 0.6 0.6 0 1.15 0 2 L 0 12 Q 0 12.85 0.6 13.4 1.15 14 2 14 L 7.6 14 9.5 15.9 11.4 14 17 14 Q 17.85 14 18.4 13.4 19 12.85 19 12 L 19 2 M 15.7 4.2 L 15.25 4.85 Q 15.15 4.9 15.1 5 15 5.05 14.85 5.05 14.75 5.05 14.6 4.95 14.5 4.9 14.3 4.8 14.15 4.65 13.9 4.6 13.65 4.5 13.3 4.5 12.85 4.5 12.5 4.7 12.15 4.85 11.9 5.15 11.7 5.45 11.6 5.9 11.45 6.35 11.45 6.9 11.5 7.45 11.6 7.9 11.7 8.35 11.95 8.65 12.2 8.95 12.5 9.15 12.85 9.3 13.25 9.3 13.65 9.3 13.9 9.2 14.2 9.1 14.35 8.95 14.5 8.85 14.65 8.75 14.8 8.65 14.95 8.65 15.15 8.65 15.25 8.8 L 15.75 9.4 Q 15.45 9.75 15.15 10 14.8 10.2 14.45 10.35 14.05 10.5 13.7 10.55 13.3 10.6 12.95 10.6 12.25 10.6 11.65 10.35 11.1 10.1 10.65 9.65 10.2 9.15 9.95 8.45 9.7 7.75 9.7 6.9 9.7 6.1 9.95 5.4 10.15 4.75 10.6 4.25 11.05 3.75 11.7 3.5 12.35 3.2 13.2 3.2 14 3.2 14.6 3.45 15.2 3.7 15.7 4.2 M 5.85 4.7 Q 5.5 4.85 5.25 5.15 5.05 5.45 4.95 5.9 4.8 6.35 4.8 6.9 4.85 7.45 4.95 7.9 5.05 8.35 5.3 8.65 5.55 8.95 5.85 9.15 6.2 9.3 6.6 9.3 7 9.3 7.25 9.2 7.55 9.1 7.7 8.95 7.85 8.85 8 8.75 8.15 8.65 8.3 8.65 8.5 8.65 8.6 8.8 L 9.1 9.4 Q 8.8 9.75 8.5 10 8.15 10.2 7.8 10.35 7.4 10.5 7.05 10.55 6.65 10.6 6.3 10.6 5.6 10.6 5 10.35 4.45 10.1 4 9.65 3.55 9.15 3.3 8.45 3.05 7.75 3.05 6.9 3.05 6.1 3.3 5.4 3.5 4.75 3.95 4.25 4.4 3.75 5.05 3.5 5.7 3.2 6.55 3.2 7.35 3.2 7.95 3.45 8.55 3.7 9.05 4.2 L 8.6 4.85 Q 8.5 4.9 8.45 5 8.35 5.05 8.2 5.05 8.1 5.05 7.95 4.95 7.85 4.9 7.65 4.8 7.5 4.65 7.25 4.6 7 4.5 6.65 4.5 6.2 4.5 5.85 4.7 Z"/>\n          </svg>'},captionsOff:function(e){return'<svg class="cs-icon captions-icon" width="19px" height="16px" viewBox="0 0 19 16" focusable="false" aria-hidden="true">\n            <g>\n              <path d="M 11.45 3.5 Q 10.8 3.75 10.35 4.25 9.9 4.75 9.7 5.4 9.45 6.1 9.45 6.9 9.45 7.75 9.7 8.45 9.95 9.15 10.4 9.65 10.85 10.1 11.4 10.35 12 10.6 12.7 10.6 13.05 10.6 13.45 10.55 13.8 10.5 14.2 10.35 14.55 10.2 14.9 10 15.2 9.75 15.5 9.4 L 15 8.8 Q 14.9 8.65 14.7 8.65 14.55 8.65 14.4 8.75 14.25 8.85 14.1 8.95 13.95 9.1 13.65 9.2 13.4 9.3 13 9.3 12.6 9.3 12.25 9.15 11.95 8.95 11.7 8.65 11.45 8.35 11.35 7.9 11.25 7.45 11.2 6.9 11.2 6.35 11.35 5.9 11.45 5.45 11.65 5.15 11.9 4.85 12.25 4.7 12.6 4.5 13.05 4.5 13.4 4.5 13.65 4.6 13.9 4.65 14.05 4.8 14.25 4.9 14.35 4.95 14.5 5.05 14.6 5.05 14.75 5.05 14.85 5 14.9 4.9 15 4.85 L 15.45 4.2 Q 14.95 3.7 14.35 3.45 13.75 3.2 12.95 3.2 12.1 3.2 11.45 3.5 M 5.6 4.7 Q 5.95 4.5 6.4 4.5 6.75 4.5 7 4.6 7.25 4.65 7.4 4.8 7.6 4.9 7.7 4.95 7.85 5.05 7.95 5.05 8.1 5.05 8.2 5 8.25 4.9 8.35 4.85 L 8.8 4.2 Q 8.3 3.7 7.7 3.45 7.1 3.2 6.3 3.2 5.45 3.2 4.8 3.5 4.15 3.75 3.7 4.25 3.25 4.75 3.05 5.4 2.8 6.1 2.8 6.9 2.8 7.75 3.05 8.45 3.3 9.15 3.75 9.65 4.2 10.1 4.75 10.35 5.35 10.6 6.05 10.6 6.4 10.6 6.8 10.55 7.15 10.5 7.55 10.35 7.9 10.2 8.25 10 8.55 9.75 8.85 9.4 L 8.35 8.8 Q 8.25 8.65 8.05 8.65 7.9 8.65 7.75 8.75 7.6 8.85 7.45 8.95 7.3 9.1 7 9.2 6.75 9.3 6.35 9.3 5.95 9.3 5.6 9.15 5.3 8.95 5.05 8.65 4.8 8.35 4.7 7.9 4.6 7.45 4.55 6.9 4.55 6.35 4.7 5.9 4.8 5.45 5 5.15 5.25 4.85 5.6 4.7 Z" />\n              <path class="icon-stroke-only" stroke-width="1.5" stroke-linejoin="round" stroke-linecap="round" fill="none" d="M 9.5 15.2 L 7.8 13.5 2 13.5 Q 1.35 13.5 0.95 13.05 0.5 12.65 0.5 12 L 0.5 2 Q 0.5 1.35 0.95 0.95 1.35 0.5 2 0.5 L 17 0.5 Q 17.65 0.5 18.05 0.95 18.5 1.35 18.5 2 L 18.5 12 Q 18.5 12.65 18.05 13.05 17.65 13.5 17 13.5 L 11.2 13.5 9.5 15.2 Z" />\n            </g>\n          </svg>'},captions:function(){return'\n    <svg class="cs-icon captions-icon" width="19px" height="16px" viewBox="0 0 19 16" focusable="false" aria-hidden="true">\n      <g>\n        <path d="M 11.45 3.5 Q 10.8 3.75 10.35 4.25 9.9 4.75 9.7 5.4 9.45 6.1 9.45 6.9 9.45 7.75 9.7 8.45 9.95 9.15 10.4 9.65 10.85 10.1 11.4 10.35 12 10.6 12.7 10.6 13.05 10.6 13.45 10.55 13.8 10.5 14.2 10.35 14.55 10.2 14.9 10 15.2 9.75 15.5 9.4 L 15 8.8 Q 14.9 8.65 14.7 8.65 14.55 8.65 14.4 8.75 14.25 8.85 14.1 8.95 13.95 9.1 13.65 9.2 13.4 9.3 13 9.3 12.6 9.3 12.25 9.15 11.95 8.95 11.7 8.65 11.45 8.35 11.35 7.9 11.25 7.45 11.2 6.9 11.2 6.35 11.35 5.9 11.45 5.45 11.65 5.15 11.9 4.85 12.25 4.7 12.6 4.5 13.05 4.5 13.4 4.5 13.65 4.6 13.9 4.65 14.05 4.8 14.25 4.9 14.35 4.95 14.5 5.05 14.6 5.05 14.75 5.05 14.85 5 14.9 4.9 15 4.85 L 15.45 4.2 Q 14.95 3.7 14.35 3.45 13.75 3.2 12.95 3.2 12.1 3.2 11.45 3.5 M 5.6 4.7 Q 5.95 4.5 6.4 4.5 6.75 4.5 7 4.6 7.25 4.65 7.4 4.8 7.6 4.9 7.7 4.95 7.85 5.05 7.95 5.05 8.1 5.05 8.2 5 8.25 4.9 8.35 4.85 L 8.8 4.2 Q 8.3 3.7 7.7 3.45 7.1 3.2 6.3 3.2 5.45 3.2 4.8 3.5 4.15 3.75 3.7 4.25 3.25 4.75 3.05 5.4 2.8 6.1 2.8 6.9 2.8 7.75 3.05 8.45 3.3 9.15 3.75 9.65 4.2 10.1 4.75 10.35 5.35 10.6 6.05 10.6 6.4 10.6 6.8 10.55 7.15 10.5 7.55 10.35 7.9 10.2 8.25 10 8.55 9.75 8.85 9.4 L 8.35 8.8 Q 8.25 8.65 8.05 8.65 7.9 8.65 7.75 8.75 7.6 8.85 7.45 8.95 7.3 9.1 7 9.2 6.75 9.3 6.35 9.3 5.95 9.3 5.6 9.15 5.3 8.95 5.05 8.65 4.8 8.35 4.7 7.9 4.6 7.45 4.55 6.9 4.55 6.35 4.7 5.9 4.8 5.45 5 5.15 5.25 4.85 5.6 4.7 Z" />\n        <path class="icon-stroke-only" stroke-width="1.5" stroke-linejoin="round" stroke-linecap="round" fill="none" d="M 9.5 15.2 L 7.8 13.5 2 13.5 Q 1.35 13.5 0.95 13.05 0.5 12.65 0.5 12 L 0.5 2 Q 0.5 1.35 0.95 0.95 1.35 0.5 2 0.5 L 17 0.5 Q 17.65 0.5 18.05 0.95 18.5 1.35 18.5 2 L 18.5 12 Q 18.5 12.65 18.05 13.05 17.65 13.5 17 13.5 L 11.2 13.5 9.5 15.2 Z" />\n      </g>\n    </svg>'},carrot:function(e){return'\n    <svg style="left:calc('.concat(e,');" class="cs-icon cs-icon-carrot carrot"width="30" height="30" viewBox="0 0 30 30" focusable="false" aria-hidden="true">\n      <g transform="translate(8, 8)">\n        <polygon style="fill:currentColor !important" points="1,1.5 5,5 1,8.5"/>\n      </g>\n  </svg>')},search:function(){return'\n    <svg class="search-icon" width="13px" height="15px" viewBox="0 0 13 15" focusable="false" aria-hidden="true"\n      <g fill="none" fill-rule="evenodd">\n        <g stroke-width="2">\n          <circle cx="5.6" cy="5.6" r="4.6"/>\n          <path d="M8 9l4 5"/>\n        </g>\n      </g>\n    </svg>\n    '},searchClear:function(){return'\n    <svg class="cs-icon icon" width="11px" height="11px" viewBox="0 0 11 11">\n    <g id="Desktop-Color-Contrast" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="Search" transform="translate(-290.000000, -69.000000)" fill="fill:currentColor !important" fill-rule="nonzero">\n            <g id="search" transform="translate(13.000000, 59.000000)">\n                <polygon id="ic_close" points="286.777666 10 282.500215 14.2779053 278.222334 10 277 11.2222382 281.277881 15.5002869 277 19.7779053 278.222334 21 282.500215 16.7222382 286.777666 21 288 19.7779053 283.722119 15.5002869 288 11.2222382"></polygon>\n            </g>\n        </g>\n    </g>\n    </svg>\n    '},filter:function(){return'<svg class="cs-icon icon-gear" width="14" height="14" viewBox="0 0 14 14" focusable="false" aria-hidden="true">\n    <path id="icon-gear" transform="translate(0,3)" d="M11.1,9.8C11.1,9.8,11.1,9.8,11.1,9.8C11.1,9.8,11.1,9.7,11.1,9.8c0-0.1,0.1-0.1,0.1-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0-0.1,0.1-0.1c0,0,0,0,0,0c0-0.1,0.1-0.1,0.1-0.2c0,0,0,0,0,0c0-0.1,0-0.1,0.1-0.2c0,0,0,0,0,0c0.1-0.2,0.2-0.5,0.2-0.7l2-0.4V6.4l-2-0.4c0-0.3-0.1-0.5-0.2-0.7c0,0,0,0,0,0c0-0.1,0-0.1-0.1-0.2c0,0,0,0,0,0c0-0.1,0-0.1-0.1-0.2c0,0,0,0,0,0c0,0,0-0.1-0.1-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0l1.2-1.7l-0.9-0.9L9.7,2.8c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0-0.1,0-0.1-0.1c0,0,0,0,0,0c-0.1,0-0.1-0.1-0.2-0.1c0,0,0,0,0,0c-0.1,0-0.1,0-0.2-0.1c0,0,0,0,0,0C8.3,2.1,8.1,2.1,7.8,2L7.4,0H6.2L5.9,2c-0.3,0-0.5,0.1-0.7,0.2c0,0,0,0,0,0C5,2.3,5,2.3,4.9,2.3c0,0,0,0,0,0c-0.1,0-0.1,0-0.2,0.1c0,0,0,0,0,0c0,0-0.1,0-0.1,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0L2.3,1.6L1.4,2.5l1.2,1.7c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0.1-0.1,0.1c0,0,0,0,0,0C2.2,5,2.2,5,2.2,5.1c0,0,0,0,0,0c0,0.1,0,0.1-0.1,0.2c0,0,0,0,0,0C2,5.5,1.9,5.8,1.9,6l-2,0.4v1.2l2,0.4c0,0.3,0.1,0.5,0.2,0.7c0,0,0,0,0,0c0,0.1,0,0.1,0.1,0.2c0,0,0,0,0,0c0,0.1,0,0.1,0.1,0.2c0,0,0,0,0,0c0,0,0,0.1,0.1,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0l-1.2,1.7l0.9,0.9L4,11.2c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0.1,0,0.1,0.1c0,0,0,0,0,0c0.1,0,0.1,0.1,0.2,0.1c0,0,0,0,0,0c0.1,0,0.1,0,0.2,0.1c0,0,0,0,0,0c0.2,0.1,0.5,0.2,0.7,0.2l0.4,2h1.2l0.4-2c0.3,0,0.5-0.1,0.7-0.2c0,0,0,0,0,0c0.1,0,0.1,0,0.2-0.1c0,0,0,0,0,0c0.1,0,0.1,0,0.2-0.1c0,0,0,0,0,0c0,0,0.1,0,0.1-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0l1.7,1.2l0.9-0.9L11.1,9.8C11,9.8,11,9.8,11.1,9.8C11,9.8,11.1,9.8,11.1,9.8z M6.8,9.2c-1.2,0-2.2-1-2.2-2.2c0-1.2,1-2.2,2.2-2.2C8,4.8,9,5.8,9,7C9,8.2,8,9.2,6.8,9.2z"/>\n  </svg>'},close:function(){return'\n    <svg class="cs-icon icon-close" width="20" height="20" viewBox="0 0 36 36" focusable="false" aria-hidden="true">\n      <polygon points="36,2.826 33.174,0 18,15.174 2.826,0 0,2.826 15.174,18 0,33.174 2.826,36 18,20.826 33.174,36 36,33.174 20.826,18" />\n    </svg>'},clear:function(){return'<svg class="cs-icon icon-clear" width="13" height="14" viewBox="0 0 13 14" focusable="false" aria-hidden="true">\n    <use xlink:href="#icon-clear" fill="rgba(240, 240, 240, 1)" transform="translate(0, 1)" />\n    <path id="icon-clear" transform="translate(3,3)" d="M6.5,0C2.9,0,0,2.9,0,6.5C0,10.1,2.9,13,6.5,13c3.6,0,6.5-2.9,6.5-6.5C13,2.9,10.1,0,6.5,0z M1.5,6.5c0-2.8,2.2-5,5-5c1.2,0,2.4,0.5,3.2,1.2L2.2,9.1C1.8,8.3,1.5,7.5,1.5,6.5z M6.5,11.5c-1.2,0-2.3-0.5-3.2-1.2L10.8,4c0.4,0.7,0.7,1.6,0.7,2.5C11.5,9.3,9.3,11.5,6.5,11.5z"/>\n  </svg>'},hamburger:function(){return'\n    <svg class="cs-icon" width="30px" height="12px" viewBox="0 10 30 12" focusable="false" aria-hidden="true">\n      <path transform="translate(0, 1)" d="M0,15 L17,15 L17,17 L0,17 L0,15 Z M0,11 L17,11 L17,13 L0,13 L0,11 Z M0,19 L17,19 L17,21 L0,21 L0,19 Z" ></path>\n    </svg>\n  '},file:function(){return'\n    <svg width="20px" height="27px" viewBox="0 0 40 50" role="presentation" focusable="false" aria-hidden="true">\n      <g stroke="none" strokeWidth="1" fill="none" fillRule="evenodd">\n        <g>\n          <path class="file-icon-bg" d="M2.00804893,0 C0.899034128,0 0,0.889064278 0,1.99091407 L0,48.0090859 C0,49.1086374 0.892756032,50 1.99862555,50 L37.2170607,50 C38.3208711,50 39.2156863,49.1011186 39.2156863,47.993136 L39.2156863,13.6363636 L26.1437908,0 L2.00804893,0 Z"></path>\n          <path class="file-icon-fold" d="M26.1437908,0 L26.1437908,11.7296861 C26.1437908,12.8319383 27.0422752,13.7254902 28.1433598,13.7254902 L39.2156863,13.7254902"></path>\n        </g>\n      </g>\n    </svg>'},link:function(e){return'\n  <svg class="link-icon" preserveAspectRatio="none" x="0px" y="0px" width="18px" height="18px" viewBox="0 0 18 18" role="presentation" focusable="false" aria-hidden="true">\n      <path fill="'.concat(e,'" stroke="none" d="\n            M 1.45 8.5\n            Q 0.0453125 10.0015625 0 11.9\n            L 0 12.15\n            Q 0.0453125 14.0484375 1.45 15.55\n            L 1.5 15.6\n            Q 3.0015625 17.0046875 4.85 17.05\n            L 5.1 17.05\n            Q 7.0150390625 17.0046875 8.5 15.6\n            L 10.65 13.45\n            Q 10.95 13.15 10.95 12.75 10.95 12.35 10.65 12.05 10.3689453125 11.7689453125 10 11.75\n            L 9.95 11.75\n            Q 9.55 11.75 9.2 12.05\n            L 7.1 14.15\n            Q 6.2 15.05 5 15.05 3.8 15.05 2.9 14.15 2 13.25 2 12.05 2 10.8826171875 2.85 9.95\n            L 5 7.8\n            Q 5.3 7.5 5.3 7.1\n            L 5.3 7.05\n            Q 5.2810546875 6.6810546875 5 6.4 4.7 6.1 4.3 6.1 3.9 6.1 3.55 6.4\n            L 1.45 8.5\n            M 12.05 5\n            Q 11.75 4.7 11.35 4.7 10.95 4.7 10.65 5\n            L 5 10.65\n            Q 4.7 10.95 4.7 11.35 4.7 11.75 5 12.05 5.3 12.35 5.7 12.35 6.1 12.35 6.4 12.05\n            L 12.05 6.4\n            Q 12.35 6.1 12.35 5.7 12.35 5.3 12.05 5\n            M 15.6 1.5\n            L 15.55 1.45\n            Q 14 0 12.05 0\n            L 12 0\n            Q 10.05 0 8.5 1.45\n            L 6.4 3.55\n            Q 6.1 3.9 6.1 4.3 6.1 4.7 6.4 5 6.7 5.3 7.1 5.3 7.5 5.3 7.8 5\n            L 9.95 2.85\n            Q 10.8826171875 2 12.05 2 13.25 2 14.15 2.9 15.05 3.8 15.05 5 15.05 6.2 14.15 7.1\n            L 12.05 9.2\n            Q 11.75 9.55 11.75 9.95 11.75 10.35 12.05 10.65 12.35 10.95 12.75 10.95 13.15 10.95 13.45 10.65\n            L 15.6 8.5\n            Q 17.05 6.96875 17.05 5 17.05 3.05 15.6 1.5 Z"/>\n          </svg>')},settings:function(){return'\n    <svg class="cs-icon" data-ref="settings" width="16px" height="16px" viewBox="0 0 16 16" focusable="false" aria-hidden="true">\n      <path d="M8.94,0 C9.82,0 10.55,0.62 10.63,1.45 L10.73,2.36 C11.1,2.52 11.45,2.71 11.78,2.94 L12.66,2.56 C13.46,2.22 14.39,2.5 14.83,3.23 L15.77,4.77 C16.21,5.5 16,6.4 15.29,6.9 L14.51,7.42 C14.54,8.19 14.53,8.38 14.51,8.58 L15.29,9.11 C16,9.6 16.21,10.51 15.77,11.23 L14.83,12.77 C14.39,13.49 13.46,13.78 12.66,13.44 L11.78,13.06 C11.45,13.29 11.1,13.48 10.73,13.64 L10.63,14.55 C10.55,15.38 9.82,16 8.94,16 L7.06,16 C6.18,16 5.45,15.38 5.37,14.55 L5.27,13.64 C4.9,13.48 4.55,13.29 4.22,13.06 L3.34,13.44 C2.54,13.78 1.61,13.5 1.17,12.77 L0.23,11.23 C-0.21,10.51 0,9.6 0.71,9.11 L1.49,8.58 C1.46,7.81 1.47,7.62 1.49,7.42 L0.71,6.89 C0,6.40 -0.21,5.49 0.23,4.77 L1.17,3.23 C1.61,2.51 2.54,2.22 3.34,2.56 L4.22,2.94 C4.55,2.71 4.9,2.52 5.27,2.36 L5.37,1.45 C5.45,0.62 6.18,0 7.06,0 Z M7.96,4.53 C5.91,4.53 4.25,6.11 4.25,8.06 C4.25,10.01 5.91,11.59 7.96,11.59 C10.02,11.59 11.68,10.01 11.68,8.06 C11.68,6.11 10.02,4.53 7.96,4.53 Z"></path>\n    </svg>\n    '},playbackSpeed:function(){return'\n    <svg class="cs-icon" width="15" height="15" viewBox="0 0 15 15" focusable="false" aria-hidden="true">\n      <path d="M5.9 4.0L10.4 7.4L5.9 10.8V4.0ZM1.5 8.2H0.0C0.1 9.6 0.6 10.9 1.5 12.0L2.6 11.0C2.0 10.1 1.6 9.2 1.5 8.2H1.5ZM15 7.4H14.9C14.9 5.6 14.3 3.8 13.0 2.4C11.8 1.0 10.0 0.1 8.2 0.0V1.5C10.1 1.7 11.8 2.9 12.8 4.7C13.7 6.4 13.7 8.5 12.8 10.2C11.8 12.0 10.1 13.1 8.2 13.4V14.9C10.0 14.7 11.8 13.8 13.0 12.5C14.3 11.1 14.9 9.3 14.9 7.4L15 7.4ZM3.6 12.1L2.5 13.1C3.7 14.1 5.1 14.8 6.7 14.9V13.4V13.4C5.5 13.3 4.5 12.8 3.6 12.1V12.1ZM2.6 3.9L1.5 2.8C0.6 3.9 0.1 5.3 0 6.7H1.5H1.5C1.6 5.7 2.0 4.7 2.6 3.9H2.6ZM6.7 1.5V0.0C5.1 0.1 3.7 0.7 2.5 1.7L3.6 2.8C4.5 2.1 5.5 1.6 6.7 1.5V1.5Z" stroke="none" />\n    </svg>\n  '},track:function(e,t){return'\n    <svg xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="16px" viewBox="0 0 24 16" focusable="false" aria-hidden="true">\n      <defs>\n        <rect id="'.concat(t,'-track" x="2" y="3.5" width="20" height="9" rx="4.5"></rect>\n        <filter x="-12.5%" y="-27.8%" width="125.0%" height="155.6%" filterUnits="objectBoundingBox" id="').concat(t,'-trackFilter">\n          <feGaussianBlur stdDeviation="1.5" in="SourceAlpha" result="shadowBlurInner1"></feGaussianBlur>\n          <feOffset dx="0" dy="1" in="shadowBlurInner1" result="shadowOffsetInner1"></feOffset>\n          <feComposite in="shadowOffsetInner1" in2="SourceAlpha" operator="arithmetic" k2="-1" k3="1" result="shadowInnerInner1"></feComposite>\n          <feColorMatrix values="0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.5 0" type="matrix" in="shadowInnerInner1"></feColorMatrix>\n        </filter>\n      </defs>\n      <g class="thumb-off" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g>\n          <use class="track" fill-rule="evenodd" xlink:href="#').concat(t,'-track"></use>\n          <use fill="black" fill-opacity="1" filter="url(#').concat(t,'-trackFilter)" xlink:href="#').concat(t,'-track"></use>\n          <use class="border" stroke-width="1" xlink:href="#').concat(t,'-track"></use>\n          <circle class="thumb" stroke-width="0" cx="8" cy="8" r="6"></circle>\n        </g>\n      </g>\n      <g class="thumb-on" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g>\n          <use class="track" fill-rule="evenodd" xlink:href="#').concat(t,'-track"></use>\n          <use fill="black" fill-opacity="1" filter="url(#').concat(t,'-trackFilter)" xlink:href="#').concat(t,'-track"></use>\n          <use class="border" stroke-width="1" xlink:href="#').concat(t,'-track"></use>\n          <circle fill="').concat(e,'" stroke-width="0" cx="16" cy="8" r="6"></circle>\n        </g>\n      </g>\n    </svg>\n  ')},downArrow:function(e,t){return'\n    <div style="height: 100%; width: 100%; background-color: '.concat(e,"; border-right: 1px solid; border-bottom: 1px solid; border-color: ").concat(t,'; border-bottom-right-radius: 3px; transform: rotate(45deg);" />\n    ')},checkmark:function(){return'<svg  class="cs-icon check-icon" focusable="false" aria-hidden="true" width="16px" height="16px" viewBox="0 0 16 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n          <polygon style="fill:currentColor !important" points="12.04 4 13.45 5.41 6.25 12.62 2 8.36 3.41 6.95 6.25 9.79"></polygon>\n      </g>\n    </svg>'},lock:function(){return'<svg width="16px" height="12px" viewBox="0 0 9 12" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g fill="#FFFFFF" fill-rule="nonzero">\n            <path style="fill:currentColor !important" d="M7.875,4 L7.3125,4 L7.3125,2.85714286 C7.3125,1.28 6.0525,0 4.5,0 C2.9475,0 1.6875,1.28 1.6875,2.85714286 L1.6875,4 L1.125,4 C0.50625,4 0,4.51428571 0,5.14285714 L0,10.8571429 C0,11.4857143 0.50625,12 1.125,12 L7.875,12 C8.49375,12 9,11.4857143 9,10.8571429 L9,5.14285714 C9,4.51428571 8.49375,4 7.875,4 Z M6.24375,4 L2.75625,4 L2.75625,2.85714286 C2.75625,1.88 3.538125,1.08571429 4.5,1.08571429 C5.461875,1.08571429 6.24375,1.88 6.24375,2.85714286 L6.24375,4 Z"></path>\n        </g>\n    </g>\n</svg>'},lockedViewed:function(){return'<svg width="16px" height="12px" viewBox="0 0 9 12" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g fill="#FFFFFF" fill-rule="nonzero">\n            <path style="fill:currentColor !important" d="M7.875,4 L7.3125,4 L7.3125,2.85714286 C7.3125,1.28 6.0525,0 4.5,0 C2.9475,0 1.6875,1.28 1.6875,2.85714286 L1.6875,4 L1.125,4 C0.50625,4 0,4.51428571 0,5.14285714 L0,10.8571429 C0,11.4857143 0.50625,12 1.125,12 L7.875,12 C8.49375,12 9,11.4857143 9,10.8571429 L9,5.14285714 C9,4.51428571 8.49375,4 7.875,4 Z M7.11248548,6.17405922 C7.38175483,6.47268397 7.38175483,6.92847965 7.0966461,7.21138731 L4.53066757,9.75755627 C4.38811321,9.8990101 4.19804072,9.96187847 4.02380761,9.96187847 C3.83373513,9.96187847 3.65950202,9.8990101 3.51694766,9.75755627 L2.34544071,8.45018243 C2.06033199,8.16727477 2.06033199,7.71147909 2.34544071,7.42857143 C2.63054944,7.14566377 3.08989127,7.14566377 3.375,7.42857143 L4.02380761,8.21728122 L6.08292619,6.17405922 C6.36803491,5.89115155 6.82737675,5.89115155 7.11248548,6.17405922 Z M4.5,1.08571429 C5.461875,1.08571429 6.24375,1.88 6.24375,2.85714286 L6.24375,4 L2.75625,4 L2.75625,2.85714286 C2.75625,1.88 3.538125,1.08571429 4.5,1.08571429 Z"></path>\n        </g>\n    </g>\n</svg>'},languagePicker:function(){return'\n<svg class="cs-icon" viewBox="0 0 48 48" width="16" height="16" xmlns="http://www.w3.org/2000/svg">\n  <path d="M23.99 4c-11.05 0-19.99 8.95-19.99 20s8.94 20 19.99 20c11.05 0 20.01-8.95 20.01-20s-8.96-20-20.01-20zm13.85 12h-5.9c-.65-2.5-1.56-4.9-2.76-7.12 3.68 1.26 6.74 3.81 8.66 7.12zm-13.84-7.93c1.67 2.4 2.97 5.07 3.82 7.93h-7.64c.85-2.86 2.15-5.53 3.82-7.93zm-15.48 19.93c-.33-1.28-.52-2.62-.52-4s.19-2.72.52-4h6.75c-.16 1.31-.27 2.64-.27 4 0 1.36.11 2.69.28 4h-6.76zm1.63 4h5.9c.65 2.5 1.56 4.9 2.76 7.13-3.68-1.26-6.74-3.82-8.66-7.13zm5.9-16h-5.9c1.92-3.31 4.98-5.87 8.66-7.13-1.2 2.23-2.11 4.63-2.76 7.13zm7.95 23.93c-1.66-2.4-2.96-5.07-3.82-7.93h7.64c-.86 2.86-2.16 5.53-3.82 7.93zm4.68-11.93h-9.36c-.19-1.31-.32-2.64-.32-4 0-1.36.13-2.69.32-4h9.36c.19 1.31.32 2.64.32 4 0 1.36-.13 2.69-.32 4zm.51 11.12c1.2-2.23 2.11-4.62 2.76-7.12h5.9c-1.93 3.31-4.99 5.86-8.66 7.12zm3.53-11.12c.16-1.31.28-2.64.28-4 0-1.36-.11-2.69-.28-4h6.75c.33 1.28.53 2.62.53 4s-.19 2.72-.53 4h-6.75z"/>\n</svg>\n  '}},No={play:function(){return'<svg id="icon-play" class="cs-icon play-icon" width="14" height="16" viewBox="0 0 14 16" focusable="false" aria-hidden="true">\n    <path d="M1.4 15.4C0.8 15.8 0 15.3 0 14.5L0 1.4C0 0.6 0.8 0.1 1.4 0.5L12.9 7.1C13.5 7.5 13.5 8.4 12.9 8.8L8.0 11.6L1.4 15.4Z" stroke="none" />\n  </svg>'}},Fo=function(e){return DS.detection.env.isPerpetual?Ho[e]||Mo:No[e]||Ho[e]||Mo};function Vo(e){return Vo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vo(e)}function Wo(e){return function(e){if(Array.isArray(e))return Ko(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||zo(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Uo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw i}}return l}}(e,t)||zo(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zo(e,t){if(e){if("string"==typeof e)return Ko(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ko(e,t):void 0}}function Ko(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Go(e,t){return Go=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Go(e,t)}function qo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Qo(e);if(t){var i=Qo(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Vo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Zo(e)}(this,n)}}function Zo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qo(e){return Qo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Qo(e)}function Yo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==Vo(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Vo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===Vo(o)?o:String(o)),r)}var i,o}function Xo(e,t,n){return t&&Yo(e.prototype,t),n&&Yo(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function $o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Jo=function(e){return t(e.slideid)},ea=DS,ta=ea.windowManager,na=ea.focusManager,ra=ea.TweenLite,ia=ea.events,oa=ea.pubSub,aa=ea.keyManager,la=ea.resolver,ca=ea.dom,sa=(ca.hasClass,ca.removeClass),ua=ca.addClass,fa=ca.getParentWithClass,da=ea._,ha=da.bindAll,pa=(da.first,ea.utils),ya=pa.stripTags,va=(pa.stripPlayer,pa.prefixWithPlayer),ba=ea.globalEventHelper,ma=ba.addDocumentListener,ga=(ba.removeDocumentListener,ea.detection),wa=ga.theme,Sa=ga.os,ka=Xo((function e(t,n,r){$o(this,e),this.slideId=t,this.title=n,this.text=r})),Oa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Go(e,t)}(n,e);var t=qo(n);function n(e){var r;$o(this,n),r=t.call(this,e),ha(Zo(r),"traverseLinks","performSearch","onSlideChanged","onClear","onReset","loadSlideBankSearchData"),r.animationDuration=.2;var i=$.model.frame.notesData||[];return r.notesBySlideId=i.map((function(e){return new ka(va(e.slideId),DS.utils.getPath(la.resolvePath(e.slideId,DS.presentation),"title"),ya(e.content).trim())})),r.slideTextData=$.model.frame.navData.search||[],r.slideTextBySlideId=r.slideTextData.filter((function(e){return!e.slidebank})).map((function(e){return new ka(va(e.slideid),DS.utils.getPath(la.resolvePath(e.slideid,DS.presentation),"title"),ya(e.Text).trim())})),r.menuOptions=$.model.frame.controlOptions.menuOptions,r.wrapListItems=r.menuOptions.wrapListItems,r.links=$.model.frame.navData.outline.links,r.hasSlideBankSlides=r.slideTextData.some((function(e){return e.slidebank})),r.hasSlideBankSlides&&oa.on(ia.player.RESET,r.onReset),null!=r.clearEl&&r.onClickEl(r.clearEl,r.onClear),oa.on(ia.search.CLEAR,r.onClear),r.onClickEl(r.searchFilterEl,r.onToggleSearchOptions),r.onClick(r.onClickLink),oa.on(ia.window.MAIN_CHANGED,r.onSlideChanged),r}return Xo(n,[{key:"loadSlideBankSearchData",value:function(){this.slideBankTextBySlideId=this.slideTextData.filter((function(e){return e.slidebank})).reduce((function(e,t){var n=la.getSlideBankSlideInstance(t.slideid);return null!==n&&e.push(new ka(n.absoluteId,n.title(),ya(t.Text))),e}),[])}},{key:"teardown",value:function(){oa.off(ia.window.MAIN_CHANGED,this.onSlideChanged),window.globals.HAS_SLIDE&&oa.off(ia.search.CLEAR,this.onClear)}},{key:"onSlideChanged",value:function(e){var t=this.resultsEl.querySelector(".cs-selected"),n=this.resultsEl.querySelector('[data-slide-id="'.concat(e.absoluteId,'"]'));null!=t&&sa(t,"cs-selected"),null!=n&&(ua(n,"cs-selected"),ua(n,"cs-viewed"),this.updateAriaLabel(n))}},{key:"onReset",value:function(){this.onClear(),this.loadSlideBankSearchData()}},{key:"onFocus",value:function(e){e.relatedTarget;var t=e.target;if(this.el.contains(t)){if(t===this.searchFilterEl||t===this.clearEl)return na.setFocusRectOn(t),this.isFocused=!1,!1;if(t===this.notesCheckEl||t===this.slideCheckEl)return na.setFocusRectOn(t.parentElement),this.isFocused=!1,!1;if(!this.isFocused&&(!wa.isUnified||aa.isShowFocus)){var n=Uo(this.getItems(),1)[0];this.isFocused=!0,null!=n&&(this.currentItem=n,this.lastSelected!==this.currentItem&&this.focusOnCurrent(),ma("keydown",this.onKeydown))}}return!1}},{key:"getIsSearchVisible",value:function(){return this.searchOptionsEl.classList.contains("visible")}},{key:"setCheckboxesVisible",value:function(e){this.notesCheckEl.hidden=e,this.slideCheckEl.hidden=e}},{key:"onToggleSearchOptions",value:function(e){var t=this,n=this.getIsSearchVisible(),r=n?"remove":"add";this.searchOptionsEl.classList[r]("visible"),n?(clearTimeout(this.checkBoxTimeout),this.checkBoxTimeout=setTimeout((function(){t.setCheckboxesVisible(n)}),200)):this.setCheckboxesVisible(n)}},{key:"onClickLink",value:function(e){if("locked"!==this.menuOptions.flow){var t=fa(e.target,"listitem"),n=t.dataset.slideId;null==n||"restricted"===this.menuOptions.flow&&!e.target.classList.contains("cs-viewed")||(ua(t,"cs-viewed"),this.updateAriaLabel(t),oa.trigger(ia.request.NEXT_SLIDE,n))}}},{key:"updateAriaLabel",value:function(e){wa.isUnified&&Wo(e.querySelector(".outline-states").children).forEach((function(t){if("none"===window.getComputedStyle(t).display);else{var n=t.getAttribute("aria-label"),r=e.getAttribute("data-slide-title");e.children[0].textContent=r+" "+n}}))}},{key:"traverseLinks",value:function(e){for(var t=0;t<e.length;t++){var n=e[t];Jo(n)||this.searchResults.has(n.slideid)||(this.noSearchTerm||n.displaytext.toLowerCase().indexOf(this.term)>=0)&&this.searchResults.set(n.slideid,n.displaytext),null!=n.links&&this.traverseLinks(n.links)}}},{key:"getDefaultSate",value:function(e){var t=ta.getCurrentWindow().getCurrentSlide().absoluteId===e||la.resolvePath(e).viewed,n=this.menuOptions.flow;if(t)switch(n){case"free":case"restricted":return $.model.getString("acc_visited");case"locked":return"".concat($.model.getString("acc_visited"),", ").concat($.model.getString("acc_locked"))}else switch(n){case"free":return"";case"restricted":case"locked":return $.model.getString("acc_locked")}}},{key:"performSearch",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(!window.globals.HAS_SLIDE)return 0;this.term=t.toLowerCase(),this.items=null,this.noSearchTerm=""===t,this.searchResults=new Map,this.resultsEl.innerHTML="",this.slideTextEnabled=this.slideCheckEl.checked,this.notesEnabled=this.notesCheckEl.checked;var n=$.model.frame.navData.links;null!=n&&this.traverseLinks(n),this.hasSlideBankSlides&&void 0===this.slideBankTextBySlideId&&this.loadSlideBankSearchData();var r=function(t){t.forEach((function(t){(t.text.toLowerCase().indexOf(e.term)>=0||t.title.toLowerCase().indexOf(e.term)>=0)&&e.searchResults.set(t.slideId,t.title)}))},i=!this.noSearchTerm;this.slideTextEnabled&&i&&r(this.slideTextBySlideId),this.hasSlideBankSlides&&i&&r(this.slideBankTextBySlideId),this.notesEnabled&&i&&r(this.notesBySlideId);Sa.isIOS;var o=this.wrapListItems?"":"no-wrap",a=ta.getCurrentWindow().getCurrentSlide().absoluteId,l=0;return this.searchResults.forEach((function(t,n){0;var r=a===n?"cs-selected":"",i=document.createElement("li"),c=la.resolvePath(n).viewed?"cs-viewed":"",s=e.menuOptions.flow,u=e.getDefaultSate(n),f='\n      <div role="menuitem" class="cs-listitem listitem '.concat(r," ").concat(o," ").concat(c," ").concat("free"!==s&&"cs-"+s,'"\n           data-slide-id="').concat(n,'"\n           data-slide-title="').concat(t,'"\n           tabindex="').concat(l,'"\n           role = "treeitem">\n          <span style="position: absolute; opacity: 0;">').concat(t," ").concat(u,"</span>");wa.isUnified?f+='\n           <span class="linkText" aria-hidden="true">\n             '.concat(t,'\n           </span>\n           <span class="outline-states" aria-hidden="true">\n             <span class="visitedIcon" aria-label="').concat($.model.getString("acc_visited"),'">\n               ').concat(Fo("checkmark")(),'\n             </span>\n             <span class="lockedIcon" aria-label="').concat($.model.getString("acc_locked"),'">\n               ').concat(Fo("lock")(),'\n             </span>\n             <span class="lockedViewedIcon" aria-label="').concat($.model.getString("acc_visited"),", ").concat($.model.getString("acc_locked"),'">\n               ').concat(Fo("lockedViewed")(),"\n             </span>\n           </span>\n        </div>\n      "):f+="\n             ".concat(t,"\n        </div>"),i.innerHTML=f,e.resultsEl.appendChild(i),l=-1})),this.searchResults.size}},{key:"onClear",value:function(){var e=this,t=this.view.parent.children,n=t.outline,r=t.search;this.outlineUl=this.outlineUl||document.querySelector("#outline-content ul"),n.setVisibility(!0),ra.to(this.el,this.animationDuration,{alpha:0,onComplete:function(){ra.to(e.outlineUl,e.animationDuration,{alpha:1}),e.view.setVisibility(!1),r.children.bottomDiv.el.style.opacity=1,aa.isShowFocus&&e.el.contains(document.activeElement)&&n.el.focus()}}),this.term="",r.children.searchInput.el.value="",sa(document.body,"search-results-active"),oa.trigger(ia.search.UPDATE_PANEL)}},{key:"hasListItems",value:function(){return!_.isEmpty(this.getItems())}},{key:"getItems",value:function(){return this.items=this.items||Wo(this.el.querySelectorAll(".cs-listitem")),this.items}},{key:"activateItem",value:function(){this["locked"!==this.menuOptions.flow?"onClickLink":"onCarrotClick"]({target:this.currentItem})}},{key:"findIndexCb",value:function(e,t){return e===t}},{key:"getItemContent",value:function(){return this.currentItem}},{key:"onAfterVisible",value:function(){this.view.parent.children.outline.setVisibility(!1)}}]),n}(Bo),Ca=Oa,Ea="searchResults",xa=$.def(Ea,Ca,(function(e){var t=$.model;t.rtl;return{attrs:{id:Ea+"-content",tabindex:-1},z:2,x:0,y:0,w:"100%",h:function(){return this.parent.h},visible:!1,html:'\n      <span class="cs-outline search-content" data-ref="content">\n        <span class="flex-static-auto">\n          <h4 data-ref="title" class="cs-heading search-heading panel-section-heading">\n            '.concat(t.getString("search_results"),'\n          </h4>\n          <button class="btn-unstyled search-filter cs-search-filter" tabindex="0" data-ref="searchFilter">\n            <span>').concat(t.getString("filter"),"</span>\n            ").concat(lo("filter")(),'\n          </button>\n        </span>\n        <hr class="cs-div cs-diva" />\n        <div class="search-options flex-static-auto" data-ref="searchOptions">\n          <p>').concat(t.getString("search_in"),'</p>\n          <label>\n            <input data-ref="notesCheck" type="checkbox" checked hidden>\n            <span>').concat(t.getString("transcript_chk"),'</span>\n          </label>\n          <label>\n            <input data-ref="slideCheck" type="checkbox" checked hidden>\n            <span>').concat(t.getString("slide_text_chk"),'</span>\n          </label>\n          <hr class="cs-div cs-diva" />\n        </div>\n        <div class="search-results is-scrollable" tabindex="0" data-ref="searchResults">\n          <ul data-ref="results"></ul>\n        </div>\n        <hr class="cs-diva diva full-width-hr" />\n        <hr class="cs-divb divb full-width-hr" />\n        <button data-ref="clear" class="btn search-clear cs-button flex-static-auto" tabindex="0">\n          ').concat(lo("clear")(),"\n          <span>").concat(t.getString("clear"),"</span>\n        </button>\n      </span>\n    ")}}));function Ta(e){return Ta="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ta(e)}function La(e){return function(e){if(Array.isArray(e))return Pa(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Pa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pa(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==Ta(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ta(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===Ta(o)?o:String(o)),r)}var i,o}function ja(){return ja="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ra(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},ja.apply(this,arguments)}function Da(e,t){return Da=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Da(e,t)}function Ia(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ra(e);if(t){var i=Ra(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Ta(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Aa(e)}(this,n)}}function Aa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ra(e){return Ra=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ra(e)}var Ba=DS,Ma=Ba.detection,Ha=Ba.pubSub,Na=Ba._,Fa=Ba.events,Va=Ba.keyManager,Wa=Ba.resolver,Ua=Ba.windowManager,za=Ba.utils.prefixWithPlayer,Ka=Ba.focusManager.setFocusRectOn,Ga=Ba.globalEventHelper.addDocumentListener,qa=Ba.dom,Za=qa.parentNodesOf,Qa=qa.getParentWithClass,Ya=qa.hasClass,Xa=qa.addClass,$a=qa.removeClass,Ja=function(e){return Za(e,(function(e){return"li"===e.nodeName.toLowerCase()}))},el=function(e){return Ja(e).slice(1).some((function(e){return Ya(e,"item-collapsed")}))},tl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Da(e,t)}(a,e);var n,r,i,o=Ia(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),t=o.call(this,e),Na.bindAll(Aa(t),"updateVisitedSlides","onSlideChanged","onSelectFirstSlideLink","addSlideToVisited","visuallyUpdateLinks","collapseLastItem","onClickLink","onCarrotClick","onClickItem","centerOnFocused","setDrawSlides","mouseDown","mouseUp"),t.visitedSlides=new Set,t.completedScenes=new Set,t.menuOptions=$.model.frame.controlOptions.menuOptions,Ha.once(Fa.resume.SET_DATA,t.updateVisitedSlides),Ha.on(Fa.window.MAIN_CHANGED,t.onSlideChanged),Ha.on(Fa.mobile.OUTLINE_SHOWN,t.centerOnFocused),Ha.on(Fa.navData.SELECT_FIRST_SLIDE_LINK,t.onSelectFirstSlideLink),t.removeDocListeners=Na.flow(Ga("mousedown",t.mouseDown),Ga("mouseup",t.mouseUp)),null!=DS.presentation.getDrawPromise&&DS.presentation.getDrawPromise().then(t.setDrawSlides),t.isTopTabChild=$.model.topTabs.some((function(e){return"outline"===e.name})),DS.flagManager.localizationPlatform&&Ha.on(Fa.frame.SHOW_TAB_ITEM,t.onShowTabItem.bind(Aa(t))),Ha.on(Fa.navData.REFRESH_VIEW,(function(){if(DS.flagManager.localizationPlatform){var e=DS.utils.getPath(t.el.querySelector(".cs-selected"),"dataset.ref");t.view.updateHtml(),t.view.update(),t.view.initChildRefs(),t.visuallyUpdateLinks();var n=DS.utils.getPath(t.view,["children",e,"el"]);null!=n&&Xa(n,"cs-selected")}else t.view.updateHtml(),t.view.update()})),t}return n=a,r=[{key:"teardown",value:function(){Ha.off(Fa.window.MAIN_CHANGED,this.onSlideChanged),Ha.off(Fa.mobile.OUTLINE_SHOWN,this.centerOnFocused),this.removeDocListeners()}},{key:"focusSelf",value:function(){this.getItems().find((function(e){return 0===e.parentNode.tabIndex})).parentNode.focus()}},{key:"onFocus",value:function(){var e=this;this.isMouseDown||(null!=this.view.parent.children.search&&Ma.theme.isUnified?setTimeout((function(){e.el.contains(document.activeElement)&&ja(Ra(a.prototype),"onFocus",e).call(e)}),500):ja(Ra(a.prototype),"onFocus",this).call(this))}},{key:"mouseDown",value:function(){this.isMouseDown=!0}},{key:"mouseUp",value:function(){this.isMouseDown=!1}},{key:"onClickItem",value:function(e){var t=this;if(Ma.theme.isUnified){var n=Qa(e.target,"listitem");Ya(e.target,"carrot")&&(t.onCarrotClick(n),1)||n&&Ya(n.parentNode,"item-collapsible")&&(t.onCarrotClick(n),!Ya(n,"is-promoted-slide"))||"locked"!==t.menuOptions.flow&&t.onClickLink(n)}else("locked"!==this.menuOptions.flow?this.onClickLink:this.onCarrotClick)(e.target)}},{key:"visuallyUpdateLinks",value:function(){var e=this;this.visitedSlides.forEach((function(t){var n=e.view.children[t];null!=n&&(Ma.theme.isUnified?e.updateViewedState(n.el):Xa(n.el,"cs-viewed"))})),Ma.theme.isUnified&&(this.setComplete("div.is-promoted-slide"),this.setComplete("div.is-scene",1))}},{key:"setComplete",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=this.el.querySelectorAll(e);Array.from(r).forEach((function(e){var r=Array.from(e.parentNode.querySelectorAll("div")).slice(n);r.length&&r.every((function(e){return Ya(e,"cs-viewed")}))&&(Xa(e,"cs-complete"),t.updateAriaLabel(e))}))}},{key:"updateVisitedSlides",value:function(e,t){null!=e&&(e.forEach(this.addSlideToVisited),this.visuallyUpdateLinks())}},{key:"getNextItem",value:function(e){var t,n=this,r=this.getItems(),i=r.findIndex((function(t){return n.findIndexCb(t,e)}));do{(i+=1)===r.length&&(i=0),t=r[i]}while(el(t));return t}},{key:"getPrevItem",value:function(e){var t,n=this,r=this.getItems(),i=r.findIndex((function(t){return n.findIndexCb(t,e)}));do{-1==(i-=1)&&(i=r.length-1),t=r[i]}while(el(t));return t}},{key:"addSlideToVisited",value:function(e){var t=e.absoluteId,n=e.getScene().absoluteId;this.visitedSlides.add(n).add(t),this.addSceneCompleted(e,n)}},{key:"addSceneCompleted",value:function(e,t){var n,r;n=e.collection.models.map((function(e){return e.absoluteId})),r=La(this.visitedSlides),n.every((function(e){return r.includes(e)}))&&this.completedScenes.add(t)}},{key:"isSceneCompleted",value:function(e){return this.completedScenes.has(e)}},{key:"isCurrentLinkParent",value:function(e,t){return e.el===this.view.children[t].el&&e.el.getAttribute("data-has-links")&&!e.el.getAttribute("data-is-scene")}},{key:"onSelectFirstSlideLink",value:function(){var e=this.view.el.querySelector("ul > li > div:not(.is-scene)");if(null!=e){var t=e.getAttribute("data-ref");this.selectLink(e,t)}}},{key:"onSlideChanged",value:function(e){if(this.addSlideToVisited(e),!this.currentItem||Qa(this.currentItem,"listitem").getAttribute("data-ref")!=e.absoluteId){var t=e.absoluteId,n=this.view.children[t];if(null==n){var r=e.getSlideDraw();null!=r&&(t=r.absoluteId,n=this.view.children[t])}if(null!=n&&this.selectLink(n.el,t),null==n){var i,o=e.getScene().absoluteId,a=null===(i=this.view.children[o])||void 0===i?void 0:i.el;if(null==a)return;var l=Ja(a)[0];if(null!=l&&!Ya(l,"item-collapsible")){var c=this.el.querySelector(".cs-selected");null!=c&&$a(c,"cs-selected"),Xa(a,"cs-selected")}this.isSceneCompleted(o)&&Xa(a,"cs-complete"),this.updateViewedState(a)}}}},{key:"selectLink",value:function(e,t){var n=this;this.onClickLink(e,!0),Za(e,(function(r){r.classList.contains("item-collapsed")&&(n.isCurrentLinkParent(e,t)||($a(r,"item-collapsed"),r.setAttribute("aria-expanded",!0)))}),(function(e){return n.el===e}))}},{key:"collapsibleParents",value:function(e){var t=this;return Za(e,(function(e){return e.classList.contains("item-collapsible")}),(function(e){return t.el===e}))}},{key:"collapseLastItem",value:function(e){var t=this;null!=this.lastExpandedEls&&this.menuOptions.autocollapse&&this.lastExpandedEls.forEach((function(n){n.contains(e)||Ya(n,"item-collapsed")||t.toggleScene(n)}))}},{key:"toggleScene",value:function(e){var t,n=Ya(e,"item-collapsed");if(t=n?"remove":"add",e.classList[t]("item-collapsed"),e.setAttribute("aria-expanded",n),Ma.theme.isUnified){var r=Array.from(e.querySelectorAll("div.listitem")),i=r[0];!function(e,t){if(!n){var r=e.slice(1).filter((function(e){return!Ya(e,"is-promoted-slide")&&!Ya(e,"is-scene")}));r.some((function(e){return Ya(e,"cs-viewed")}))&&$a(t,"cs-unvisited"),r.every((function(e){return Ya(e,"cs-viewed")}))&&Xa(t,"cs-complete")}}(r,i),this.updateAriaLabel(i)}Ha.trigger(Fa.menuLinksListItem.TOGGLE)}},{key:"updateAriaLabel",value:function(e){var t,n,r=[].slice.call(null!==(t=null===(n=e.querySelector(".outline-states"))||void 0===n?void 0:n.children)&&void 0!==t?t:[]),i=e.getAttribute("data-slide-title"),o=e.children[0];null!=o&&(r.some((function(e){if("none"!==window.getComputedStyle(e).display){var t=e.getAttribute("aria-label");return o.textContent=i+" "+t,!0}return!1}))||(o.textContent=i))}},{key:"onCarrotClick",value:function(e){if(null!==e){var t=Qa(e,"item-collapsible");this.toggleScene(t)}}},{key:"onClickLink",value:function(e,t){var n=this;if(e)if(Ma.theme.isUnified){var r=e.getAttribute("data-ref"),i=null!=r;if("restricted"!==this.menuOptions.flow||t||this.visitedSlides.has(r)){if(null!=this.currentItem&&e!==this.currentItem&&(this.currentItem.tabIndex=-1,$a(this.currentItem,"hover")),this.currentItem=e,i&&(this.collapseLastItem(e),this.lastExpandedEls=this.collapsibleParents(e),this.lastExpandedEls.forEach((function(e){var t=e.firstElementChild;r.includes(t.getAttribute("data-ref"))&&(Xa(t,"cs-viewed"),n.updateAriaLabel(t))}))),Ya(e,"listitem")){this.updateViewedState(e);var o=this.el.querySelector(".cs-selected"),a=Ja(e).pop();Ya(e,"is-scene")&&Ya(a,"item-collapsible")||(null!=o&&($a(o,"cs-selected"),this.updateAriaLabel(o)),Xa(e,"cs-selected"),window.requestAnimationFrame((function(){return n.updateAriaLabel(e)})))}else this.onCarrotClick(e);if(i&&!t){var l=Ua.getCurrentWindowSlide().absoluteId;r!=l&&(Ha.trigger(Fa.request.NEXT_SLIDE,r),Ma.theme.isUnified&&Ha.trigger(Fa.topEllipsesPanel.HIDE)),Ma.deviceView.isMobile&&(Ha.trigger(Fa.tab.HIDE),(Ma.deviceView.isPhone||Ma.theme.isClassic)&&Ha.trigger(Fa.sidebar.CLOSE))}null!=this.currentItem&&null!=this.focusor&&Ka(this.currentItem)}}else this.onClickLinkOld(e,t)}},{key:"onClickLinkOld",value:function(e,n){var r=e.getAttribute("data-ref"),i=null!=r,o=t(r);if("UL"!==e.nodeName)if("restricted"!==this.menuOptions.flow||n||this.visitedSlides.has(r)){if(null!=this.currentItem&&e!==this.currentItem&&(this.currentItem.tabIndex=-1,$a(this.currentItem,"hover")),this.currentItem=e,(o||Ya(e.parentNode,"item-collapsible"))&&this.toggleScene(e.parentNode),null!=r&&(this.collapseLastItem(e),this.lastExpandedEls=this.collapsibleParents(e),Array.from(this.lastExpandedEls).forEach((function(e){var t=e.firstElementChild;r.includes(t.getAttribute("data-ref"))&&Xa(t,"cs-viewed")}))),Ya(e,"listitem")){Xa(e,"cs-viewed");var a=this.el.querySelector(".cs-selected");null!=a&&$a(a,"cs-selected"),Xa(e,"cs-selected")}else this.onCarrotClick(e);if(i&&!n){var l=Ua.getCurrentWindowSlide().absoluteId;r!=l&&(Ha.trigger(Fa.request.NEXT_SLIDE,r),Ma.theme.isUnified&&Ha.trigger(Fa.topEllipsesPanel.HIDE)),Ma.deviceView.isMobile&&(Ha.trigger(Fa.tab.HIDE),(Ma.deviceView.isPhone||Ma.theme.isClassic)&&Ha.trigger(Fa.sidebar.CLOSE))}null!=this.currentItem&&null!=this.focusor&&Ka(this.currentItem)}else Ya(e,"carrot")&&this.onCarrotClick(e)}},{key:"updateViewedState",value:function(e){Xa(e,"cs-viewed");var t=Ja(e).pop();if(null!=t){if(!Ya(e,"is-scene")||!Ya(t,"item-collapsible")){var n=t.querySelector("div.listitem");$a(n,"cs-unvisited")}Ya(e,"is-scene")&&this.isSceneCompleted(e.getAttribute("data-ref"))&&Xa(e,"cs-complete")}this.updateAriaLabel(e)}},{key:"isExpanded",value:function(){return!!this.currentItem.dataset.hasLinks&&Ya(this.parentElement,"item-collapsed")}},{key:"onKeydown",value:function(e){var t=this.currentItem;if(Va.isActionKey(e.which))this.activateItem(),Va.isSpaceKey(e.which)&&e.preventDefault();else if(Va.isRightKey(e.which)&&t.dataset.hasLinks)Ya(this.currentItem.parentNode,"item-collapsed")?this.onCarrotClick(this.currentItem.firstElementChild):this.currentItem=this.getNextItem(this.getItemContent());else if(Va.isDownKey(e.which))this.currentItem=this.getNextItem(this.getItemContent());else if(Va.isUpKey(e.which))this.currentItem=this.getPrevItem(this.getItemContent());else if(Va.isLeftKey(e.which))if(t.dataset.hasLinks&&!Ya(t.parentNode,"item-collapsed"))this.onCarrotClick(this.currentItem.firstElementChild);else{var n=Qa(this.currentItem,"item-collapsible");null!=n&&(this.currentItem=n.querySelector(".cs-listitem"))}else Va.isHomeKey(e.which)?this.currentItem=this.getFirstItem():Va.isEndKey(e.which)&&(this.currentItem=this.getLastItem());t!==this.currentItem&&(e.preventDefault(),$a(t,"hover"),t.parentNode.tabIndex=-1,this.focusOnCurrent())}},{key:"focusOnCurrent",value:function(){this.centerOnFocused(),document.activeElement!==this.currentItem.parentNode&&(this.currentItem.parentNode.tabIndex=0,Xa(this.currentItem,"hover"),this.currentItem.parentNode.focus()),Ka(this.currentItem)}},{key:"hasListItems",value:function(){return!Na.isEmpty($.model.frame.navData.outline.links)}},{key:"getItems",value:function(){return this.links=this.links||La(this.el.querySelectorAll(".cs-listitem")),this.links}},{key:"activateItem",value:function(){var e="locked"!==this.menuOptions.flow&&null==this.currentItem.dataset.isScene,t=e?"onClickLink":"onCarrotClick",n=e?this.currentItem:this.currentItem.querySelector(".carrot");this[t](n)}},{key:"findIndexCb",value:function(e,t){return e===t}},{key:"getItemContent",value:function(){return this.currentItem}},{key:"getTreeRootEl",value:function(){return this.el.querySelector("ul")}},{key:"getOffsetEl",value:function(){return Ma.deviceView.isMobile?this.el.parentNode:this.el}},{key:"getOffsetTop",value:function(e){return Ma.deviceView.isMobile?Na.first(Za(e,(function(e){return"li"===e.nodeName.toLowerCase()}))).offsetTop:ja(Ra(a.prototype),"getOffsetTop",this).call(this,e)}},{key:"onShowTabItem",value:function(e,t){if("outline"===e&&null!=t){var n=this.getItems().find((function(e){return e.dataset.translationId===t}));null!=n&&n.scrollIntoView({block:"nearest",behavior:"smooth"})}}},{key:"scrollToCurrent",value:function(){var e=this;Ma.deviceView.isMobile&&(this.currentItem=this.getItems().find((function(t){return t.getAttribute("data-ref")===e.currentSlideId}))),ja(Ra(a.prototype),"scrollToCurrent",this).call(this)}},{key:"setDrawSlides",value:function(){var e=this;this.view.draws.forEach((function(t){var n=t.link,r=t.links,i=Wa.resolvePath(za(n.drawid)),o=function(){var t=n.spliceNum||1,o=i.slides();r.splice.apply(r,[n.index,t].concat(La(o.map(e.createNewLink)))),n.spliceNum=o.length,e.view.updateHtml(),e.view.initChildRefs()};i.on(Fa.draw.RESET_COMPLETE,o),null!=i.slides()&&o()}))}},{key:"createNewLink",value:function(e){var t={kind:"slidelink",expand:!1,type:"slide"};return t.slideid=e.absoluteId,t.slidetitle=t.displaytext=e.get("title"),t}}],r&&_a(n.prototype,r),i&&_a(n,i),Object.defineProperty(n,"prototype",{writable:!1}),a}(Bo),nl=tl,rl="rtl",il=function(){return $.model.rtl?rl:""},ol=function(e){$.model.rtl&&!e.contains(rl)?e.add(rl):!$.model.rtl&&e.contains(rl)&&e.remove(rl)},al=DS.utils,ll=al.scaleVal,cl=al.pxify,sl="outline",ul=function(e){for(var t="";e;)t=e.index+1+"."+t,e=null!=e.parent&&"slidelink"===e.parent.kind&&e.parent;return t+" "},fl=$.def(sl,nl,(function(){var e=$.model;return{tag:"nav",attrs:{id:sl+"-content",class:"is-scrollable cs-outline ".concat(il()),tabindex:-1},w:"100%",h:function(){var e=this.parent,t=e.h,n=e.children.search;return t-(null!=n&&n.visible?48:0)},overflow:"auto",draws:[],html:function(){var n=this,r=e.frame.navData.outline.links||[],i=e.frame.controlOptions.menuOptions,o=i.wrapListItems,a=i.autonumber,l=i.tooltips;this.el.depth=0;var c=this.el;return c.innerHTML="",function r(i,c,s){var u=document.createElement("ul");u.depth=c.depth+1,u.tabIndex=-1,null!=s?(u.setAttribute("aria-labelledby",c.firstElementChild.id),u.setAttribute("role","group")):(u.setAttribute("aria-label",e.getString("outline")),u.setAttribute("role","tree")),c.appendChild(u);for(var f=0,d=i.length;f<d;f++){var h=document.createElement("li"),p=i[f];p.parent=s,p.index=f,h.depth=u.depth,h.tabIndex=1===h.depth&&0===f?0:-1,h.setAttribute("role","treeitem"),u.appendChild(h);var y=null!=p.links,v=15*h.depth+3.1,b=v-18,m=p.slideid||p.emptySceneId;null==m&&n.draws.push({link:p,links:i,i:f});var g=t(m),w=e.rtl;h.innerHTML='\n            <div\n              id="outline-'.concat(h.depth,"-").concat(f,'"\n              class="cs-listitem listitem ').concat(o?"":"no-wrap"," ").concat(g?"is-scene":"",'"\n              data-origpad="').concat(v,'"\n              data-ref="').concat(m,'"\n              data-slide-title="').concat(i[f].displaytext,'"\n              ').concat(g?'data-is-scene="true"':"","\n              ").concat(y?'data-has-links="true"':"",'\n              tabIndex="-1"\n              title="').concat(l?p.displaytext:"",'"\n              >\n               ').concat(y?lo("carrot")(w?"94% - ".concat(b,"px"):"".concat(b,"px")):"","\n               ").concat(a?ul(p):""," ").concat(p.displaytext,"\n            </div>\n          "),y&&(h.setAttribute("aria-expanded",p.expand),h.classList.add("item-collapsible"),p.expand||h.classList.add("item-collapsed"),r(p.links,h,p))}}(r,c),c.innerHTML},updateHook:function(){_.toArray(this.el.querySelectorAll(".listitem")).forEach((function(t){var n=parseFloat(t.getAttribute("data-origpad"));t.dataset.isScene&&(n+=2),t.style[e.rtl?"paddingRight":"paddingLeft"]=cl(ll(n)),t.style.marginBottom=cl(ll(1))})),ol(this.el.classList)}}}));function dl(e){return function(e){if(Array.isArray(e))return hl(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return hl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hl(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var pl="outlineSearch",yl=$.def(pl,Ni,(function(){var e=$.model.frame,t=e.controlOptions.controls.search||DS.presentation.isPreview()&&!window.globals.HAS_SLIDE;return{attrs:{id:"".concat(pl,"-content"),class:"outline-search ".concat(il()),tabindex:-1},w:function(){return this.parent.childWidth||this.parent.w},h:function(){return this.parent.childHeight||this.parent.h},model:e,childViews:[].concat(dl(t?[ho,xa]:[]),[fl]),updateHook:function(){this.children.forEach((function(e){return e.update()})),ol(this.el.classList)}}}));function vl(e){return vl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vl(e)}function bl(e){return function(e){if(Array.isArray(e))return ml(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ml(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ml(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ml(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Cl(r.key),r)}}function wl(e,t){return wl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},wl(e,t)}function Sl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ol(e);if(t){var i=Ol(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===vl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return kl(e)}(this,n)}}function kl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ol(e){return Ol=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ol(e)}function Cl(e){var t=function(e,t){if("object"!==vl(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==vl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===vl(t)?t:String(t)}var El=DS,xl=(El._,El.focusManager),Tl=El.detection,Ll=El.pubSub,Pl=El.events,_l=El.dom,jl=_l.addClass,Dl=_l.removeClass,Il=(El.keyManager.isTabKey,function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wl(e,t)}(o,e);var t,n,r,i=Sl(o);function o(e){var t,n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=i.call(this,e),n=kl(t),a=void 0,(r=Cl(r="s"))in n?Object.defineProperty(n,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[r]=a,t.view.isUnified&&(t.getScrollEl=function(){return t.termsEl},t.getOffsetTop=function(e){return e.offsetTop},t.getOffsetHeight=function(e){return e.offsetHeight+e.nextElementSibling.clientHeight}),t.hasDefinition=Tl.deviceView.isDesktop&&!t.view.isUnified,Ll.on(Pl.glossary.REFRESH_VIEW,(function(){t.view.updateHtml(),t.view.update()})),DS.flagManager.localizationPlatform&&Ll.on(Pl.frame.SHOW_TAB_ITEM,t.onShowTabItem.bind(kl(t))),t}return t=o,(n=[{key:"onClickItem",value:function(e){var t=e.target;if(this.hasDefinition&&null!=t&&"p"!==t.nodeName.toLowerCase()){var n=null!=this.activeItem;n&&(this.activeItem.firstElementChild.setAttribute("aria-expanded",!1),this.activeItem.style.backgroundColor="",this.closeItem(this.activeItem)),n&&this.lastSelected==t||(t.setAttribute("aria-expanded",!0),this.openItem(t.parentElement)),this.lastSelected=t}}},{key:"getNextItem",value:function(e){var t,n=this.getItems(),r=this.getItems().indexOf(this.currentItem);do{(r+=1)===n.length&&(r=0),t=n[r]}while("none"===t.parentElement.style.display);return t}},{key:"getPrevItem",value:function(e){var t,n=this.getItems(),r=this.getItems().indexOf(this.currentItem);do{-1==(r-=1)&&(r=n.length-1),t=n[r]}while("none"===t.parentElement.style.display);return t}},{key:"hasListItems",value:function(){return!DS._.isEmpty(this.model.frame.glossaryData)}},{key:"getItems",value:function(){return this.links=this.links||bl(this.el.querySelectorAll(".term")),this.links}},{key:"openItem",value:function(e){jl(e,"cs-selected"),e.nextElementSibling.style.display="block",jl(e.nextElementSibling,"open"),this.activeItem=e}},{key:"closeItem",value:function(e){var t=this;Dl(e,"cs-selected"),Dl(e.nextElementSibling,"open"),this.activeItem=null,TweenLite.to(e,.2,{opacity:1,onComplete:function(){e.nextElementSibling.style.display="none",xl.setFocusRectOn(t.currentItem)}})}},{key:"onShowTabItem",value:function(e,t){if("glossary"===e&&null!=t){var n=bl(this.el.querySelectorAll("[data-translation-id]")).find((function(e){return e.dataset.translationId===t}));null!=n&&n.scrollIntoView({block:"nearest",behavior:"smooth"})}}}])&&gl(t.prototype,n),r&&gl(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(Bo));function Al(e){return Al="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Al(e)}function Rl(e){return function(e){if(Array.isArray(e))return Bl(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Bl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bl(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ml(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==Al(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Al(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===Al(o)?o:String(o)),r)}var i,o}function Hl(e,t){return Hl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Hl(e,t)}function Nl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Vl(e);if(t){var i=Vl(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Al(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Fl(e)}(this,n)}}function Fl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vl(e){return Vl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Vl(e)}var Wl=DS,Ul=(Wl.detection,Wl.pubSub),zl=Wl.events,Kl=Wl.keyManager.isSpaceKey,Gl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hl(e,t)}(o,e);var t,n,r,i=Nl(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=i.call(this,e),Ul.on(zl.resources.REFRESH_VIEW,(function(){t.view.updateHtml(),t.view.update()})),DS.flagManager.localizationPlatform&&Ul.on(zl.frame.SHOW_TAB_ITEM,t.onShowTabItem.bind(Fl(t))),t}return t=o,(n=[{key:"onClickItem",value:function(){}},{key:"hasListItems",value:function(){return(this.model.resourceData.resources||[]).length>0}},{key:"getItems",value:function(){return this.items=this.items||Rl(this.el.querySelectorAll(".resource a")),this.items}},{key:"activateItem",value:function(e){Kl(e.keyCode)&&DS.windowOpen.open({url:this.currentItem.dataset.url})}},{key:"getOffsetTop",value:function(e){return this.currentItem.offsetTop}},{key:"getFocusRectTarget",value:function(){return this.currentItem.parentNode}},{key:"onShowTabItem",value:function(e,t){if("resource"===e&&null!=t){var n=this.getItems().find((function(e){return e.dataset.translationId===t}));null!=n&&n.scrollIntoView({block:"nearest",behavior:"smooth"})}}}])&&Ml(t.prototype,n),r&&Ml(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(Il),ql=DS.utils,Zl=ql.getPath,Ql=ql.pxify,Yl=ql.scaleVal,Xl="resources",$l=$.def(Xl,Gl,(function(){var e=$.model.frame;return{attrs:{id:"".concat(Xl,"-content"),class:"cs-resource ".concat(il()," is-scrollable"),tabindex:-1,"aria-labelledby":"resources-head"},w:function(){return this.parent.childWidth||this.parent.w},h:function(){return this.parent.childHeight||this.parent.h},overflow:"",model:e,html:function(){return'\n      <h4 class="resources-title cs-heading panel-section-heading html-reset" tabindex="-1" id="resources-head" data-ref="head">\n        '.concat(Zl(e,"resourceData.description"),'\n      </h4>\n      <hr class="cs-separator"></hr>\n      <div class="resources-content panel-content" data-ref="content">\n        <ul>\n          ').concat(Zl(e,"resourceData.resources",[]).reduce((function(e,t,n){var r="javascript:DS.windowOpen.open({ url: '".concat(t.url,"' })");return"".concat(e,'\n              <li class="cs-listitem resource" tabindex="-1"\n                data-url="').concat(t.url,'"\n                id="resource-').concat(n,'"\n                role="presentation">\n                  <a href="').concat(r,'" data-url="').concat(t.url,'" tabindex="').concat(0===n?0:-1,'">\n                    <img src="').concat(t.image,'" role="presentation" tabindex="-1" />\n                    ').concat(t.title,"\n                  </a>\n              </li>")}),""),"\n        </ul>\n      </div>")},updateHook:function(){var e=this.children.head.el.querySelector("font");null!=e&&(this.origSize=this.origSize||parseFloat(e.style.fontSize),e.style.fontSize=Ql(Yl(this.origSize,!1))),ol(this.el.classList)}}})),Jl=DS.utils.getPath,ec="glossary",tc=$.def(ec,Il,(function(){var e=$.model,t=$.getCurrentNameSpaceString(),n=function(e){return me.getColor(t,".cs-glossary .cs-div".concat(e),"border-color")},r=n("a"),i=n("b"),o=n("c"),a="box-shadow: 0 -1px 0 0 ".concat(o,", 0 -2px 0 0 ").concat(i,", 0 1px 0 0 ").concat(r),l=me.getColor(t,".cs-glossary .cs-term.cs-selected .cs-choice-list-trigger","background"),c=me.getColor(t,".cs-glossary .cs-term .cs-choice-list-trigger:focus","background");return{attrs:{id:"".concat(ec,"-content"),class:"cs-glossary ".concat(il()),tabindex:-1},w:function(){return this.parent.childWidth||this.parent.w},h:function(){return this.parent.childHeight||this.parent.h},selectedColor:l,hoverColor:c,model:e,html:function(){return'<h4 class="panel-section-heading glossary-title cs-heading" style="'.concat(a,'" tabindex="-1">\n        ').concat(e.getString("terms"),'\n      </h4>\n\n      <div data-ref="terms" class="glossary-content cs-scrolling-panel scrolling-panel">\n        ').concat(Jl(e,"frame.glossaryData",[]).map((function(e,t){var n=e.content.split(/\r\n/g).filter((function(e){return e.trim().length>0}));return'\n            <dt class="term cs-term"  tabindex="'.concat(0===t?0:-1,'" id="term-').concat(t,'">\n              <button\n                class="cs-choice-list-trigger"\n                aria-controls="term-').concat(t,'"\n                aria-expanded="false"\n                tabindex="-1"\n              >\n                  ').concat(e.title,'\n              </button>\n            </dt>\n            <dd class="cs-editor definition"  tabindex="-1" id="term-').concat(t,'" style="display: none">\n              ').concat(n.map((function(e){return'<p class="term" tabindex="-1">'.concat(e,"</p>")})).join(""),"\n            </dd>\n          ")})).join(""),"\n      </div>")},updateHook:function(){ol(this.el.classList)}}}));function nc(e){return nc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nc(e)}function rc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==nc(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==nc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===nc(o)?o:String(o)),r)}var i,o}function ic(e,t){return ic=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ic(e,t)}function oc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=lc(e);if(t){var i=lc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===nc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ac(e)}(this,n)}}function ac(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lc(e){return lc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},lc(e)}var cc=/color:#ffffff/gi,sc=DS,uc=sc.detection,fc=sc.events,dc=sc.focusManager,hc=sc.pubSub,pc=(sc.utils,sc.slideObjectUtils),yc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ic(e,t)}(o,e);var t,n,r,i=oc(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=i.call(this,e),hc.on(fc.window.MAIN_CHANGED,t.onSlideChanged.bind(ac(t))),DS.flagManager.localizationPlatform&&hc.on(fc.transcript.REFRESH_VIEW,t.onRefreshView.bind(ac(t))),uc.deviceView.isClassicMobile?hc.on(fc.mobile.NOTES_SHOWN,t.onHamburgerToggle.bind(ac(t),!1)):uc.deviceView.isUnifiedMobile&&hc.on(fc.hamburger.TOGGLE,t.onHamburgerToggle.bind(ac(t))),t.forceScrollToTop=!1,t}return t=o,(n=[{key:"onHamburgerToggle",value:function(e){this.forceScrollToTop&&!e&&(this.getScrollElement().scrollTop=0,this.forceScrollToTop=!1)}},{key:"onFocus",value:function(){this.el.focus(),dc.setFocusRectOn(this.el.parentNode)}},{key:"focusSelf",value:function(){this.onFocus()}},{key:"handleTab",value:function(){return this.el.parentElement.focus(),!0}},{key:"onSlideChanged",value:function(e){if(this.lasSlideId!=e.absoluteId){this.lasSlideId=e.absoluteId;var t=(this.model.notesData||[]).find((function(t){return e.absoluteId.includes(t.slideId)}));null!=this.titleEl&&(this.titleEl.innerHTML=e.get("title"));var n=null==t?"":t.content;uc.deviceView.isClassicMobile&&(n=n.replace(cc,"color:#515557")),this.contentEl.innerHTML=n,hc.trigger(fc.transcript.CHANGED),pc.activeMobileMenuItem(n,"no-transcript"),this.scrollToTop()}}},{key:"onRefreshView",value:function(){var e=DS.windowManager.getMainWindowSlide();null!=e&&this.onSlideChanged(e)}},{key:"scrollToTop",value:function(){uc.deviceView.isDesktop?this.view.el.scrollTop=0:uc.theme.isClassic?0===this.getScrollElement().scrollTop?this.forceScrollToTop=!0:this.getScrollElement().scrollTop=0:$.getNamespace(this.view.nameSpace).sidebar.collapsed?this.forceScrollToTop=!0:this.getScrollElement().scrollTop=0}},{key:"getScrollElement",value:function(){return uc.deviceView.isClassicMobile?this.view.parent.el:this.view.el}},{key:"getViewBox",value:function(){return this.view.parent.getBox()}},{key:"teardown",value:function(){hc.off(fc.window.MAIN_CHANGED,this.onSlideChanged.bind(this)),DS.flagManager.localizationPlatform&&hc.off(fc.transcript.REFRESH_VIEW,this.onRefreshView.bind(this)),uc.deviceView.isClassicMobile?hc.off(fc.mobile.NOTES_SHOWN,this.onHamburgerToggle.bind(this,!1)):uc.deviceView.isUnifiedMobile&&hc.off(fc.hamburger.TOGGLE,this.onHamburgerToggle.bind(this))}}])&&rc(t.prototype,n),r&&rc(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(yn),vc="transcript",bc=DS.utils,mc=bc.pxify,gc=bc.scaleVal,wc="data-origsize",Sc="data-origline",kc={outline:yl,resources:$l,glossary:tc,transcript:$.def(vc,yc,(function(){var e=$.model,t=e.rtl?"rtl":"";return{attrs:{id:vc+"-content",class:"cs-transcript ".concat(t," is-scrollable"),tabindex:0},w:function(){return this.parent.childWidth||this.parent.w},h:function(){return(this.parent.childHeight||this.parent.h)-bt},overflow:"",html:"\n      <h4 data-ref=\"title\" class='note-title cs-heading panel-section-heading'></h4>\n      <hr class='cs-div'></hr>\n      <div data-ref=\"content\" class='note-content'></div>\n    ",updateHook:function(){if("no scale"!==window.globals.scale){var e=this.children.content.el.querySelectorAll("span[style]");_.forEach(e,(function(e){var t=parseFloat(e.getAttribute(wc)),n=parseFloat(e.getAttribute(Sc));isNaN(t)&&(t=parseFloat(e.style.fontSize),e.setAttribute(wc,t),n=parseFloat(e.style.lineHeight),e.setAttribute(Sc,n)),e.style.fontSize=mc(gc(t,!1)),e.style.lineHeight=mc(gc(n,!1))}))}},model:e.frame}}))},Oc=DS.utils,Cc=Oc.getPath,Ec=(Oc.scaleVal,DS.constants.refs.FRAME),xc="sidebarPanels",Tc=($.def(xc,(function(e){var t=$.getNamespace(e),n=t.sidebar,r=t.tabs,i=t.logo;return{attrs:{id:xc},x:9,z:1,y:function(){return r.bottom()},w:function(){return n.w-mt},h:function(){var e=i?i.h+bt:0;return n.h-mt-r.h-e},childDef:function(){Tc($.model,e)},updateHook:function(){this.children.forEach((function(e){return e.update()}))}}})),function(e,t){Cc(e,"sidebarTabs",[]).forEach((function(e,n){!function(e,t,n,r){var i=t.name,o=i+"Panel",a=0===n,l=$.def(o,ji,{attrs:{id:o,class:"cs-menu cs-panel is-scrollable panel","aria-labelledby":i+"-tab",role:"tabpanel",tabindex:-1},visibility:"no-reflow",style:{display:a},x:0,y:0,overflow:function(){return null},w:"100%",h:"100%",html:"",updateHook:function(){this.children.forEach((function(e){return e.update()}))}});l.init(),$.getNamespace(Ec).sidebarPanels.append(l);var c=kc[i];null!=c&&(c.nameSpace=r,c.init(),l.append(c))}(0,e,n,t)}))}),Lc="topTabs";function Pc(e){return Pc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pc(e)}function _c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==Pc(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Pc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===Pc(o)?o:String(o)),r)}var i,o}function jc(e,t){return jc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},jc(e,t)}function Dc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ic(e);if(t){var i=Ic(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Pc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function Ic(e){return Ic=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ic(e)}$.def(Lc,(function(){return{attrs:{id:Lc,role:"navigation"},overflow:"visible",w:"100%",h:"100%"}}));var Ac=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jc(e,t)}(o,e);var t,n,r,i=Dc(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=i.call(this,e)).onClick(t.onClickLink),t}return t=o,(n=[{key:"onClickLink",value:function(){var e=this,t=this.model.properties.data;DS.pubSub.trigger(DS.events.customlink.EVENT,t),this.view.parent.children.forEach((function(t){t.viewLogic!==e&&t.viewLogic.showing&&t.viewLogic.hidePanel()}))}},{key:"isLive",value:function(){return!0}}])&&_c(t.prototype,n),r&&_c(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(yn);function Rc(e){return Rc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rc(e)}function Bc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==Rc(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Rc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===Rc(o)?o:String(o)),r)}var i,o}function Mc(){return Mc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Vc(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Mc.apply(this,arguments)}function Hc(e,t){return Hc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Hc(e,t)}function Nc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Vc(e);if(t){var i=Vc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Rc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Fc(e)}(this,n)}}function Fc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vc(e){return Vc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Vc(e)}var Wc=DS.dom.isWithin,Uc=DS.globalEventHelper,zc=Uc.addDocumentListener,Kc=Uc.removeDocumentListener,Gc=DS,qc=Gc.pubSub,Zc=Gc.events,Qc=Gc._,Yc=Gc.playerGlobals,Xc=Gc.dom,$c=Xc.addClass,Jc=Xc.removeClass,es=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hc(e,t)}(o,e);var t,n,r,i=Nc(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=i.call(this,e),Qc.bindAll(Fc(t),"hidePanel","onCheckShouldHide"),t.onClick(t.onClickLink),t.showing=!1,qc.on(Zc.sidebar.ACTIVE_TAB_SET,t.onActiveTabSet.bind(Fc(t))),DS.flagManager.localizationPlatform&&qc.on(Zc.frame.SHOW_TAB_ITEM,t.onShowTabItem.bind(Fc(t))),t}return t=o,n=[{key:"onShowTabItem",value:function(e){this.hidePanel(),this.view.nameKey.includes(e)&&this.showPanel(!0)}},{key:"onActiveTabSet",value:function(e){this.view.parent.children.find((function(t){return t.nameKey.includes(e)}))&&this.hidePanel(),this.view.nameKey.includes(e)&&this.showPanel()}},{key:"onClickLink",value:function(e){this.showing?this.hidePanel():this.showPanel()}},{key:"showPanel",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.translationShown=e,this.el.style.border="1px solid ".concat(this.view.selectedBorderColor),this.el.setAttribute("aria-expanded",!0),$c(this.el,"cs-selected"),$c(this.el,"active"),this.view.panel.el.style.display="block",this.view.panel.viewLogic.focusChild(),zc("mouseup",this.onCheckShouldHide),qc.on(Zc.controlLayout.CHANGED,this.hidePanel),this.showing=!0}},{key:"hidePanel",value:function(){this.translationShown=!1,this.el.style.border="1px solid rgba(0, 0, 0, 0)",this.el.setAttribute("aria-expanded",!1),Jc(this.el,"cs-selected"),Jc(this.el,"active"),this.view.panel.el.style.display="none",Kc("mouseup",this.onCheckShouldHide),qc.off(Zc.controlLayout.CHANGED,this.hidePanel),this.showing=!1}},{key:"onBlur",value:function(e){Yc.presentation.isPreview()&&!window.globals.HAS_SLIDE||this.onCheckShouldHide({target:e.relatedTarget}),Mc(Vc(o.prototype),"onBlur",this).call(this,e)}},{key:"onCheckShouldHide",value:function(e){null!=e.target&&(Wc(e.target,"panel")||this.el.contains(e.target))||this.hidePanel()}},{key:"isLive",value:function(){var e=$.model.currControlLayout[this.model.name];return Qc.isObject(e)?e.enabled:e}},{key:"teardown",value:function(){qc.off(Zc.controlLayout.CHANGED,this.hidePanel),qc.off(Zc.sidebar.ACTIVE_TAB_SET)}}],n&&Bc(t.prototype,n),r&&Bc(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(yn),ts=es,ns=DS.utils.getPath,rs=DS.constants.refs.FRAME,is="separator-style",os=function(){return"\n    .top-tab:before {\n      box-shadow: 0px 0px 0px 1px ".concat(me.getColor(DS.constants.refs.FRAME,".cs-separator .cs-diva","background-color",".cs-base"),",\n        1px 0px 0px 1px ").concat(me.getColor(DS.constants.refs.FRAME,".cs-separator .cs-divb","background-color",".cs-base"),";\n    }\n  ")},as=!1,ls=function(e){var t,n=e.id,r=$.def(n,(function(r){$.getNamespace(r).title,$.model;return t=n,{attrs:{id:n,tabindex:-1},overflow:"visible",w:"50%",x:e.x,y:0,h:"100%",z:5,childDef:function(){!function(){if(!as){as=!0;var e=document.createElement("style");e.id=is,document.body.appendChild(e),e.innerHTML=os()}}(),o($.model,r)},updateHook:e.updateHook}})),i=function(n,i,o,a){var l,c,s,u,f="customlink"===o.name;f?(c=Ac,l=o.properties.title,s="link".concat(e.dir).concat(a),u="custom-link"):(c=ts,l=i.getString(o.name),s=o.name+"Link",u="panel-link");var d=me.getColor(n,".cs-topmenu-item.active .cs-tab","border-top-color",".cs-base"),h={id:s,class:"topmenu-item cs-topmenu-item cs-tabs top-tab ".concat(u),tabindex:0};f||(h["aria-controls"]="".concat(s,"Panel"),h["aria-expanded"]=!1);var p=$.def(s,c,{selectedBorderColor:d,attrs:h,model:Object.assign(o,{idx:a}),isTopLink:!0,calcTextSize:!0,noUpdate:!0,contentStyle:{top:"8%"},tag:"button",html:function(){return'<span class="cs-tab">'.concat(l,"</span>")},wPad:14,overflow:"visible",y:function(){return this.parent.h-this.h-9},w:"fit-to-text-w",h:"fit-to-text-h",z:2,border:"1px solid rgba(0, 0, 0, 0)",minH:23,updateHook:function(){if(_.isFunction(this.viewLogic.scaleProps)&&this.viewLogic.scaleProps(),DS.playerGlobals.presentation.isPreview()&&!window.globals.HAS_SLIDE){var e=document.querySelector("style#".concat(is));null!=e&&(e.innerHTML=os())}}});p.init(),$.getNamespace(rs)[e.id].append(p),f||function(n,i,o,a){var l=a.name+"Panel",c="linksRight"===e.id,s=$.getNamespace(n),u=s.topBar,f=(s.frame,s.sidebar,s.slide,s.wrapper,s.linksLeft,me.getColor(n,".cs-topmenu-item.active .cs-panel","border-top-color",".cs-base")),d=$.def(l,ji,{attrs:{id:l,class:"cs-topmenu-item topmenu-item active cs-menu cs-panel panel topmenu-panel-align-".concat(c?"right":"left"),tabIndex:-1},style:{borderColor:f},w:302,h:438,z:1,visible:!1,lnk:i,childWidth:300,childHeight:436,tabsId:t,overflow:"visible",x:function(){var e=i.x;return e+r.x>u.w/2&&(e=e+i.w-this.w),e},y:function(){return i.y+i.h},updateHook:function(){this.updateChildren(!0)}});d.init(),$.getNamespace(rs)[e.id].append(d),i.panel=d;var h=kc[a.name];null!=h&&(h.init(),d.append(h))}(n,p,0,o)},o=function(t,n){ns(t,e.linkListName,[]).forEach((function(e,r){i(n,t,e,r)}))}};ls({id:"linksLeft",dir:"Left",linkListName:"topTabsLeft",x:0,updateHook:function(){this.flowChildren({hook:function(e){null!=e.panel&&e.panel.update()},pad:-3,startPos:11})}});ls({id:"linksRight",dir:"Right",linkListName:"topTabsRight",x:function(){return $.getNamespace(DS.constants.refs.FRAME).linksLeft.right()},updateHook:function(){this.flowChildren({toLeft:!0,startPos:null!=this.nameSpace?$.getNamespace(this.nameSpace).linksRight.w-2:0,pad:-3,reverse:!0,hook:function(e){null!=e.panel&&e.panel.update()}})}});var cs="bottomBar";$.def(cs,(function(e){var t=$.getNamespace(e),n=t.frame,r=t.topBar,i=$.model.rtl;return{tag:"section",attrs:{id:cs},x:function(){return r.x-1},y:function(){return n.h-54},w:function(){return r.w},h:gt,overflow:"visible",updateHook:function(){if(this.hasAllChildren()){this.updateChildren(),this.el.style.pointerEvents=$.model.bottomBarOpts.bottomBarEnabled?"all":"none";var e=this.children.playbackControls.children.seek;if(e.width=0,this.children.playbackControls.visible&&e.visible){var t=this.calcChildrensWidth()+(this.children.length+1)*bt;e.width=r.w-t}this.flowChildren({alignChild:!0,bounds:{t:0,b:this.h,l:0,r:this.w},rtl:i,pad:bt})}},childVisibilityChangedHook:function(){this.update()}}}));var ss="navControls";$.def(ss,(function(){var e=$.model.rtl;return{tag:"nav",attrs:{id:ss,"aria-label":"slide navigation"},w:function(){return this.width||0},overflow:"visible",h:gt,updateHook:function(){this.flowChildren({rtl:e,startPos:-10,pad:bt,fullUpdate:!0,sizeToChildren:!0})},parentAlign:e?"l":"r"}}));var us="miscControls";function fs(e){return fs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fs(e)}function ds(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==fs(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==fs(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===fs(o)?o:String(o)),r)}var i,o}$.def(us,(function(){var e=$.model.rtl;return{attrs:{id:us,"aria-label":"misc controls",role:"region"},w:function(){return this.width||0},h:gt,overflow:"visible",updateHook:function(){this.flowChildren({fullUpdate:!0,pad:bt,startPos:-10,sizeToChildren:!0,rtl:e})},childVisibilityChangedHook:function(){this.update()},parentAlign:"l"}}));var hs=DS,ps=hs._,ys=hs.pubSub,vs=hs.events,bs=hs.dom.toggleClasses,ms=(hs.shortcutManager,function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.view=t,ps.bindAll(this,"onSlideChanged","onTimelineChanged","onPlaybackChanged"),ys.on(vs.slide.STARTED,this.onSlideChanged)}var t,n,r;return t=e,(n=[{key:"teardown",value:function(){ys.off(vs.slide.STARTED,this.onSlideChanged)}},{key:"onTimelineChanged",value:function(e,t){e!==this.currTimeline&&(ys.trigger(vs.playbackControls.TIMELINE_CHANGED,e,t),null!=this.currTimeline&&(this.currTimeline.off(vs.timeline.PLAYING,this.onPlaybackChanged),this.currTimeline.off(vs.timeline.PAUSED,this.onPlaybackChanged),this.currTimeline.off(vs.timeline.ENDED,this.onPlaybackChanged)),this.currTimeline=e,this.currTimeline.on(vs.timeline.PLAYING,this.onPlaybackChanged),this.currTimeline.on(vs.timeline.PAUSED,this.onPlaybackChanged),this.currTimeline.on(vs.timeline.ENDED,this.onPlaybackChanged),this.onPlaybackChanged())}},{key:"onPlaybackChanged",value:function(){var e=this.view.children,t=e.reset,n=e.playPause,r=null!=this.currTimeline&&"playing"===this.currTimeline.playbackState();bs(document.body,"timeline-playing","timeline-paused",r),bs(document.body,"has-reset","no-reset",this.view.visible&&null!=t&&t.visible),null!=n&&n.viewLogic.onPlaybackChanged()}},{key:"onSlideChanged",value:function(e,t,n){this.view.el.tabIndex=0,this.view.el.tabIndex=-1,this.view.nameSpace===n&&(null!=this.currSlide&&this.currSlide.off(vs.slide.CURRENT_TIMELINE,this.onTimelineChanged),this.currSlide=t,this.currSlide.on(vs.slide.CURRENT_TIMELINE,this.onTimelineChanged),this.onTimelineChanged(t.currentTimeline(),t))}}])&&ds(t.prototype,n),r&&ds(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}()),gs="playbackControls";function ws(e){return ws="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ws(e)}function Ss(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ts(r.key),r)}}function ks(){return ks="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=xs(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},ks.apply(this,arguments)}function Os(e,t){return Os=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Os(e,t)}function Cs(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=xs(e);if(t){var i=xs(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===ws(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Es(e)}(this,n)}}function Es(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xs(e){return xs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},xs(e)}function Ts(e){var t=function(e,t){if("object"!==ws(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ws(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ws(t)?t:String(t)}$.def(gs,ms,(function(e){return{attrs:{id:gs,"aria-label":"playback controls",class:"cs-seekcontrol",tabindex:-1},visibility:"no-reflow",x:0,w:function(){return this.visible&&this.width||0},h:gt,noUpdate:!0,updateHook:function(){this.el.style.background="none",this.flowChildren({fullUpdate:!0,sizeToChildren:!0})},parentAlign:"l"}}));var Ls=DS,Ps=Ls._,_s=Ls.utils,js=Ls.pubSub,Ds=Ls.events,Is=Ls.constants,As=Ls.keyManager,Rs=Ls.focusManager,Bs=Ls.dom,Ms=Ls.dom,Hs=Ms.addClass,Ns=Ms.removeClass,Fs=Ls.globalEventHelper,Vs=Fs.addBodyListener,Ws=Fs.removeBodyListener,Us=Ls.appState,zs=10,Ks=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Os(e,t)}(o,e);var t,n,r,i=Cs(o);function o(e){var t,n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=i.call(this,e),n=Es(t),a=!0,(r=Ts(r="hasTooltip"))in n?Object.defineProperty(n,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[r]=a,t.isOpen=!1,t.view.volumeStrength=Is.DEFAULT_VOLUME*zs,Ps.bindAll(Es(t),"onShow","onHide","onVolumeChanged","onInputChanged","toggleMute","onKeydown","onScroll"),t.volumeRangeEl.addEventListener("input",t.onInputChanged),t.el.addEventListener("mouseover",t.onShow),t.el.addEventListener("scroll",t.onScroll),t.buttonEl.addEventListener("click",t.toggleMute),js.on(Ds.volume.CHANGED,t.onVolumeChanged),Us.setVolume(t.view.volumeStrength/zs),t}return t=o,(n=[{key:"tooltipKey",get:function(){return Us.getVolume()>0?"acc_mute":"acc_unmute"}},{key:"onVolumeChanged",value:function(e){e=_s.clamp(0,zs,e*zs),this.view.volumeStrength=e,this.view.updateButton();var t=0===e;this.buttonEl.setAttribute("aria-pressed",t),this.volumeRangeEl.valueAsNumber!==e&&(this.volumeRangeEl.value=e)}},{key:"onHide",value:function(e){var t=this;setTimeout((function(){var e=document.elementFromPoint(Bs.mouseX,Bs.mouseY);t.el.contains(e)||"tooltip"===e.id||(t.isOpen=!1,Ns(t.el,"open"),t.view.el.removeEventListener("mouseleave",t.onHide),Ws("keydown",t.onKeydown),t.view.update())}),200)}},{key:"onShow",value:function(){this.isOpen||(this.isOpen=!0,Hs(this.el,"open"),this.view.el.addEventListener("mouseleave",this.onHide),Vs("keydown",this.onKeydown),this.view.update())}},{key:"onInputChanged",value:function(e){var t=e.target.valueAsNumber;Us.setVolume(t/zs)}},{key:"toggleMute",value:function(e){Us.onToggleVolume()}},{key:"onFocus",value:function(e){this.onShow(),this.onHoverIn(e),Rs.setFocusRectOn(e.target)}},{key:"onBlur",value:function(e){null!=e&&this.isOpen&&!this.el.contains(e.relatedTarget)&&(this.onHoverOut(e),this.onHide(),ks(xs(o.prototype),"onBlur",this).call(this))}},{key:"onKeydown",value:function(e){var t=e.which,n=this.volumeRangeEl.valueAsNumber,r=function(t){Us.setVolume(t/zs),e.preventDefault()};document.activeElement!==this.volumeRangeEl&&(As.isDownishKey(t)||As.isPageDownKey(t)?r(n-1):As.isUpishKey(t)||As.isPageUpKey(t)?r(n+1):As.isEndKey(t)?r(zs):As.isHomeKey(t)&&(this.previousVolume=n,r(0)))}},{key:"onScroll",value:function(e){e.target.scrollTop=0}},{key:"dismissTooltip",value:function(){ks(xs(o.prototype),"dismissTooltip",this).call(this),this.onHide()}},{key:"teardown",value:function(){js.off(Ds.volume.CHANGED,this.onVolumeChanged)}}])&&Ss(t.prototype,n),r&&Ss(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(yn),Gs="volume",qs=DS,Zs=(qs.scaler,qs.utils),Qs=Zs.pxify,Ys=Zs.scaleVal;function Xs(e){return Xs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xs(e)}function $s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ou(r.key),r)}}function Js(){return Js="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ru(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Js.apply(this,arguments)}function eu(e,t){return eu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},eu(e,t)}function tu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ru(e);if(t){var i=ru(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Xs(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return nu(e)}(this,n)}}function nu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ru(e){return ru=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ru(e)}function iu(e,t,n){return(t=ou(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ou(e){var t=function(e,t){if("object"!==Xs(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Xs(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Xs(t)?t:String(t)}$.def(Gs,Ks,(function(e){var t=$.model;$.model.rtl;return{noUpdate:!0,z:1e3,attrs:{id:Gs,class:"btn cs-volume cs-button volume-panel"},style:{position:"absolute"},w:31,h:function(){return this.viewLogic.isOpen?106:30},y:function(){return this.el.style.top=Qs(Ys(this.viewLogic.isOpen?-68:8,!1)),0},html:function(){return'<button\n      data-ref="button"\n      class="cs-button btn"\n      aria-label="'.concat(t.getString("acc_volume"),'"\n      aria-pressed="false"\n      tabIndex="0"\n      >\n      ').concat(lo("volume")(this.volumeStrength,Ys(15),Ys(20)),'\n      </button>\n      <div data-ref="sliderBar" class="slider-bar">\n        <input\n          type="range"\n          class="cs-volume"\n          data-ref="volumeRange"\n          aria-label="').concat(t.getString("acc_volume"),'"\n          min="0"\n          max="10"\n          step="1"\n          value="').concat(this.volumeStrength,'"\n          tabIndex="0"\n          aria-orientation="vertical" />\n      </div>')},updateHook:function(){var e=this.el.querySelector("svg");null!=e&&(e.height.baseVal.value=Ys(20),e.width.baseVal.value=Ys(15))},methods:{updateButton:function(){this.children.button.el.innerHTML=lo("volume")(this.volumeStrength,Ys(15),Ys(20)),this.el.style.background=this.accessibleTextOn?"#777":""}}}}));var au=DS,lu=au.dom,cu=lu.addClass,su=lu.removeClass,uu=au.appState,fu=au.scaler,du=au.shortcutManager,hu=au.events,pu=au.focusManager,yu=au.pubSub,vu=au.keyManager,bu=au.utils.fullScreen,mu=au.globalEventHelper.addDocumentListener,gu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eu(e,t)}(o,e);var t,n,r,i=tu(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),iu(nu(t=i.call(this,e)),"hasTooltip",!0),iu(nu(t),"tooltipKey","acc_settings"),iu(nu(t),"hideTooltipWhenOpen",!0),iu(nu(t),"onToggleBackgroundAudio",(function(){yu.trigger(hu.backgroundAudio.TOGGLE)})),iu(nu(t),"toggleBackgroundAudio",(function(){t.updateToggle(t.backgroundAudioSwitchEl,DS.courseAudio.enabled())})),iu(nu(t),"onCaptionsEnabled",(function(){t.view.updateHook()})),DS._.bindAll(nu(t),"onAccessibleTextChanged","onZoomModeChanged","onKeyboardShortcutsChanged"),t.onClickEl(t.settingsBtnEl,t.togglePanel),null!=t.shortcutsSwitchEl&&(t.onClickEl(t.shortcutsSwitchEl,t.toggleShortcuts),DS.pubSub.on(hu.player.ENABLE_KEYBOARD_SHORTCUTS,t.onKeyboardShortcutsChanged)),null!=t.captionsButtonEl&&(t.onClickEl(t.captionsButtonEl,t.toggleCaptions),yu.on(hu.captions.ENABLED,t.onCaptionsEnabled)),null!=t.resetButtonEl&&t.onClickEl(t.resetButtonEl,t.resetTimeline),null!=t.acctextSwitchEl&&(t.onClickEl(t.acctextSwitchEl,t.toggleAccessibleText),uu.on(hu.player.ACCESSIBLE_TEXT_CHANGED,t.onAccessibleTextChanged)),null!=t.zoomSwitchEl&&(t.onClickEl(t.zoomSwitchEl,t.toggleZoomMode),yu.on(hu.window.ZOOM_MODE_CHANGED,t.onZoomModeChanged)),t.handleFullScreenChange=t.handleFullScreenChange.bind(nu(t)),null!=t.fullScreenToggleButtonEl&&(t.onClickEl(t.fullScreenToggleButtonEl,t.toggleFullScreen),t.removeFullScreenListener=bu.addChangeListener(t.handleFullScreenChange)),null!=t.backgroundAudioSwitchEl&&(t.onClickEl(t.backgroundAudioSwitchEl,t.onToggleBackgroundAudio),yu.on(hu.backgroundAudio.HAS_TOGGLED,t.toggleBackgroundAudio)),t}return t=o,(n=[{key:"toggleFullScreen",value:function(){uu.toggleFullScreen()}},{key:"handleFullScreenChange",value:function(){bu.getEl()===uu.getPresoEl()?cu(this.el,"full-screen"):su(this.el,"full-screen")}},{key:"togglePanel",value:function(){this.isOpen?this.hidePanel():(this.showPanel(),this.dismissTooltip())}},{key:"showPanel",value:function(){var e=this;this.isOpen=!0,cu(this.el,"open"),this.view.updatePanelPosition(),this.settingsBtnEl.setAttribute("aria-expanded",!0),null!=this.view.updatePanelDepth&&this.view.updatePanelDepth(!0),this.removeShowPanelListener=mu("keydown",(function(t){return e.handleKeyDown(t)}))}},{key:"hidePanel",value:function(){this.isOpen=!1,su(this.el,"open"),this.settingsBtnEl.setAttribute("aria-expanded",!1),null!=this.view.updatePanelDepth&&this.view.updatePanelDepth(!1),null!=this.removeShowPanelListener&&this.removeShowPanelListener()}},{key:"handleKeyDown",value:function(e){vu.isEscapeKey(e.which)&&(this.hidePanel(),this.settingsBtnEl.focus(),pu.setFocusRectOn(this.settingsBtnEl))}},{key:"onBlur",value:function(e){null!=e&&this.isOpen&&!this.el.contains(e.relatedTarget)&&(this.hidePanel(),Js(ru(o.prototype),"onBlur",this).call(this))}},{key:"updateToggle",value:function(e,t){t?(cu(e,"toggle-on"),su(e,"toggle-off")):(cu(e,"toggle-off"),su(e,"toggle-on")),e.querySelector("button").setAttribute("aria-checked",t)}},{key:"onAccessibleTextChanged",value:function(e){this.accTextOn=e,this.updateToggle(this.acctextSwitchEl,this.accTextOn)}},{key:"onKeyboardShortcutsChanged",value:function(e){this.updateToggle(this.shortcutsSwitchEl,e)}},{key:"toggleAccessibleText",value:function(){this.accTextOn=!this.accTextOn,this.updateToggle(this.acctextSwitchEl,this.accTextOn),uu.onToggleAccessibleText(this.accTextOn)}},{key:"onZoomModeChanged",value:function(){this.updateToggle(this.zoomSwitchEl,fu.zoomMode)}},{key:"toggleZoomMode",value:function(){fu.enableZoomMode(!fu.zoomMode),this.updateToggle(this.zoomSwitchEl,fu.zoomMode),pu.setFocusRectOn(this.zoomSwitchEl.querySelector("button"))}},{key:"toggleShortcuts",value:function(){du.enableShortcuts(!du.enabled),this.updateToggle(this.shortcutsSwitchEl,du.enabled)}},{key:"toggleCaptions",value:function(){$.getNamespace("_frame").captions.viewLogic.toggleCaptions(),this.view.updateHook()}},{key:"resetTimeline",value:function(){$.getNamespace("_frame").reset.viewLogic.resetTimeline()}},{key:"teardown",value:function(){uu.off(hu.player.ACCESSIBLE_TEXT_CHANGED,this.onAccessibleTextChanged),yu.off(hu.window.ZOOM_MODE_CHANGED,this.onZoomModeChanged),yu.off(hu.captions.ENABLED,this.onCaptionsEnabled),yu.off(hu.backgroundAudio.HAS_TOGGLED,this.toggleBackgroundAudio),null!=this.removeFullScreenListener&&this.removeFullScreenListener()}},{key:"onFocus",value:function(e){var t=e.target;if(this.el.contains(t))return pu.setFocusRectOn(t),this.onHoverIn(e),this.isFocused=!1,!1}}])&&$s(t.prototype,n),r&&$s(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(yn);function wu(e){return function(e){if(Array.isArray(e))return Su(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Su(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Su(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Su(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ku=DS,Ou=ku.utils,Cu=Ou.pxify,Eu=Ou.scaleVal,xu=ku.scaler,Tu="settings";function Lu(e){return Lu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lu(e)}function Pu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Au(r.key),r)}}function _u(e,t){return _u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_u(e,t)}function ju(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Iu(e);if(t){var i=Iu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Lu(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Du(e)}(this,n)}}function Du(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Iu(e){return Iu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Iu(e)}function Au(e){var t=function(e,t){if("object"!==Lu(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Lu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Lu(t)?t:String(t)}$.def(Tu,gu,(function(e){var t=$.model,n=($.model.rtl,me.getColor(e,".cs-button","color")),r=me.getColor(e,".cs-checkbox .cs-box.checked.after","color"),i=me.getColor(e,".cs-checkbox .cs-box","border-color"),o=me.getColor(e,".cs-topmenu-item.active .cs-panel","border-top-color",".cs-base"),a=me.getColor(e,".cs-menu","background-color"),l=$.getNamespace(e).bottomBar;return{noUpdate:!0,attrs:{id:Tu,class:"btn cs-button cs-settings"},overflow:"visible",w:30,parentAlign:"l",h:function(){return 30},x:function(){return this.left||0},y:"vertical-center",methods:{getControlConfigs:function(){return[].concat(wu(DS.frameModel.hasModernText?[{name:"acctext",labelId:"accessible_text",isOn:function(){return DS.appState.accessibleTextOn()}}]:[]),[{name:"shortcuts",labelId:"keyboardshortcuts_lower",isOn:function(){return DS.shortcutManager.enabled}}])},getToggleControls:function(){return this.getControlConfigs().map((function(e){var o=e.name,l=e.labelId,c=(0,e.isOn)();return'\n            <div class="switch '.concat(c?"toggle-on":"toggle-off",'" data-ref="').concat(o,'Switch">\n              <label class="switch-label" id="').concat(o,'-label">\n                ').concat(t.getString(l),'\n              </label>\n              <button class="switch-toggle" id="').concat(o,'-switch" tabindex="0" role="switch" aria-checked="').concat(c,'" aria-labelledby="').concat(o,'-label">\n                ').concat(lo("track")(xu.getScale(),r,i,a,n,o),"\n              </button>\n            </div>\n          ")})).join("")},updatePanelPosition:function(){if(null!=l){var e=this.children.settingsPanel.el;e.style.left=0;var t=e.getBoundingClientRect(),n=l.el.getBoundingClientRect(),r=0;t.right>n.right&&(r=n.right-(t.right+Eu(bt))),t.left<n.left&&(r=n.left-t.left+Eu(bt)),e.style.left=Cu(r)}},scaleControls:function(){var e=this.children.settingsPanel.el,t=Eu(18),n=Eu(8);e.style.bottom=Cu(Eu(39)),e.style.padding="".concat(n,"px ").concat(t,"px ").concat(n,"px ").concat(t,"px");var r=this.children.downArrow.el,i=r.querySelector("svg");r.style.bottom=Cu(Eu(41)),r.style.left=Cu(Eu(2)),i.width.baseVal.value=Eu(22),i.height.baseVal.value=Eu(11);var o=e.querySelectorAll(".switch");_.forEach(o,(function(e){e.style.margin="".concat(Eu(15),"px 0 ").concat(Eu(15),"px 0");var t=e.querySelector(".switch-toggle > svg");t.width.baseVal.value=Eu(24),t.height.baseVal.value=Eu(16)}));var a=this.el.querySelector("svg");a.width.baseVal.value=Eu(16),a.height.baseVal.value=Eu(18)}},updateHook:function(){this.scaleControls(),this.updatePanelPosition()},html:function(){return'\n        <button data-ref="settingsBtn" aria-expanded="false" class="cs-button" aria-label="'.concat(t.getString("acc_settings"),'" tabIndex="0">\n          ').concat(lo("settings")(xu.getScale()),'\n        </button>\n        <div data-ref="settingsPanel" class="settings-panel cs-menu" style="background:').concat(a,"; border: 1px solid ").concat(o,';" tabindex="-1">\n          <div class="settings-content">\n            ').concat(this.getToggleControls(),'\n          </div>\n        </div>\n        <div data-ref="downArrow" class="panel-down-arrow">\n          ').concat(lo("downArrow")(a),"\n        </div>\n      ")}}}));var Ru=DS,Bu=Ru.pubSub,Mu=Ru.captionsManager,Hu=Ru.stringTabler,Nu=Ru.events.captions,Fu=Nu.SHOW_BUTTON,Vu=Nu.HIDE_BUTTON,Wu=Nu.ENABLED,Uu=Nu.ENABLE,zu=Ru.detection.theme.isUnified,Ku=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_u(e,t)}(o,e);var t,n,r,i=ju(o);function o(e){var t,n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=i.call(this,e),n=Du(t),a=!0,(r=Au(r="hasTooltip"))in n?Object.defineProperty(n,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[r]=a,t.onClick(t.onClickCaptions),t.toggle=!1,Bu.on(Fu,(function(e){return t.onVisibilityChanged(!0)})),Bu.on(Vu,(function(e){return t.onVisibilityChanged(!1)})),Bu.on(Wu,t.onCaptionsEnabled.bind(Du(t))),t}return t=o,(n=[{key:"tooltipKey",get:function(){return this.toggle?"acc_cc_hide":"acc_cc_show"}},{key:"onVisibilityChanged",value:function(e){this.view.setVisibility(e,!0),this.view.childVisibilityChanged(),this.toggle=Mu.isCaptionEnabled(),this.updateBtn()}},{key:"onCaptionsEnabled",value:function(e){this.toggle=e,this.updateBtn()}},{key:"updateBtn",value:function(){var e=this.toggle?"add":"remove";this.view.el.classList[e]("cs-tabs","cs-selected"),this.view.el.setAttribute("aria-pressed",this.toggle),this.view.el.setAttribute("aria-label",Hu.getString(this.toggle?"acc_cc_hide":"acc_cc_show")),zu&&this.view.updateHtml()}},{key:"onClickCaptions",value:function(e){this.toggleCaptions()}},{key:"toggleCaptions",value:function(){this.toggle=!this.toggle,Bu.trigger(Uu,this.toggle),this.updateBtn()}},{key:"getViewBox",value:function(){var e=this.view.getBox(),t=(e.h-30)/2;return e.h=30,e.y=e.y+t,e}},{key:"teardown",value:function(){Bu.off(Fu),Bu.off(Vu),Bu.off(Wu)}}])&&Pu(t.prototype,n),r&&Pu(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(yn),Gu="captions",qu=DS.utils;qu.pxify,qu.scaleVal;function Zu(e){return Zu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zu(e)}function Qu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,tf(r.key),r)}}function Yu(e,t){return Yu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Yu(e,t)}function Xu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ju(e);if(t){var i=Ju(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Zu(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return $u(e)}(this,n)}}function $u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ju(e){return Ju=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ju(e)}function ef(e,t,n){return(t=tf(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tf(e){var t=function(e,t){if("object"!==Zu(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Zu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Zu(t)?t:String(t)}$.def(Gu,Ku,(function(){var e=$.model;return{tag:"button",attrs:{id:Gu,class:"cs-button btn content-center","aria-label":e.getString("acc_closed_captions"),"aria-pressed":!1,tabindex:0},minW:40,minH:30,y:"vertical-center",visible:!1,html:function(){return lo("captions")()}}}));var nf=DS,rf=nf._,of=nf.events,af=nf.pubSub,lf=nf.detection,cf=nf.dom.tappedClass,sf=nf.keyManager,uf=nf.stringTabler,ff=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yu(e,t)}(o,e);var t,n,r,i=Xu(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),ef($u(t=i.call(this,e)),"hasTooltip",!0),ef($u(t),"onTap",(function(e){cf(t.el)})),ef($u(t),"onClickBtn",(function(e){1!==t.currTimeline.progress()?t.currTimeline.togglePlayback():lf.theme.isUnified&&t.currTimeline.reset()})),ef($u(t),"onKeydown",(function(e){var t=e.which;sf.isSeekKey(t)&&af.trigger(of.player.SEEK,e)})),ef($u(t),"onPlaybackChanged",(function(){t.updateToggle(),t.updateView()})),rf.bindAll($u(t),"onTimelineChanged"),af.on(of.player.TOGGLE_PLAYBACK,t.onClickBtn),af.on(of.playbackControls.TIMELINE_CHANGED,t.onTimelineChanged),lf.deviceView.isMobile&&t.onClick(t.onTap),t.onClick(t.onClickBtn),t.el.addEventListener("keydown",t.onKeydown),t.view.toggle=!0,lf.deviceView.isMobile&&af.on(of.currTimeline.TICK,t.onTick.bind($u(t))),t}return t=o,(n=[{key:"tooltipKey",get:function(){return this.view.toggle?"acc_pause":"acc_play"}},{key:"teardown",value:function(){af.off(of.currTimeline.TICK,this.onTick.bind(this))}},{key:"onTick",value:function(e){null!=this.circleProgress&&this.circleProgress.setAttribute("d",DS.svgUtils.wheelPath(17,17,17,0,360*e)),this.lastProgress=e}},{key:"updateView",value:function(){this.view.updateHtml(),this.circleProgress=this.el.querySelector(".circle-progress path"),this.onTick(this.lastProgress)}},{key:"updateToggle",value:function(){this.view.toggle="playing"===this.currTimeline.playbackState(),this.view.el.setAttribute("aria-pressed",!this.view.toggle),this.view.el.setAttribute("aria-label",uf.getString(this.view.toggle?"acc_pause":"acc_play"))}},{key:"onTimelineChanged",value:function(e){this.currTimeline=e,this.view.toggle=this.currTimeline.isPlaying(),this.updateView()}}])&&Qu(t.prototype,n),r&&Qu(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(yn),df="playPause",hf=DS.utils,pf=(hf.encode,hf.scaleVal);function yf(e){return yf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yf(e)}function vf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,kf(r.key),r)}}function bf(e,t){return bf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},bf(e,t)}function mf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=wf(e);if(t){var i=wf(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===yf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return gf(e)}(this,n)}}function gf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wf(e){return wf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},wf(e)}function Sf(e,t,n){return(t=kf(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kf(e){var t=function(e,t){if("object"!==yf(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==yf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===yf(t)?t:String(t)}$.def(df,ff,(function(){var e=$.model;return{tag:"button",attrs:{id:df,class:"content-center cs-button","aria-pressed":!1,"aria-label":"".concat(e.getString("acc_play"),"/").concat(e.getString("acc_pause")),tabindex:0},style:{background:"transparent",border:"none"},html:function(){return this.toggle?lo("pause")(pf(14),pf(12)):lo("play")(pf(14),pf(11))},y:"vertical-center",minW:30,minH:30,z:1,updateHook:function(){this.el.setAttribute("aria-pressed",!this.toggle);var e=this.el.querySelector("svg");e.height.baseVal.value=pf(14),e.width.baseVal.value=pf(this.toggle?12:11)}}}));var Of=DS,Cf=Of._,Ef=Of.detection,xf=Of.utils,Tf=Of.keyManager,Lf=Of.dom,Pf=Of.dom,_f=Pf.addClass,jf=Pf.removeClass,Df=Of.globalEventHelper.addWindowListener,If=Of.events,Af=Of.pubSub,Rf=(Of.stringTabler,function(e){for(;e.startsWith("0")&&!e.startsWith("0:");)e=e.substring(1);return e}),Bf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bf(e,t)}(o,e);var t,n,r,i=mf(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),Sf(gf(t=i.call(this,e)),"hasTooltip",!0),Sf(gf(t),"tooltipMoves",!0),Cf.bindAll(gf(t),"onTick","onSeek","onMouseDown","onMouseUp","onMouseMove","checkSeekable","onKeydown","onTimelineChanged","onChange"),Af.on(If.slide.STARTED,t.checkSeekable),Af.on(If.player.SEEK,t.onKeydown),Af.on(If.playbackControls.TIMELINE_CHANGED,t.onTimelineChanged),t.isUserControlled=!$.model.frame.controlOptions.controls.readonly||$.model.frame.controlOptions.controls.readonlyOnce,t.bindListeners(),t.isUp=!0,t}return t=o,(n=[{key:"bindListeners",value:function(){if(this.isUserControlled){var e=Ef.deviceView.isClassicDesktop?this.seekEl:this.view.el;Ef.device.isMobile?(e.addEventListener("touchstart",this.onMouseDown),this.seekEvent="touchmove",this.endEvent="touchend"):(e.addEventListener("mousedown",this.onMouseDown),e.addEventListener("keydown",this.onKeydown),this.seekEvent="mousemove",this.endEvent="mouseup"),this.progressBarEl.addEventListener("change",this.onChange)}}},{key:"isSeekable",value:function(){if(null==this.currSlide)return!1;var e=$.model.frame.controlOptions.controls,t=e.readonly,n=e.readonlyOnce;return!(t&&!n||n&&!this.currSlide.currentTimelineCompletedOnce())}},{key:"getSeekValue",value:function(e){var t=this.view.getBox();return xf.clamp(0,1,(e-t.x)/t.w)}},{key:"getEventX",value:function(e){return Ef.device.isMobile?e.touches[0]&&e.touches[0].pageX:e.pageX}},{key:"onTimelineChanged",value:function(e,t){null!=this.currTimeline&&(this.currTimeline.off(If.timeline.TICK,this.onTick),this.currTimeline.off(If.timeline.COMPLETE,this.checkSeekable)),this.currSlide=t,this.currTimeline=e,this.currTimeline.on(If.timeline.TICK,this.onTick),this.currTimeline.on(If.timeline.COMPLETE,this.checkSeekable);var n=this.currTimeline.progress();this.duration=xf.toSeconds(this.currTimeline.timelineDuration()),this.progressBarEl.max=Math.round(1e3*this.duration),this.progressBarEl.step=100,this.progressBarEl.setAttribute("aria-valuemin",0),this.progressBarEl.setAttribute("aria-valuemax",this.progressBarEl.max),isNaN(n)&&(n=0),this.onTick(n),this.checkSeekable()}},{key:"checkSeekable",value:function(){this.isSeekable()?(jf(this.el,"read-only"),this.progressBarEl.disabled=!1):(_f(this.el,"read-only"),this.progressBarEl.disabled=!0)}},{key:"onTick",value:function(e){var t=100*e;this.progressBarFillEl.style.width="".concat(t,"%");var n=DS.stringTabler.getString("acc_played",{time:this.getTooltipString({type:"ariaTick"})},"%time% played");this.progressBarEl.value=this.currTimeline.timeline?this.currTimeline.timeline.currentTime:0,this.progressBarEl.setAttribute("aria-valuenow",this.progressBarEl.value),this.progressBarEl.setAttribute("aria-valuetext",n),Af.trigger(If.currTimeline.TICK,e,Math.floor(this.progressBarEl.value))}},{key:"onSeek",value:function(e){var t=this;e.preventDefault(),e.stopPropagation(),this.seeking=!0,!0!==this.isUp&&this.currTimeline.isPlaying()&&(this.currTimeline.pause(!0),this.currTimeline.on(If.timeline.AFTER_SEEK_UPDATE,(function e(){t.currTimeline.play(),t.currTimeline.off(If.timeline.AFTER_SEEK_UPDATE,e)})));var n=this.getEventX(e);null!=n&&this.currTimeline.progress(this.getSeekValue(n)),this.isUp=!1}},{key:"seekBy",value:function(e,t){var n=this;e.preventDefault();var r=(this.currTimeline.elapsedTime()+t)/this.currTimeline.duration();this.currTimeline.onSeekStart(),this.currTimeline.progress(r),this.currTimeline.onSeekEnd(),this.currTimeline.isPlaying()&&(this.currTimeline.pause(),setTimeout((function(){return n.currTimeline.play()}),125))}},{key:"isEnded",value:function(){return this.currTimeline.progress()>=1}},{key:"onChange",value:function(e){this.currTimeline.progress(this.progressBarEl.value/this.progressBarEl.max)}},{key:"onMouseDown",value:function(e){this.isUp=!1,this.removeEndListener=Df(this.endEvent,this.onMouseUp),this.removeSeekListener=Df(this.seekEvent,this.onSeek),this.currTimeline.onSeekStart(),this.onSeek(e)}},{key:"onMouseUp",value:function(e){this.onSeek(e),this.removeEndListener(),this.removeSeekListener(),this.isUp=!0,this.currTimeline.onSeekEnd()}},{key:"onKeydown",value:function(e){var t=e.which;Tf.isActionKey(t)?Af.trigger(If.player.TOGGLE_PLAYBACK):this.isSeekable()&&(Tf.isDownishKey(t)?this.seekBy(e,-100):Tf.isPageDownKey(t)?this.seekBy(e,-1e3):Tf.isUpishKey(t)?this.seekBy(e,100):Tf.isPageUpKey(t)&&this.seekBy(e,1e3))}},{key:"getViewBox",value:function(e){var t=this.view.getBox();return null!=e&&(t.x="focusin"===e.type?t.x+t.w/2:e.pageX,t.w=2),t}},{key:"onMouseMove",value:function(e){Jt.updateTooltip(e.pageX,this.getTooltipString())}},{key:"setForFollowMouse",value:function(){this.el.addEventListener("mousemove",this.onMouseMove)}},{key:"stopFollowMouse",value:function(){this.el.removeEventListener("mousemove",this.onMouseMove)}},{key:"getTooltipString",value:function(e){if(null!=this.duration){var t=0;t=null==e||"focusin"!==e.type&&"ariaTick"!==e.type?this.getSeekValue(Lf.mouseX)*this.duration:Math.floor(xf.toSeconds(this.progressBarEl.value));var n=xf.formatSecondsAsTime(t),r=xf.formatSecondsAsTime(this.duration);return"".concat(Rf(n)," / ").concat(Rf(r))}}}])&&vf(t.prototype,n),r&&vf(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(yn),Mf="seek",Hf=DS,Nf=Hf.utils,Ff=Nf.pxify,Vf=Nf.scaleVal,Wf=Hf.vendorOverrides.fixStyleString;function Uf(e){return Uf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uf(e)}function zf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Yf(r.key),r)}}function Kf(e,t){return Kf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Kf(e,t)}function Gf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zf(e);if(t){var i=Zf(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Uf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return qf(e)}(this,n)}}function qf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zf(e){return Zf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Zf(e)}function Qf(e,t,n){return(t=Yf(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yf(e){var t=function(e,t){if("object"!==Uf(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Uf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Uf(t)?t:String(t)}$.def(Mf,Bf,(function(){var e=$.model,t=$.model.frame.controlOptions.controls,n=t.readonly,r=$.getCurrentNameSpaceString(),i=function(){return Wf("#seek:before {\n      border: 1px solid ".concat(me.getColor(r,".cs-seekcontrol","border-top-color"),";\n      background-image: ").concat(me.getColor(r,".cs-seekcontrol","background-image").replace("(, ","(180deg,"),";\n      background-repeat: no-repeat !important;\n      border-radius: ").concat(Ff(Vf(7)),";\n      height: ").concat(Ff(Vf(30))," !important;\n      width: calc(100% + ").concat(Ff(Vf(60)),");\n      left: -").concat(Ff(Vf(30)),";\n    }"))};return{attrs:{id:Mf,tabindex:-1,class:"progress-bar cs-seekcontrol ".concat(n?"read-only":"")},y:"vertical-center",overflow:"visible",noUpdate:!0,w:function(){return this.width||0},h:30,html:'\n      <style data-ref="styleContainer" class="style-container">\n        '.concat(i(),'\n      </style>\n\n      <div class="cs-seekbar-inner progress-bar-inner slide-lockable" data-ref="seekInner">\n        <div data-ref="seek" class="cs-seek progress-bar-seek" style="height: ').concat(Ff(Vf(18)),'; position: absolute; top: 50%; transform: translate(0%, -50%);">\n          <input\n            tabIndex="0"\n            type="range"\n            aria-hidden="').concat(!t.seekbar,'"\n            aria-label="').concat(e.getString("acc_slide_progress"),'"\n            data-ref="progressBar"\n          >\n          <div class="cs-fill progress-bar-fill" style="width: 0px" data-ref="progressBarFill"></div>\n        </div>\n      </div>\n    '),updateHook:function(){this.children.seek.el.style.height=Ff(Vf(18)),this.children.seekInner.el.style.top=Ff(Vf(6)),this.children.styleContainer.el.innerText=i()}}}));var Xf=DS,$f=Xf._,Jf=Xf.events,ed=Xf.pubSub,td=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Kf(e,t)}(o,e);var t,n,r,i=Gf(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),Qf(qf(t=i.call(this,e)),"hasTooltip",!0),Qf(qf(t),"tooltipKey","acc_replay"),$f.bindAll(qf(t),"onClickBtn","onTimelineChanged"),t.onClick(t.onClickBtn),ed.on(Jf.playbackControls.TIMELINE_CHANGED,t.onTimelineChanged),t}return t=o,(n=[{key:"onClickBtn",value:function(){this.resetTimeline()}},{key:"resetTimeline",value:function(){this.currTimeline.reset()}},{key:"onTimelineChanged",value:function(e){this.currTimeline=e}}])&&zf(t.prototype,n),r&&zf(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(yn),nd="reset",rd=DS.utils;rd.encode,rd.scaleVal;function id(e){return id="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},id(e)}function od(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ud(r.key),r)}}function ad(e,t){return ad=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ad(e,t)}function ld(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=sd(e);if(t){var i=sd(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===id(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return cd(e)}(this,n)}}function cd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sd(e){return sd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},sd(e)}function ud(e){var t=function(e,t){if("object"!==id(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==id(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===id(t)?t:String(t)}$.def(nd,td,(function(){return{tag:"button",attrs:{id:nd,class:"content-center cs-button","aria-label":$.model.getString("acc_replay"),tabindex:0},style:{background:"transparent",border:"none"},html:function(){return lo("replay")()},y:"vertical-center",z:1,minW:30,minH:30}}));var fd=DS,dd=fd.detection,hd=fd.dom,pd=fd.pubSub,yd=fd.events,vd={next:"acc_next_visual",prev:"acc_previous_visual",submit:"acc_submit"},bd=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ad(e,t)}(o,e);var t,n,r,i=ld(o);function o(e){var t,n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=i.call(this,e),n=cd(t),a=!0,(r=ud(r="hasTooltip"))in n?Object.defineProperty(n,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[r]=a,dd.deviceView.isMobile&&t.onClick(t.onTap),t.onClick(t.onClickBtn),t}return t=o,(n=[{key:"tooltipKey",get:function(){return vd[this.view.nameKey]}},{key:"onTap",value:function(e){hd.tappedClass(this.el)}},{key:"onClickBtn",value:function(e){var t=this.view,n=t.enabled,r=t.nameKey;n&&pd.trigger(yd.presentation.ON_OBJECT_EVENT,r+"_pressed")}},{key:"onLayoutChange",value:function(e){var t=this,n=this.view.nameKey;this.hasFocus&&(e[n]?window.requestAnimationFrame((function(){return t.onFocus()})):this.onBlur())}}])&&od(t.prototype,n),r&&od(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(yn),md="prev",gd=DS.utils;gd.pxify,gd.scaleVal;$.def(md,bd,(function(){var e=$.model,t=$.model,n=t.dir,r=t.rtl;return{tag:"button",attrs:{id:md,class:"cs-button btn",tabindex:0,"aria-label":e.getString(r?"acc_next":"acc_previous")},html:n([lo(r?"next":"prev")(),e.getString("prev")]).join("\n"),methods:{shortcutActivated:function(){this.visible&&this.viewLogic.onClickBtn()}},calcTextSize:!0,w:"fit-to-text-w",y:"vertical-center",padLeft:r?0:8,padRight:r?8:0,minW:71,minH:30}}));var wd="next",Sd=DS.utils;Sd.pxify,Sd.scaleVal;$.def(wd,bd,(function(){var e=$.model,t=$.model,n=t.dir,r=t.rtl;return{tag:"button",attrs:{id:wd,class:"cs-button btn","aria-label":e.getString(r?"acc_previous":"acc_next"),tabindex:0},html:n([e.getString("next"),lo(r?"prev":"next")()]).join("\n"),methods:{shortcutActivated:function(){this.visible&&this.viewLogic.onClickBtn()}},calcTextSize:!0,padRight:r?0:8,padLeft:r?8:0,w:"fit-to-text-w",y:"vertical-center",minW:71,minH:30}}));var kd="submit";function Od(e){return Od="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Od(e)}function Cd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==Od(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Od(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===Od(o)?o:String(o)),r)}var i,o}function Ed(e,t){return Ed=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ed(e,t)}function xd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ld(e);if(t){var i=Ld(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Od(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Td(e)}(this,n)}}function Td(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ld(e){return Ld=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ld(e)}$.def(kd,bd,(function(){var e=$.model;return{tag:"button",attrs:{id:kd,class:"cs-button btn","aria-label":e.getString("acc_submit"),tabindex:0},html:"".concat($.model.getString(kd)),methods:{shortcutActivated:function(){this.visible&&this.viewLogic.onClickBtn()}},overflow:"visible",w:"fit-to-text-w",y:"vertical-center",calcTextSize:!0,minW:71,minH:30,noUpdate:!0}}));var Pd=DS,_d=Pd._,jd=Pd.detection,Dd=Pd.pubSub,Id=Pd.events,Ad=Pd.focusManager,Rd=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ed(e,t)}(o,e);var t,n,r,i=xd(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=i.call(this,e),_d.bindAll(Td(t),"onStart","onClickCallback"),Dd.once(Id.request.START,t.onStart),t}return t=o,(n=[{key:"onStart",value:function(e){this.rejectDeferred=e,this.el.classList.add("opaque"),this.playIconEl.addEventListener("click",this.onClickCallback),this.toggleVisibility(!0),jd.env.is360||this.playIconEl.focus(),Dd.trigger(Id.startOverlay.READY)}},{key:"onFocus",value:function(){Ad.setFocusRectOn(this.playIconEl)}},{key:"onClickCallback",value:function(){var e=this;this.view.children.playIcon.el.removeEventListener("click",this.onClickCallback),Dd.trigger(Id.loader.UNMUTE),jd.deviceView.isMobile?Dd.once(Id.slide.STARTED,(function(){e.el.classList.remove("opaque")})):this.el.classList.remove("opaque"),this.rejectDeferred(),this.toggleVisibility(!1)}},{key:"toggleVisibility",value:function(e){this.el.classList.add(e?"shown":"hidden"),this.el.classList.remove(e?"hidden":"shown")}}])&&Cd(t.prototype,n),r&&Cd(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(yn),Bd=DS.stringTabler;$.def("startoverlay",Rd,(function(){return{attrs:{class:"start-overlay hidden","aria-modal":"true",role:"dialog","aria-label":"".concat(Bd.getString(DS.constants.strings.PROJECT_TITLE)," ").concat(Bd.getString("desktop_start"))},x:0,y:0,w:"100%",h:"100%",add:!0,html:function(){return"<button\n        aria-label=".concat(Bd.getString("desktop_start"),'\n        data-ref="playIcon"\n        tabindex="0"\n        data-leavealone="0">\n        <div class="cs-button">\n          <svg viewBox="0 0 100 100" width="100" height="100">\n            <path d="M 81.94 50.00 L 31.03 20.61 L 31.03 79.39" fill="currentColor" />\n          </svg>\n        </div>\n      </div>')}}}));function Md(e){return Md="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Md(e)}function Hd(e,t,n){return(t=Fd(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Fd(r.key),r)}}function Fd(e){var t=function(e,t){if("object"!==Md(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Md(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Md(t)?t:String(t)}function Vd(e,t){return Vd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Vd(e,t)}function Wd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=zd(e);if(t){var i=zd(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Md(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ud(e)}(this,n)}}function Ud(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zd(e){return zd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},zd(e)}$.def("captionContainer",(function(){return{attrs:{class:"caption-container"},z:2,w:"100%",h:"100%",add:!0}}));var Kd=DS,Gd=Kd._,qd=Kd.pubSub,Zd=Kd.dom,Qd=Kd.detection,Yd=Kd.events,Xd=Kd.utils.pxify,$d=Kd.constants.DESKTOP_LOADER_DELAY*(Qd.browser.isIE?2:1),Jd=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vd(e,t)}(o,e);var t,n,r,i=Wd(o);function o(e){var t,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),n=i.call(this,e),Gd.bindAll(Ud(n),"onShow","onHide","onMouseMove","onCtxMenu"),qd.on((Hd(t={},Yd.app.SHOW_LOADER,n.onShow),Hd(t,Yd.app.HIDE_LOADER,n.onHide),t)),n.view.el.addEventListener("contextmenu",n.onCtxMenu),n}return t=o,(n=[{key:"onShow",value:function(){var e=this;this.spinnerTimeout=setTimeout((function(){document.body.addEventListener("mousemove",e.onMouseMove),e.updateSpinnerLoc(),e.view.el.style.cursor="none",e.view.setVisibility(!0)}),$d)}},{key:"onHide",value:function(){clearTimeout(this.spinnerTimeout),document.body.removeEventListener("mousemove",this.onMouseMove),this.view.el.style.cursor="",this.view.setVisibility(!1)}},{key:"onMouseMove",value:function(){this.updateSpinnerLoc()}},{key:"onCtxMenu",value:function(e){e.preventDefault()}},{key:"updateSpinnerLoc",value:function(){this.spinnerEl.style.left=Xd(Zd.mouseX),this.spinnerEl.style.top=Xd(Zd.mouseY)}},{key:"teardown",value:function(){qd.off("app:showLoader",this.onShow),qd.off("app:hideLoader",this.onHide),this.view.el.removeEventListener("contextmenu",this.onCtxMenu)}}])&&Nd(t.prototype,n),r&&Nd(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(yn),eh="slideLoaderOverlay";function th(e){return function(e){if(Array.isArray(e))return nh(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return nh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nh(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}$.def(eh,Jd,(function(){$.model;return{attrs:{id:eh},w:null,h:null,html:'<div class="slide-loader" data-ref="spinner"></div>'}}));var rh=DS.constants.refs.FRAME,ih=DS,oh=ih.pubSub,ah=ih.events,lh=ih.scaler;function ch(e){return ch="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ch(e)}function sh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==ch(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ch(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===ch(o)?o:String(o)),r)}var i,o}var uh=DS,fh=uh._,dh=uh.pubSub,hh=uh.events,ph=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.el=t.el,this.nameSpace=t.nameSpace,this.el.classList.add(this.nameSpace),fh.bindAll(this,"onSlideTransitionIn","onWindowClosing"),dh.on(hh.slide.ON_TRANSITION_IN,this.onSlideTransitionIn),dh.on(hh.window.CLOSING,this.onWindowClosing)}var t,n,r;return t=e,(n=[{key:"onSlideTransitionIn",value:function(e){e.windowId===this.nameSpace&&document.body.classList.add("showing-".concat(this.nameSpace.toLowerCase()))}},{key:"onWindowClosing",value:function(e){e===this.nameSpace&&document.body.classList.remove("showing-".concat(this.nameSpace.toLowerCase()))}}])&&sh(t.prototype,n),r&&sh(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function yh(e){return yh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yh(e)}function vh(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==yh(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==yh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===yh(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var bh="lightBoxWrapper",mh=DS,gh=mh.utils.scaleVal,wh=mh.scaler;$.def(bh,ph,(function(e){var t,n=$.model,r=n.frame.fontscale,i=n.preso.display().windows().find({id:e});return vh(t={attrs:{id:bh,class:"cs-base cs-".concat(n.frame.default_layout," fn-").concat(n.frame.default_layout)},style:{fontSize:"".concat(gh(r),"%")}},"style",{transformOrigin:"0px 0px",transform:"translate(-50%, -50%)",background:"black"}),vh(t,"dimScale",(function(){return wh.getScale()})),vh(t,"overflow","visible"),vh(t,"w",i.get("width")),vh(t,"h",i.get("height")),vh(t,"x",(function(){return(window.innerWidth-gh(this.w))/2})),vh(t,"y",(function(){return(window.innerHeight-gh(this.h))/2})),vh(t,"updateHook",(function(){this.el.style.fontSize="".concat(gh(r),"%")})),vh(t,"add",!0),t}));var Sh=DS.constants.LIGHTBOX_SCALAR,kh="lightBoxSlide";$.def(kh,ar,(function(){var e=$.model;return{attrs:{class:kh,role:"dialog","aria-modal":!0},origin:"0 0",w:e.slideWidth*Sh,h:e.slideHeight*Sh,x:function(){return(this.parent.w-this.w)/2},y:function(){return this.x},z:1,bgColor:"black",add:!0,html:'<div id="slide-label-lightbox" data-ref="label" aria-live="polite"></div><main data-ref="container" class="slide-container" tabindex="-1"></main>',childViews:["captionContainer"],updateHook:function(){this.children.captionContainer.update()},winScale:function(){return DS.scaler.getScale()*Sh}}}));var Oh="lightBox",Ch=DS.utils,Eh=Ch.scaleVal,xh=Ch.pxify;function Th(e){return Th="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Th(e)}function Lh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==Th(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Th(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===Th(o)?o:String(o)),r)}var i,o}function Ph(e,t){return Ph=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ph(e,t)}function _h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=jh(e);if(t){var i=jh(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Th(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function jh(e){return jh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},jh(e)}$.def(Oh,(function(){return{attrs:{class:"".concat(Oh," cs-base")},x:0,y:0,w:"100%",h:"100%",border:"".concat(xh(Eh(4))," solid black"),offsets:{l:4,t:4},overflow:"visible",contentStyle:{width:"100%",height:"100%"},updateHook:function(){this.el.style.borderWidth=xh(Eh(4))}}}));var Dh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ph(e,t)}(o,e);var t,n,r,i=_h(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=i.call(this,e)).onClick(t.onClickClose),t}return t=o,(n=[{key:"onClickClose",value:function(e){var t=this.model.windowId;DS.pubSub.trigger(DS.events.window.CLOSING,t)}}])&&Lh(t.prototype,n),r&&Lh(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(yn),Ih="lightBoxClose";DS.utils.scaleVal;$.def(Ih,Dh,(function(e){var t={windowId:e};return{tag:"button",attrs:{id:Ih,tabindex:0,"aria-label":DS.stringTabler.getString("close")},html:lo("close"),y:function(){return-this.h/2+2},x:function(){return this.parent.w-this.w/2-2},model:t,w:20,h:20}}));var Ah=DS.scaler,Rh=function(e){return e/Ah.getScale()};$.def("visibleOverlay",(function(){return{attrs:{class:"visible-overlay"},x:0,y:0,w:function(){return Rh(window.innerWidth)},h:function(){return Rh(window.innerHeight)},position:"fixed",bgColor:"rgba(0, 0, 0, 0.4)",add:!0}}));var Bh="LightboxWnd",Mh="lightBoxBottom";$.def(Mh,(function(){return{tag:"nav",attrs:{id:Mh},x:-4,y:function(){return this.parent.h-this.h-4},w:"100%",h:gt,updateHook:function(){if(this.hasAllChildren()){this.flowChildren({pad:bt,startPos:this.w,toLeft:!0});var e=this.children.captions;e.x=bt,e.update()}}}}));var Hh="LightboxControlsWnd",Nh="printWrapper";$.def(Nh,(function(e){return{attrs:{id:Nh,class:"print-window"},w:0,h:0,style:{overflow:"visible",transformOrigin:"0 0",background:"transparent"},scale:1,x:0,y:0,add:!0}}));var Fh=DS.constants.printSettings,Vh="printSlide";$.def(Vh,ar,(function(e){var t=$.model.slideWidth;return{attrs:{id:Vh,class:"cs-window window-slide ".concat(e,"-slide"),tabindex:-1},style:{overflow:"visible",transformOrigin:"0 0",background:"transparent",display:"none"},origin:"0 0",winScale:function(){return this.w/t},w:function(){var e=DS.detection.os,t=e.isAndroid,n=e.isIOS;return t?Fh.android.pageW:n?Fh.ios.pageW:Fh.desktop.pageW},h:0,x:0,y:0,z:1,html:'<div data-ref="container" class="slide-container"></div>'}}));var Wh="PrintWindow",Uh="messageWindowWrapper",zh=DS,Kh=zh.scaler,Gh=(zh.utils.scaleVal,function(e){return e/Kh.getScale()});$.def(Uh,(function(e){var t=$.model,n=t.preso.display().windows().find({id:e}),r=$.getNamespace(DS.constants.refs.FRAME),i=r.slide,o=r.wrapper;return{attrs:{id:Uh,class:"cs-".concat(t.frame.default_layout," fn-").concat(t.frame.default_layout)},w:n.get("width"),h:n.get("height"),style:{overflow:"visible",transformOrigin:"0 0",background:"transparent"},dimScale:function(){return Kh.getScale()},x:function(){return Gh(o.x)+(i.x+(i.w-this.w)/2)},y:function(){return Gh(o.y)+(i.y+(i.h-this.h)/2)},add:!0}}));var qh="messageWindowSlide";$.def(qh,ar,(function(){return{attrs:{id:qh,class:"cs-window","aria-labelledby":"slide-label-message",role:"alertdialog","aria-modal":!0,tabindex:-1},origin:"0 0",w:"100%",h:"100%",x:0,y:0,z:1,html:'<div id="slide-label-message" data-ref="label" role="presentation"></div><div data-ref="container" class="slide-container"></div>',winScale:function(){return DS.scaler.getScale()}}}));$.def("overlay",(function(){return{attrs:{class:"overlay overlay-message"},x:0,y:0,w:function(){return window.innerWidth},h:function(){return window.innerHeight},position:"fixed",add:!0}}));var Zh="MessageWnd",Qh=DS.scaler,Yh="shortcutWrapper";$.def(Yh,(function(e){var t=$.model,n=$.getNamespace(DS.constants.refs.FRAME),r=(n.slide,n.wrapper);return{attrs:{id:Yh,class:"cs-base cs-".concat(t.frame.default_layout," fn-").concat(t.frame.default_layout)},w:function(){return.7*r.w},h:function(){return.7*r.h},style:{overflow:"visible",transformOrigin:"0 0",background:"transparent"},x:function(){return r.x/Qh.getScale()+(r.w-this.w)/2},y:function(){return r.y/Qh.getScale()+(r.h-this.h)/2},add:!0}}));var Xh=function(){return"no icon"},$h={track:function(e,t){return'\n      <svg xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="16px" viewBox="0 0 24 16">\n        <defs>\n            <rect id="'.concat(t,'-track" x="2" y="3.5" width="20" height="9" rx="4.5"></rect>\n            <filter x="-12.5%" y="-27.8%" width="125.0%" height="155.6%" filterUnits="objectBoundingBox" id="').concat(t,'-trackFilter">\n                <feGaussianBlur stdDeviation="1.5" in="SourceAlpha" result="shadowBlurInner1"></feGaussianBlur>\n                <feOffset dx="0" dy="1" in="shadowBlurInner1" result="shadowOffsetInner1"></feOffset>\n                <feComposite in="shadowOffsetInner1" in2="SourceAlpha" operator="arithmetic" k2="-1" k3="1" result="shadowInnerInner1"></feComposite>\n                <feColorMatrix values="0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.5 0" type="matrix" in="shadowInnerInner1"></feColorMatrix>\n            </filter>\n        </defs>\n        <g class="thumb-off" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n            <g>\n                <use fill="#D1D1D1" fill-rule="evenodd" xlink:href="#').concat(t,'-track"></use>\n                <use fill="white" fill-opacity="1" filter="url(#').concat(t,'-trackFilter)" xlink:href="#').concat(t,'-track"></use>\n                <use stroke="#AFAFAF" stroke-width="1" xlink:href="#').concat(t,'-track"></use>\n                <circle fill="#585858" stroke-width="0" cx="8" cy="8" r="5"></circle>\n            </g>\n        </g>\n        <g class="thumb-on" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n            <g>\n                <use fill="#DBDBDB" fill-rule="evenodd" xlink:href="#').concat(t,'-track"></use>\n                <use fill="white" fill-opacity="1" filter="url(#').concat(t,'-trackFilter)" xlink:href="#').concat(t,'-track"></use>\n                <use stroke="#AFAFAF" stroke-width="1" xlink:href="#').concat(t,'-track"></use>\n                <circle fill="').concat(e,'" stroke-width="0" cx="16" cy="8" r="6"></circle>\n            </g>\n        </g>\n      </svg>\n    ')}};function Jh(e){return Jh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jh(e)}function ep(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==Jh(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Jh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===Jh(o)?o:String(o)),r)}var i,o}function tp(){return tp="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=op(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},tp.apply(this,arguments)}function np(e,t){return np=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},np(e,t)}function rp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=op(e);if(t){var i=op(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Jh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ip(e)}(this,n)}}function ip(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function op(e){return op=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},op(e)}var ap="shortcutSlide",lp="comma_key",cp="period_key",sp="question_mark_key",up=DS,fp=up._,dp=up.shortcutManager,hp=up.keyManager,pp=up.pubSub,yp=up.events,vp=yp.window.CLOSING,bp=yp.player.ENABLE_KEYBOARD_SHORTCUTS,mp=up.MicroScrollBar,gp=up.focusManager,wp=(up.flagManager,up.constants),Sp=up.globalEventHelper.addDocumentListener;function kp(e,t,n){return(e.ctrl?t.getString("ctrl_key")+"+":"")+(e.alt?t.getString("alt_key")+"+":"")+(e.shift?t.getString("shift_key")+"+":"")+function(e,t,n){if(n)switch(e.key){case"?":return t.getString(sp);case".":return t.getString(cp);case",":return t.getString(lp)}return(e.keyName||e.key).toUpperCase()}(e,t,n)}var Op=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&np(e,t)}(o,e);var t,n,r,i=rp(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=i.call(this,e),fp.bindAll(ip(t),"onKeyboardShortcutsChanged","toggleKeyboardShortcuts","onFocus","onKeydown"),pp.on(vp,t.closeWindow),t.removeKeydownListener=Sp("keydown",t.onKeydown),null!=t.keyboardShortcutsSwitchEl&&(t.onClickEl(t.keyboardShortcutsSwitchEl,t.toggleKeyboardShortcuts),pp.on(bp,t.onKeyboardShortcutsChanged)),t}return t=o,(n=[{key:"onKeydown",value:function(e){hp.isKey(e.which,wp.keys.ESCAPE)&&this.closeWindow("ShortcutWnd")}},{key:"closeWindow",value:function(e){"ShortcutWnd"===e&&dp.closeShortcutWindow()}},{key:"onKeyboardShortcutsChanged",value:function(e){e?(this.keyboardShortcutsSwitchEl.classList.add("toggle-on"),this.keyboardShortcutsSwitchEl.classList.remove("toggle-off"),this.shortcutsTableEl.classList.remove("disabled")):(this.keyboardShortcutsSwitchEl.classList.add("toggle-off"),this.keyboardShortcutsSwitchEl.classList.remove("toggle-on"),this.shortcutsTableEl.classList.add("disabled")),this.keyboardShortcutsSwitchEl.querySelector("button").setAttribute("aria-checked",e)}},{key:"toggleKeyboardShortcuts",value:function(){dp.enableShortcuts(!dp.enabled)}},{key:"onFocus",value:function(e){var t=e.target;this.el.contains(t)&&gp.setFocusRectOn(t)}},{key:"teardown",value:function(){pp.off(vp,this.closeWindow),null!=this.keyboardShortcutsSwitchEl&&pp.off(bp,this.onKeyboardShortcutsChanged),this.removeKeydownListener(),tp(op(o.prototype),"teardown",this).call(this)}}])&&ep(t.prototype,n),r&&ep(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(ar);$.def(ap,Op,(function(){var e=$.model;return{attrs:{id:ap,class:"shortcut-slide","aria-labelledby":"slide-label-message",role:"alertdialog","aria-modal":!0,tabindex:-1},style:{overflow:"scroll"},origin:"0 0",w:"100%",h:"100%",x:0,y:0,z:1,html:function(){var t=DS.detection.theme.isUnified?[wp.refs.FRAME,".cs-brandhighlight-bg","background-color",".cs-base.cs-custom-theme"]:[wp.refs.FRAME,".cs-duration stop:last-child","stop-color",void 0,".cs-duration stop"],n=me.getColor.apply(me,t),r='\n        <div class="switch '.concat(dp.enabled?"toggle-on":"toggle-off",'" data-ref="keyboardShortcutsSwitch">\n          <label id="shortcuts-label" class="switch-label">').concat(e.getString("enable_keyboardshortcuts"),'</label>\n          <button class="switch-toggle" tabindex="0" role="switch" aria-checked="').concat(dp.enabled,'" aria-labelledby="shortcuts-label">\n            ').concat(($h["track"]||Xh)(n,"shortcuts"),"\n          </button>\n        </div>"),i="<h1>".concat(e.getString("keyboardshortcuts")).concat(r,"</h1>"),o=dp.getShortcutList().map((function(t){var n=t.name,r=t.keyInfo;return'<tr class="'.concat("?"===r.key?"":"disableable",'">\n            <td class="action">').concat(n,'</td>\n            <td class="key">\n              <span aria-hidden="true">').concat(kp(r,e,!1),'</span>\n              <span class="sr-only">').concat(kp(r,e,!0),"</span>\n            </td>\n          </tr>")})).join(""),a='<tr><th class="action">'.concat(e.getString("action"),'</th><th class="key">').concat(e.getString("shortcut"),"</th></tr>");return[i,'<table data-ref="shortcutsTable">'.concat(a).concat(o,"</table>")].join("")},childDef:function(){null==this.scrollbar&&(this.scrollbar=new mp(this.el,"shortcut-slide"))}}}));var Cp=DS.scaler,Ep="shortcutClose";$.def(Ep,Dh,(function(e){var t={windowId:e};return{tag:"button",attrs:{id:Ep,class:"close-btn-floating",tabindex:0,"z-index":999,"aria-label":$.model.getString("close"),"data-aria-label-id":"close"},style:{overflow:"visible"},html:function(){return'<svg class="cs-icon icon-close" width="'.concat(20*Cp.getScale(),'" height="').concat(20*Cp.getScale(),'" viewBox="0 0 36 36" focusable="false">\n                <polygon points="36,2.826 33.174,0 18,15.174 2.826,0 0,2.826 15.174,18 0,33.174 2.826,36 18,20.826 33.174,36 36,33.174 20.826,18" />\n              </svg>')},methods:{updateDomStrings:function(){this.el.setAttribute("aria-label",$.model.getString("close"))}},y:35,x:function(){var e=$.getNamespace("_frame").wrapper;return Math.max(window.innerWidth/Cp.getScale(),e.w)-(this.w+35)},model:t,w:20,h:20}}));var xp="ShortcutWnd",Tp="messagePromptWrapper";$.def(Tp,(function(e){var t=$.model,n=$.getNamespace(DS.constants.refs.FRAME),r=n.slide,i=n.wrapper,o=t.rtl?"rtl":"";return{attrs:{id:Tp,class:"cs-base cs-".concat(t.frame.default_layout," fn-").concat(t.frame.default_layout," ").concat(o)},w:336,h:210,style:{overflow:"visible",transformOrigin:"0 0",background:"transparent"},scale:function(){return i.scale},x:function(){var e=i.scale;return i.x+(r.x+(r.w-this.w)/2)*e},y:function(){var e=i.scale;return i.y+(r.y+(r.h-this.h)/2)*e},add:!0}}));function Lp(e){return Lp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lp(e)}function Pp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==Lp(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Lp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===Lp(o)?o:String(o)),r)}var i,o}function _p(){return _p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ip(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},_p.apply(this,arguments)}function jp(e,t){return jp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},jp(e,t)}function Dp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ip(e);if(t){var i=Ip(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Lp(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function Ip(e){return Ip=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ip(e)}$.def("overlay",(function(){return{attrs:{class:"overlay overlay-message"},x:0,y:0,w:function(){return window.innerWidth},h:function(){return window.innerHeight},position:"fixed",add:!0}}));var Ap=DS,Rp=Ap.events,Bp=Ap.pubSub,Mp=Ap.focusManager,Hp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jp(e,t)}(o,e);var t,n,r,i=Dp(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=i.call(this,e)).onClickEl(t.okButtonEl,t.onClickOk),t}return t=o,(n=[{key:"setPromptId",value:function(e){this.promptId=e}},{key:"onClickOk",value:function(e){var t,n,r=null===(t=this.view)||void 0===t||null===(n=t.getClosingData)||void 0===n?void 0:n.call(t);Bp.trigger(Rp.prompt.CLOSING,this.promptId),Bp.trigger(Rp.presentation.ON_OBJECT_EVENT,"".concat(this.promptId,"_closed"),r)}},{key:"onFocus",value:function(e){var t=e.target;this.el.contains(t)&&Mp.setFocusRectOn(t)}},{key:"teardown",value:function(){_p(Ip(o.prototype),"teardown",this).call(this)}}])&&Pp(t.prototype,n),r&&Pp(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(ar),Np=DS.MicroScrollBar,Fp="invalidPromptSlide";$.def(Fp,Hp,(function(e){var t=$.model;return{attrs:{id:Fp,class:"cs-window","aria-labelledby":"slide-label-message",role:"alertdialog","aria-modal":!0,tabindex:-1},origin:"0 0",w:"100%",h:"100%",x:0,y:0,z:1,html:function(){var e=t.getString("invalid_prompt_title"),n=t.getString("invalid_prompt_message"),r=t.getString("invalid_prompt_button");return'\n        <div class=\'message-window native-message-window\'>\n          <header class="message-window-header">\n            <h1 class="message-window-heading">'.concat(e,'</h1>\n          </header>\n          <div class="message-window-text-wrapper">\n            <div class=\'message-window-text\' data-ref="bodyText">').concat(n,'</div>\n          </div>\n          <div class=\'message-buttons\'>\n            <button data-ref="okButton" tabindex="0">').concat(r,"</button>\n          </div>\n        </div>\n      ")},childDef:function(){var e=this.children.bodyText.el;null==this.scrollbar&&null!=e&&(this.scrollbar=new Np(e,"message-window-text"))}}}));var Vp=DS,Wp=Vp.MicroScrollBar,Up=(Vp.pubSub,Vp.events,"printPromptSlide");$.def(Up,Hp,(function(e){var t=$.model;return{attrs:{id:Up,class:"cs-window","aria-labelledby":"slide-label-message",role:"alertdialog","aria-modal":!0,tabindex:-1},origin:"0 0",w:"100%",h:"100%",x:0,y:0,z:1,methods:{getClosingData:function(){var e=this.children.userNameInput.el,t=e.value;return e.value="",{_ActPrintPromptUsername:t}}},html:function(){var e=t.getString("print_prompt_title"),n=t.getString("print_prompt_message"),r=t.getString("print_prompt_button");return'\n        <div class=\'message-window native-message-window\'>\n          <header class="message-window-header">\n            <h1 class="message-window-heading">'.concat(e,'</h1>\n          </header>\n          <div class="message-window-text-wrapper">\n            <div class=\'message-window-text\' data-ref="bodyText">').concat(n,'</div>\n          </div>\n          <input data-ref="userNameInput" tabindex="0" type="text">\n          <div class=\'message-buttons\'>\n            <button data-ref="okButton" tabindex="0">').concat(r,"</button>\n          </div>\n        </div>\n      ")},childDef:function(){var e=this.children.bodyText.el;null==this.scrollbar&&null!=e&&(this.scrollbar=new Wp(e,"message-window-text"))}}}));var zp=DS.MicroScrollBar,Kp="timerPromptSlide";$.def(Kp,Hp,(function(e){var t=$.model;return{attrs:{id:Kp,class:"cs-window","aria-labelledby":"slide-label-message",role:"alertdialog","aria-modal":!0,tabindex:-1},origin:"0 0",w:"100%",h:"100%",x:0,y:0,z:1,html:function(){var e=t.getString("timer_prompt_title"),n=t.getString("timer_prompt_message"),r=t.getString("timer_prompt_button");return'\n        <div class=\'message-window native-message-window\'>\n          <header class="message-window-header">\n            <h1 class="message-window-heading">'.concat(e,'</h1>\n          </header>\n          <div class="message-window-text-wrapper">\n            <div class=\'message-window-text\' data-ref="bodyText">').concat(n,'</div>\n          </div>\n          <div class=\'message-buttons\'>\n            <button data-ref="okButton" tabindex="0">').concat(r,"</button>\n          </div>\n        </div>\n      ")},childDef:function(){var e=this.children.bodyText.el;null==this.scrollbar&&null!=e&&(this.scrollbar=new zp(e,"message-window-text"))}}}));var Gp,qp={InvalidPrompt:"invalidPromptSlide",PrintPrompt:"printPromptSlide",TimerPrompt:"timerPromptSlide"},Zp=function(e){var t=e,n=qp[e];return{nameSpace:t,render:function(e){var r=$.tree(t,["overlay",{messagePromptWrapper:[n]}]),i=$.getNamespace(t);return i.slide=i[n],i.wrapper=i.messagePromptWrapper,{all:function(){return $.update(r)},resize:function(){i.isAttached&&(i.overlay.update(),i.messagePromptWrapper.update())}}}}};function Qp(e){return Qp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qp(e)}function Yp(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Qp(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Qp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Qp(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xp=Zp("InvalidPrompt"),$p=Xp.render,Jp=Xp.nameSpace,ey=Zp("PrintPrompt"),ty=ey.render,ny=ey.nameSpace,ry=Zp("TimerPrompt"),iy=ry.render,oy=ry.nameSpace;!function(e,t){yt(e),function(e){var t=window.globalProvideData;if(window.globalProvideData=function(e,n){"frame"===e&&(null!=(Ie=JSON.parse(n)).localization&&DS.flagManager.localizationPlatform?(DS.localizationManager.registerFrameLanguageData(Ie.localization),DS.localizationManager.loadFrameData().then((function(e){Ae=e,vt()}))):vt(),window.globalProvideData=t)},at.on(qe,(function(e){new Ve,De=new v(Ie,Ae,e),$.setModel(De),st.initialize(De),ut.initialize((function(e){return De.getString(e)})),me.initializeCssColorVars(),DS.frameModel=De,DS.views=$,(DS.frameModel.frame.chromeless||DS.detection.env.hideFrame)&&ft.addClass(document.body,"chromeless"),at.trigger(Ye)})),window.globals.useJson){var n=e.replace(".js",".json"),r=new XMLHttpRequest;return r.overrideMimeType("application/json"),r.onreadystatechange=function(){4===r.readyState&&200===r.status&&window.globalProvideData("frame",r.responseText.replace(/\\'/g,"'").replace(/\\"/g,'"'))},r.open("GET",n,!0),void r.send(null)}DS.loadScript(e)}(t)}((Yp(Gp={},rh,(function(e){var t=e.topTabsLeft,r=e.topTabsRight,i=e.sidebarOpts,o=i.timeEnabled,a=i.logoEnabled,l=i.html5_logo_url,c=i.logoPlaceholderText,s=e.frame.controlOptions.controls,u=s.closed_captions,f=s.settings,d=$.tree(rh,[{wrapper:[{frame:["slide",e.frame.skip_nav_enabled?"skipnav":null,{bottomBar:[{playbackControls:["playPause","seek","reset"]},{miscControls:["volume"].concat(th(u?["captions"]:[]),th(f?["settings"]:[]))},{navControls:["prev","next","submit"]}]},{sidebar:[].concat(th(a&&(l||c)?["logo"]:[]),["tabs","sidebarPanels"])},{topBar:["title",{topTabs:["linksLeft","linksRight"]}].concat(th(o?["timer"]:[]))}]},"startoverlay"]},window.globals.HAS_SLIDE?"slideLoaderOverlay":null]),h=function(e){return function(t){return t.name===e}},p=function(e){return!t.some(h(e))&&!r.some(h(e))},y=function(t,r){if(r===rh){var i=function(e,t){var r=e.sidebarOpts.sidebarEnabled;return r&&(r=n(e.sidebarTabs,t)),r||e.sidebarOpts.logoEnabled}(e,t),o=n([].concat(th(e.topTabsRight),th(e.topTabsLeft)),t),a={playbackControls:t.seekbar,next:t.next,prev:t.previous,submit:t.submit,skipnav:i||o,volume:t.volume,glossaryTab:t.glossary,glossaryPanel:t.glossary&&p("glossary"),glossaryLink:t.glossary,resourcesTab:t.resources,resourcesPanel:t.resources&&p("resources"),resourcesLink:t.resources,outlineTab:t.outline.enabled,outlinePanel:t.outline.enabled&&p("outline"),outlineLink:t.outline.enabled,search:t.outline.search,transcriptTab:t.transcript,transcriptPanel:t.transcript&&p("transcript"),transcriptLink:t.transcript,sidebar:i,bottomBar:e.bottomBarOpts.bottomBarEnabled};$.resetStates(rh),$.updateVisibility(a,rh),$.update(d)}};oh.on(ah.frameModel.LAYOUT_CHANGED,y);var v=function(e){var t=e.kind,n=e.name,r=e.visible,i=e.enable,o=e.affectTabStop,a="toggle_window_control_visible"===t||"toggle_window_control"===t;"previous"===n&&(n="prev");var l=$["enable_window_control"===t||"toggle_window_control"===t?"getTopNameSpace":"getFrameNameSpace"]()[n];null!=l&&(a?"toggle_window_control_visible"===t?(l.setVisibility(!l.visible),l.childVisibilityChanged()):l.setEnabled(!l.enabled,o):"set_window_control_visible"===t?(l.setVisibility(r),l.childVisibilityChanged()):l.setEnabled(i,o))};oh.on(ah.navcontrols.CHANGED,v);var b=new _t(e);b.update();var m=lh.isShowAll()?function(){b.update()}:_.noop;return{all:function(){$.update(d),m()},resize:function(){$.update(d),m()},rerender:function(){$.update(d,!0),m(),$.nameSpaces[rh].wrapper.updateChildren(!0),DS.renderEngine.createWindowFor()},destroy:function(){oh.off(ah.navcontrols.CHANGED,v),oh.off(ah.frameModel.LAYOUT_CHANGED,y),$.nameSpaces[rh].topLevelElements.forEach((function(e){return e.destroy()}))}}})),Yp(Gp,Bh,(function(e){var t=$.tree(Bh,["visibleOverlay",{lightBoxWrapper:["lightBoxSlide","lightBox","lightBoxClose"]}]),n=$.getNamespace(Bh);return n.slide=n.lightBoxSlide,n.wrapper=n.lightBoxWrapper,{all:function(){return $.update(t)},resize:function(){n.isAttached&&$.update(t)}}})),Yp(Gp,Hh,(function(e){var t=$.tree(Hh,["visibleOverlay",{lightBoxWrapper:["lightBoxSlide",{lightBox:[{lightBoxBottom:["submit","next","prev","captions"]}]},"lightBoxClose"]}]),n=$.getNamespace(Hh);n.slide=n.lightBoxSlide,n.wrapper=n.lightBoxWrapper;var r=function(e,n){if(n===Hh){var r={next:e.next,prev:e.previous,submit:e.submit};$.resetStates(Hh),$.updateVisibility(r,Hh),$.update(t)}};return DS.pubSub.on(DS.events.frameModel.LAYOUT_CHANGED,r),r(e.currControlLayout),{all:function(){return $.update(t)},resize:function(){n.isAttached&&$.update(t)}}})),Yp(Gp,Wh,(function(e){$.tree(Wh,[{printWrapper:["printSlide"]}]);var t=$.getNamespace(Wh);return t.slide=t.printSlide,t.wrapper=t.printWrapper,{all:function(){},resize:function(){},pinchZoom:function(){}}})),Yp(Gp,Zh,(function(e){var t=$.tree(Zh,["overlay",{messageWindowWrapper:["messageWindowSlide"]}]),n=$.getNamespace(Zh);return n.slide=n.messageWindowSlide,n.wrapper=n.messageWindowWrapper,{all:function(){return $.update(t)},resize:function(){n.isAttached&&$.update(t)}}})),Yp(Gp,xp,(function(e){var t=$.tree(xp,["visibleOverlay",{shortcutWrapper:["shortcutSlide"]},"shortcutClose"]),n=$.getNamespace(xp);return n.slide=n.shortcutSlide,n.wrapper=n.shortcutWrapper,{all:function(){return $.update(t)},resize:function(){n.isAttached&&$.update(t,!0)}}})),Yp(Gp,Jp,$p),Yp(Gp,ny,ty),Yp(Gp,oy,iy),Gp),"html5/data/js/frame.js")}();
