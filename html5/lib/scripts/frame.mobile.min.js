/*! ds-bootstrap - v1.0.0.35301 - 2025-08-25 4:33pm UTC
* Copyright (c) 2025 ; Not Licensed */!function(){"use strict";var e=DS,t=(e.MicroScrollBar,e.detection,function(e){return null!=e&&2===e.split(".").length});function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function i(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function o(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,a=void 0,a=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t||"default");if("object"!==n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===n(a)?a:String(a)),r)}var o,a}var a=DS,l=a._,s=a.pubSub,c=a.events,u=a.constants,f=a.utils,d=a.translationStore,h=[],p=function(){function e(t,n,i){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.frame=t,this.frame.blocked=!1,this.preso=i,this.setupControlOptions(),this.layouts={},this.dockedStates={},this.dockSettings={dockedState:u.docked.NONE,width:0},this.setLayout(this.frame.default_layout,u.refs.FRAME),DS.flagManager.localizationPlatform&&!l.isEmpty(n)&&this.setLocalizationData(n,!0),this.resourceDescription=this.frame.resourceData.description;var o=i.getFirstSlide();for(var a in this.slideWidth=o.get("width"),this.slideHeight=o.get("height"),this.temp=[],this.frame.layouts)this.temp.push(a);this.rtl="rtl"===this.frame.textdirection,this.hasModernText=0!==this.frame.renderingEngineType,this.dir=this.dir.bind(this),l.bindAll(this,"onLayoutChanged"),s.on(c.controlLayout.CHANGED,this.onLayoutChanged),s.on(c.controlLayout.UPDATE,(function(e,t,n){r.frame.controlLayouts[e]=n,r.setLayout(e,t)})),s.on(c.controlOptions.CHANGED,(function(e){var t=r.optionChangesRequireMenuRefresh(r.frame.controlOptions.menuOptions,e.menuOptions);r.frame.controlOptions=e,r.setupControlOptions(),s.trigger(c.controlOptions.RESET),t&&s.trigger(c.navData.REFRESH_VIEW)})),s.on(c.frame.FONT_SCALE,(function(e){r.frame.fontscale=e,s.trigger(c.controlOptions.RESET)})),s.on(c.glossary.UPDATE,(function(e){r.frame.glossaryData=e,s.trigger(c.glossary.REFRESH_VIEW)})),s.on(c.navData.UPDATE,(function(e){r.frame.navData=e,s.trigger(c.navData.REFRESH_VIEW)})),s.on(c.resources.UPDATE,(function(e){r.frame.resourceData.resources=e,s.trigger(c.resources.REFRESH_VIEW)})),s.on(c.resources.UPDATE_DESCRIPTION,(function(e){r.frame.resourceData.description=e,s.trigger(c.resources.REFRESH_VIEW)})),s.on(c.layer.DIALOG_SHOWN,(function(e){var t=DS.windowManager.getCurrentWindow();s.trigger(c.frameModel.BLOCKED_CHANGED,t.frame.id,!0,e)})),s.on(c.layer.DIALOG_HIDDEN,(function(){var e=DS.windowManager.getCurrentWindow();s.trigger(c.frameModel.BLOCKED_CHANGED,e.frame.id,!1)})),s.on(c.localization.LANGUAGE_UPDATED,(function(){r.setLocalizationData(DS.localizationManager.getCurrentFrameData())})),s.on(c.localization.REVIEW_FRAME_UPDATED,(function(){r.updateReviewStrings()}))}var t,n,r;return t=e,n=[{key:"traverseMenu",value:function(e,t){var n=this;t.forEach((function(i){e(i),null!=i.links&&t.length>0&&n.traverseMenu(e,i.links)}))}},{key:"updateMenuStrings",value:function(){var e=f.getPath(this.frame,"navData.outline.links",[]);this.traverseMenu((function(e){e.displaytext=d.getUpdatedTextData("menuItem","".concat(e.translationId,"-Name"),e.displaytext)}),e)}},{key:"updateGlossaryStrings",value:function(){(this.frame.glossaryData||[]).forEach((function(e){var t=e.translationId;e.title=d.getUpdatedTextData("glossaryItem","".concat(t,"-Term"),e.title),e.content=d.getUpdatedTextData("glossaryItem","".concat(t,"-Definition"),e.content)}))}},{key:"updateResourcesStrings",value:function(){f.getPath(this.frame,"resourceData.resources",[]).forEach((function(e){var t=e.translationId;e.title=d.getUpdatedTextData("resourceItem","".concat(t,"-Title"),e.title)}))}},{key:"updateNoteStrings",value:function(){(this.frame.notesData||[]).forEach((function(e){var t=e.slideId,n=l.last(t.split(".")),i=d.getUpdatedTextData("slideNote","".concat(n,"-Note"));null!=i&&null!=DS.renderHtmlString&&(e.content=DS.renderHtmlString(i))}))}},{key:"updateReviewStrings",value:function(){this.updateMenuStrings(),this.updateGlossaryStrings(),this.updateResourcesStrings(),this.updateNoteStrings(),this.title.text=d.getUpdatedTextData("projectTitle","project-Title",this.title.text),this.notifyStringsUpdated()}},{key:"setLocalizationData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.frame.stringTables=e.stringTables,this.frame.navData=e.navData,this.frame.resourceData=e.resourceData,this.frame.glossaryData=e.glossaryData,this.frame.notesData=e.notesData,this.frame.controlStrings=e.controlStrings.reduce((function(e,t){var n=t.id,i=t.value;return e[n]=i,e}),{}),this.title.text=this.frame.controlStrings.title,this.logo.altText=this.frame.controlStrings.logoAltText,this.frame.textdirection=e.textdirection,this.rtl="rtl"===this.frame.textdirection,"bylanguage"===this.initialSidebarPos&&(this.sidebarOpts.sidebarPos=this.getSidebarPos()),t||this.notifyStringsUpdated()}},{key:"notifyStringsUpdated",value:function(){s.trigger(c.strings.UPDATE_STRINGS),s.trigger(c.navData.REFRESH_VIEW),s.trigger(c.glossary.REFRESH_VIEW),s.trigger(c.resources.REFRESH_VIEW),s.trigger(c.transcript.REFRESH_VIEW),s.trigger(c.frame.REFLOW),s.trigger(c.frame.LOCALIZATION_UPDATED)}},{key:"getSidebarPos",value:function(){return"bylanguage"===this.initialSidebarPos?DS.localizationManager.getCurrentLangIsRTL()?"right":"left":this.initialSidebarPos}},{key:"setupControlOptions",value:function(){var e=this.frame.controlOptions.sidebarOptions;this.initialSidebarPos=e.sidebarPos,e.sidebarPos=this.getSidebarPos(),this.sidebarOpts=e,this.bottomBarOpts=this.frame.controlOptions.bottomBarOptions,this.topTabs=e.tabs.linkRight||[],this.topTabsLeft=e.tabs.linkLeft||[],this.topTabsRight=e.tabs.linkRight||[],this.sidebarTabs=e.tabs.sidebar||[],this.outlineInSidebar=this.sidebarTabs.some((function(e){return"outline"===e.name})),this.buttonOptions=this.frame.controlOptions.buttonoptions,this.title={enabled:e.titleEnabled,text:e.titleText},this.logo={enabled:e.logoEnabled,altText:e.logoAltText,altTextEnabled:e.logoAltTextEnabled}}},{key:"optionChangesRequireMenuRefresh",value:function(e,t){return e.wrapListItems!==t.wrapListItems||e.autonumber!==t.autonumber}},{key:"onLayoutChanged",value:function(e,t){this.setLayout(e,t)}},{key:"hasTopLinks",value:function(){return 0!==this.topTabsLeft.length||0!==this.topTabsRight.length}},{key:"getControlString",value:function(e){return d.getUpdatedTextData("frameLink","".concat(e,"-Link"),f.getPath(this.frame,"controlStrings.".concat(e),null))}},{key:"getString",value:function(e,t){var n=this.currLayout.string_table,i=this.frame.stringTables[n].string[e];return null==i?(h.includes(e)||(h.push(e),console.warn("could not find ".concat(e," in string table ").concat(n))),null!=t?t:e.replace("acc_","").replace(/_/g," ")):i}},{key:"setDocked",value:function(e,t,n){t===u.docked.NONE?(this.dockedStates[e]=null,delete this.dockedStates[e]):this.dockedStates[e]={dockedState:t,width:n};var i=Object.keys(this.dockedStates);0===i.length?this.dockSettings={dockedState:u.docked.NONE,width:0}:t!==u.docked.NONE?this.dockSettings={dockedState:t,width:n}:this.dockSettings=this.dockedStates[i[0]]}},{key:"getDockedWidth",value:function(){var e=this.dockSettings,t=e.dockedState,n=e.width;return t!==DS.constants.docked.NONE?n:0}},{key:"setLayout",value:function(e,t){this.currLayout=this.frame.layouts[e],this.currControlLayout=this.frame.controlLayouts[e],this.layouts[t]=this.currControlLayout,this.topbarHasTabs=function(e,t){return e.some((function(e){var n=t[e.name];return null==n||"outline"===e.name&&n.enabled||!0===n}))}([].concat(i(this.topTabsRight),i(this.topTabsLeft)),e),s.trigger(c.frameModel.LAYOUT_CHANGED,this.currControlLayout,t)}},{key:"getWndControlLayout",value:function(e){return this.layouts[e]||this.currControlLayout}},{key:"dir",value:function(e){if(null!=e)return this.rtl?e.reverse():e}}],n&&o(t.prototype,n),r&&o(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),y=p;function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function v(e,t,n){return(t=S(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,a,l=[],s=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(i=o.call(n)).done)&&(l.push(i.value),l.length!==t);s=!0);}catch(e){c=!0,r=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw r}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function w(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,S(i.key),i)}}function S(e){var t=function(e,t){if("object"!==b(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==b(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===b(t)?t:String(t)}var k,O=DS,C=O._,E=O.scaler,L=O.detection,T=O.detection.orientation,x=O.utils,P=x.getPath,I=x.scaleVal,j=x.pxify,D=O.dom,A=D.addClass,R=D.removeClass,B=O.constants.refs.FRAME,M=document.getElementById(DS.constants.els.PRESO),H={x:"w",xl:"w",xp:"w",y:"h",yl:"h",yp:"h",wl:"w",wp:"w",hl:"h",hp:"h"},N=["wrapper","lightBoxWrapper"],F=function(e){null!=e.beforeUpdateHook&&e.beforeUpdateHook()},V=function(e,t,n){F(e),n=e.w>0?n:0,e.y=e.top=0,e.x=e.left=t.l+n,e.update(!0),t.l=e.x+e.w},U=function(e,t,n){F(e),n=e.w>0?n:0,e.y=e.top=0,e.x=e.left=t.r-e.w-n,e.update(!0),t.r=e.x},W=function(e,t,n){F(e),n=e.h>0?n:0,e.x=e.left=0,e.y=e.top=t.t+n,e.update(!0),t.t=e.y+e.h},z=function(e,t,n){F(e),n=e.h>0?n:0,e.x=e.left=0,e.y=e.top=t.b-e.h-n,e.update(!0),t.b=e.y},Z={l:V,r:U,t:W,b:z},K=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ViewLogic=t,this.params=n,this.nameKey=null!=n&&n.nameKey||t.nameKey,this.enabled=!0}var t,n,i;return t=e,n=[{key:"init",value:function(e){if(this.hasInited)console.warn("has already initialized",this);else{var t;this.hasInited=!0;var n=this.ViewLogic,i=this.params;null==i&&null!=n?i=n:null!=n&&(t=!0),C.isFunction(i)&&(i=i(this.nameSpace||e)),i.w=i.w||i.minW||100,i.h=i.h||i.minH||100,this.orientationProps(i,"x","y","w","h","scale"),(i=Object.assign({position:"absolute",x:0,y:0,minW:0,maxW:Number.MAX_SAFE_INTEGER,minH:0,maxH:Number.MAX_SAFE_INTEGER,wPad:0,scale:1,visibility:"reflow",visual:!0,bgColor:null,overflow:"hidden",origin:"center center",z:null,opacity:null,visible:!0,attrs:{},noContent:!0,calcTextSize:!1},i)).calcTextSize&&(i.noContent=!1),this.noContent=i.noContent,this.lastWidthByText=0,this.lastHeightByText=0,this.padLeft=i.padLeft||0,this.padRight=i.padRight||0,this.childDef=i.childDef,this.childViews=i.childViews,this.updateHook=i.updateHook,this.onCaptionChanged=i.onCaptionChanged,i.childViews=null,i.updateHook=null,i.childDef=null,i.nameKey=null,i.onCaptionChanged=null,Object.assign(this,i.methods),i.methods=null,this.createDynamicGetters(i),i.visual&&(this.el=document.createElement(i.tag||"div"),this.initAttributes(i.attrs),this.initStyles(i),"button"===i.tag&&(this.el.style.cursor="pointer"),this.initContent(i),i.add&&M.appendChild(this.el),this.hasInitialized=!0),this.initVisibility(i),this.initChildRefs(),t&&(this.viewLogic=new n(this))}}},{key:"orientationProp",value:function(e,t){var n="".concat(t,"l"),i="".concat(t,"p");null!=e[n]&&null!=e[i]&&(e[t]=function(){return T.isLandscape?this[n]:this[i]})}},{key:"orientationProps",value:function(e){for(var t=this,n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];i.forEach((function(n){return t.orientationProp(e,n)}))}},{key:"initContent",value:function(e){if(this.noContent){var t=this.html;null!=t&&(this.el.innerHTML=t)}else this.content=document.createElement("div"),this.content.setAttribute("class","view-content"),this.content.setAttribute("tabindex",-1),Object.assign(this.content.style,{position:"relative","text-align":"center",top:0}),Object.assign(this.content.style,e.contentStyle||{}),this.initAttributes(e.contentAttrs,this.content),null!=e.html&&(this.content.innerHTML=this.html),this.el.appendChild(this.content)}},{key:"initAttributes",value:function(e,t){for(var n in e)if(null!=e[n]){var i=e[n];"id"===n?i=C.kebabCase(i):"tabindex"===n&&-1!==i&&this.el.setAttribute("data-".concat(n),i),(t||this.el).setAttribute(n,i)}}},{key:"initStyles",value:function(e){if(Object.assign(this.el.style,{position:e.position,left:0,top:0,backgroundColor:e.bgColor,border:e.border,overflow:e.overflow,transformOrigin:e.origin,opacity:e.opacity,zIndex:e.z}),null!=P(e,"style.display")){var t=e.style.display;"boolean"==typeof t&&(e.style.display=t?"block":"none")}Object.assign(this.el.style,e.style)}},{key:"initVisibility",value:function(e){!1===e.visible&&this.setVisibility(!1)}},{key:"initChildRefs",value:function(){this.children=[],this.childList=[];for(var e=this.el.querySelectorAll("[data-ref]"),t=0;t<e.length;t++)this.children[e[t].dataset.ref]={el:e[t]}}},{key:"updateStrings",value:function(){null!=this.ariaStringId&&this.el.setAttribute("aria-label",X.model.getString(this.ariaStringId)),null!=this.updateDomStrings&&(this.updateDomStrings(),this.calcTextSize&&(this.doTextCalcs(),this.update()))}},{key:"updateHtml",value:function(){var e=this.html;null!=e&&(this.noContent?this.el.innerHTML=e:this.content.innerHTML=e)}},{key:"createDynamicGetters",value:function(t){for(var n in t)"id"!==n&&null!=t[n]&&e.prop(this,n,t[n])}},{key:"updateSize",value:function(){"button"===this.tag?(this.el.style.width=j(I(Math.max(this.w,24))),this.el.style.height=j(I(Math.max(this.h,24)))):(this.el.style.width=j(I(this.w)),this.el.style.height=j(I(this.h)))}},{key:"updateTrans",value:function(){var e=N.includes(this.nameKey)?C.identity:I,t=["translate(".concat(j(e(this.x)),", ").concat(j(e(this.y)),")")];if(this.xs)for(var n=0;n<this.xs.length;n++)t.push("translateX(".concat(j(e(this.xs[n])),")"));if(this.ys)for(var i=0;i<this.ys.length;i++)t.push("translateY(".concat(j(e(this.ys[i])),")"));L.deviceView.isMobile&&null!=this.scale&&t.push("scale(".concat(this.scale,")")),this.el.style.transform=t.join(" ")}},{key:"getMinChildWidthInfo",value:function(){return null==this.children?0:this.children.reduce((function(e,t){return t.visible?(e.count++,e.minWidth+=t.minW,e):e}),{count:0,minWidth:0})}},{key:"calcChildrensWidth",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return!0},t=0;return null!=this.children&&this.children.forEach((function(n){e(n)&&(n.update(),t+=n.w)})),t}},{key:"calcChildrensHeight",value:function(){var e=0;return null!=this.children&&this.children.forEach((function(t){t.update(),e+=t.h})),e}},{key:"positionChildren",value:function(e){var t=e.vertical,n=e.toTop,i=e.toLeft,r=e.pad,o=e.startPos,a=e.reverse,l=void 0!==a&&a,s=e.hook,c=void 0===s?C.noop:s,u=e.rtl,f=void 0!==u&&u,d=e.sizeToChildren,h=e.alignChild,p=t?n?z:W:i?U:V,y=Object.assign({l:o,r:o,t:o,b:o},e.bounds),b=l!==f?this.children.slice().reverse():this.children,v=m(t?["height","t"]:["width","l"],2),g=v[0],w=v[1],S=T.isLandscape?C.first:C.last;b.forEach((function(e){(e.beforeReflowHook||C.noop)();var t=h&&S(e.parentAlign);!e.visible&&"reflow"===e.visibility||"-"===t||(t?Z[t](e,y,r):p(e,y,r),c(e))})),d&&(this[g]=y[w])}},{key:"flowChildren",value:function(e){(e=Object.assign({pad:0,sizeToChildren:!1,startPos:0,toLeft:!1,reverse:!1,fullUpdate:!1,rtl:!1,hook:function(){}},e)).fullUpdate?this.hasAllChildren()&&(this.positionChildren(e),this.updateSize()):this.positionChildren(e)}},{key:"isBlocked",value:function(){if(L.theme.isClassic)return!1;var e=X.getTopNameSpace(),t=X.getCurrentNameSpace(),n=X.getBlocker(t.name);return null!=e&&null!=n&&n.visible}},{key:"setEnabled",value:function(e,t){this.enabled!=e&&(this.enabled=e,e?R(this.el,"cs-disabled"):A(this.el,"cs-disabled"),this.el.setAttribute("aria-disabled",!e));var n=this.el.getAttribute("data-tabindex");null!=n&&this.el.setAttribute("tabindex",t&&!e||this.isBlocked()?-1:n)}},{key:"setVisibility",value:function(e,t){var n=this.visible!==e,i=!1;return"no-reflow"===this.visibility?(this.el.style.visibility=e?"visible":"hidden",this.el.style.pointerEvents=e?"":"none"):"reflow"===this.visibility&&(this.el.style.display=e?"block":"none",i=!0),t&&(this.layoutDefaultVisible=e),this.visible=e,n&&P(this,"viewLogic.didChangeVisibility")&&this.viewLogic.didChangeVisibility(e),i}},{key:"ariaVisibleWithChildren",value:function(){this.el.setAttribute("aria-hidden",!this.children.some((function(e){return e.visible})))}},{key:"childVisibilityChanged",value:function(){null!=this.childVisibilityChangedHook?this.childVisibilityChangedHook():null!=this.parent&&this.parent.childVisibilityChanged()}},{key:"update",value:function(e){null==this.beforeUpdateHook||e||this.beforeUpdateHook(),this.updateSize(),this.updateTrans(),null!=this.updateHook&&this.updateHook()}},{key:"updateChildren",value:function(e){this.children.forEach((function(t){t.update(),e&&t.updateChildren(e)}))}},{key:"doTextCalcs",value:function(){var e=1/E.getScale(),t=this.content.style.width,n=this.el.style.display;DS.flagManager.localizationPlatform&&(this.el.style.display="block",this.content.style.width="fit-content");var i=this.content.clientWidth*e,r=this.content.clientHeight*e;DS.flagManager.localizationPlatform&&(this.content.style.width=t,this.el.style.display=n),this.lastWidthByText=i+4+this.padLeft+this.padRight,this.lastHeightByText=r+4}},{key:"wasAppended",value:function(){var e=this;this.calcTextSize&&this.doTextCalcs(),null!=this.childViews&&this.childViews.forEach((function(t){"string"==typeof t&&(t=X.getOrCreateView(t)),t.init(e.nameSpace),e.append(t)}))}},{key:"setChildNum",value:function(e){this.defaultChildNum=e}},{key:"hasAllChildren",value:function(){return this.hasInitialized&&this.children.length===this.defaultChildNum}},{key:"append",value:function(e,t){if(e.parent=this,this.children[C.camelCase(e.nameKey)]=e,t?this.children.unshift(e):this.children.push(e),this.noContent||e.outsideContent?this.el.appendChild(e.el):this.content.appendChild(e.el),e.wasAppended(),e.update(),null==e.nameSpace){for(var n=this;null!=n&&null==n.nameSpace;)n=n.parent;e.nameSpace=n.nameSpace,X.hasNamespace(n.nameSpace)?X.getNamespace(n.nameSpace)[e.nameKey]=e:console.warn("could not find namespace ".concat(n.nameSpace," when appending"))}}},{key:"destroy",value:function(){var e,t;null!=this.children&&this.children.forEach((function(e){return e.destroy()})),null==this||null===(e=this.viewLogic)||void 0===e||null===(t=e.teardown)||void 0===t||t.call(e),null!=this.el.parentNode&&this.el.parentNode.removeChild(this.el),this.nameSpace=null}},{key:"startFloat",value:function(){this.floating=!0,this.lastFloatParent=this.el.parentNode,this.shouldReparent&&X.getNamespace(this.nameSpace).wrapper.el.appendChild(this.el)}},{key:"endFloat",value:function(){this.floating&&(this.floating=!1,this.shouldReparent&&this.lastFloatParent.appendChild(this.el))}},{key:"right",value:function(){return this.floating?0:this.x+this.w}},{key:"bottom",value:function(){return this.floating?0:this.y+this.h}},{key:"getBox",value:function(){if(null==X.getNamespace(this.nameSpace).wrapper)return null;var e=L.theme.isClassic&&X.getNamespace(this.nameSpace).wrapper.dimScale||1,t=(X.getNamespace(this.nameSpace).wrapper.scale||1)*e,n=this.x,i=this.y,r=this.w,o=this.h,a=this.offsets,l=(a=void 0===a?{}:a).l,s=void 0===l?0:l,c=a.t,u=this;for(n=(n+s)*t,i=(i+(void 0===c?0:c))*t;u=u.parent;){var f=null!=u.parent?t:1,d=u.offsets,h=(d=void 0===d?{}:d).l,p=void 0===h?0:h,y=d.t,b=void 0===y?0:y;n+=(u.x+p)*f,i+=(u.y+b)*f}return{x:n,y:i,w:r*=t,h:o*=t}}}],n&&w(t.prototype,n),i&&w(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();K.propFns={"fit-to-text-w":function(){return Math.max(this.minW,this.lastWidthByText)+this.wPad},"fit-to-text-h":function(){return Math.max(this.minH,this.lastHeightByText)},"vertical-center":function(){return this.parent.h/2-this.h/2},"horizontal-center":function(){return this.parent.w/2-this.w/2}},K.prop=function(e,t,n){if("number"==typeof n)e[t]=n;else if("string"==typeof n&&null!=K.propFns[n])Object.defineProperties(e,v({},t,{get:K.propFns[n],set:C.noop}));else if("string"==typeof n&&n.endsWith("%")){var i=parseFloat(n)/100,r=null!=H[t]?H[t]:t;Object.defineProperties(e,v({},t,{get:function(){return this.parent[r]?e.parent[r]*i:0},set:C.noop}))}else if(C.isFunction(n)){var o;if("w"===t||"h"===t){var a=n.bind(e),l=t.toUpperCase(),s=e["min".concat(l)],c=e["max".concat(l)];o=function(){var e=a();return e<s?e=s:e>c&&(e=c),e}.bind(e)}else o=n;Object.defineProperties(e,v({},t,{get:o,set:C.noop}))}else e[t]=n;e[t]=n};var G={},Q={},q={},Y=function(e){var t,n,i=b(e);return"string"===i?t=e:"object"===i?n=e[t=Object.keys(e)[0]]:console.warn("invalid view definition. ".concat(e," is a ").concat(b(e))),{viewName:t,children:n}},X={nameSpaces:{},nsStack:[],iconTextEl:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return DS.detection.deviceView.isMobile?"":'<div class="frame-icon-text"\n      style="'.concat(t,'">').concat(X.model.getString(e),"</div>")},getNamespace:function(e){return this.nameSpaces[e]},hasNamespace:function(e){return null!=this.nameSpaces[e]},setModel:function(e){return this.model=e,this},resetStates:function(e){var t=this.getNamespace(e);C.forEach(t,(function(e){return e&&e.setEnabled&&e.setEnabled(!0)}))},updateVisibility:function(e,t){var n=!1;for(var i in e){var r=this.nameSpaces[t][i];if(null!=r)r.setVisibility(e[i],!0)&&(n=!0)}return n},def:function(e,t,n){null==n?t.nameKey=e:n.nameKey=e;var i=new K(t,n);return null==G[e]?(G[e]=i,Q[e]={ViewLogic:t,p:n},q[e]=0):console.warn("views connot share the same name ".concat(e)),i},addNameSpace:function(e){k=e,this.nameSpaces[k]=this.nameSpaces[k]||{name:e,topLevelElements:[],isAttached:!0,tabReachable:!0,detach:function(){this.isAttached=!1,this.topLevelElements.forEach((function(e){return M.removeChild(e.el)}))},reattach:function(){this.isAttached=!0,this.topLevelElements.forEach((function(e){return M.appendChild(e.el)}))},updateTabIndex:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=function(t){if(!t.dataset.leavealone){var n=t.getAttribute("data-tabindex");null==n&&(n=t.tabIndex,t.setAttribute("data-tabindex",n)),t.tabIndex=e.tabReachable?n:-1}};this.topLevelElements.forEach((function(i){var r=function(e,t){t?e.el.removeAttribute("aria-hidden"):e.el.setAttribute("aria-hidden",!0)};t&&(i.children.some((function(e){return"startoverlay"===e.nameKey}))?i.children.filter((function(e){return"startoverlay"!==e.nameKey})).forEach((function(t){return r(t,e.tabReachable)})):r(i,e.tabReachable)),i.el.querySelectorAll("[tabIndex]:not(.acc-shadow-el):not(.slide-object)").forEach((function(e){return n(e)})),"lightBoxClose"===i.nameKey&&n(i.el)}))}}},update:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){e.forEach((function(e){C.isFunction(e)?e():Array.isArray(e)?update(e,t):null==e||!e.update||e.noUpdate&&!t||(e.update(),t&&e.updateHtml())}))})),getViewConfig:function(e){var t=Q[e];return{name:e,ViewLogic:t.ViewLogic,p:t.p}},getOrCreateView:function(e){if(++q[e]>1){var t=Q[e],n=t.ViewLogic,i=t.p;return new K(n,i)}return G[e]},tree:function(e,t){for(var n=this,i=[],r=function t(i){if(null!==i){var r=Y(i),o=r.viewName,a=r.children,l=n.nameSpaces[e][o]=n.getOrCreateView(o);if(null!=l){if(l.nameSpace=e,P(a,"length")>0){l.setChildNum(a.length),l.hasChildren=!0;for(var s=0;s<a.length;s++)t(a[s])}}else console.warn("could not find view '".concat(o,"'"))}},o=function t(r,o){if(null!==r){var a=Y(r),l=a.viewName,s=a.children,c=n.nameSpaces[e][l];if(null!=c){if(c.init(e),null!=o?o.append(c):n.nameSpaces[e].topLevelElements.push(c),null!=c.childDef&&c.childDef(),i.push(c),c.hasChildren)for(var u=0;u<s.length;u++)t(s[u],c)}else console.warn("could not find view '".concat(l,"'"))}},a=0;a<t.length;a++)r(t[a]);for(var l=0;l<t.length;l++)o(t[l]);return i},getCurrentNameSpace:function(){return this.nameSpaces[k]},getTopNameSpace:function(){return C.last(this.nsStack)},getCurrentNameSpaceString:function(){return k},getFrameNameSpace:function(){return this.nameSpaces[B]},getBlocker:function(e){switch(e){case DS.constants.refs.FRAME:return X.getNamespace(e).frameBlocker;case"LightboxWnd":return X.getNamespace(e).lightBoxBlocker;case"LightboxControlsWnd":return X.getNamespace(e).lightBoxControlsBlocker;default:return null}}};function $(e){return function(e){if(Array.isArray(e))return e}(e)||te(e)||ee(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(e){return function(e){if(Array.isArray(e))return ne(e)}(e)||te(e)||ee(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ee(e,t){if(e){if("string"==typeof e)return ne(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ne(e,t):void 0}}function te(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var ie,re=DS,oe=re._,ae=re.pubSub,le=re.events,se={},ce=!1,ue={},fe={},de=function(e){try{var t=J(document.styleSheets).find(e);ie=J(t.rules)}catch(e){}};if(de((function(e){return null!=e.href&&e.href.includes("output.min.css")})),ae.on(le.scheme.CHANGED,(function(e){de((function(t){return null!=t.ownerNode&&t.ownerNode.id===e})),ue={},se.initializeCssColorVars()})),null!=ie){var he=function(e,t){var n,i;if(ce){n="".concat(t,".cs-").concat(X.model.frame.default_layout);var r=e.split(" ");i=(r=r.map((function(e){return(e.startsWith(".")?".":"")+oe.compact(e.split(".")).reverse().join(".")}))).join(" ")}else{X.model;n=".cs-".concat(X.model.frame.default_layout).concat(t),i=e}return"".concat(n," ").concat(i)};se.getColor=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=he(t,i);if(null==ue[r]){var o=ie.find((function(e){return e.selectorText===r}));null==o&&(ce=!ce,r=he(t,i),o=ie.find((function(e){return e.selectorText===r}))||{}),ue[r]=o.style||{}}return ue[r][n]||""}}else{se.usePolyfill=!0;var pe=function(e,t){var n=document.createElement(e);return n.setAttribute("class",t),n},ye=/^\./,be=/\./g;se.getColor=function(e,t,n){var i,r,o=(arguments.length>4&&void 0!==arguments[4]&&arguments[4]||t).split(/\s+/),a=X.getNamespace(e).wrapper.el;o.forEach((function(e,t){if(ye.test(e))s=e.replace(be," "),i=pe("div",s);else{var n=$(e.split(".")),o=n[0],l=n.slice(1);i=pe(o,l.join(" "))}var s;0===t&&(i.style.position="absolute",i.style.display="none",r=i),a.appendChild(i),a=i}));var l=window.getComputedStyle(i).getPropertyValue(n);return""===l&&"border-color"===n&&(l=window.getComputedStyle(i).getPropertyValue("border-top-color")),r.parentNode.removeChild(r),l||""}}se.initializeCssColorVars=function(){fe={},se.createCssColorVar("--color-messagebox-title-separator",".message-window-header p","border-bottom-color"),se.createCssColorVar("--color-messagebox-button-border",".message-window button.slide-object-button","border-color"),se.createCssColorVar("--color-messagebox-button-hover",".message-window button.slide-object-button:hover","background-color","",".resources .resources-list a.button-tapped")},se.createCssColorVar=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!fe[e]){var o="";if(se.usePolyfill){var a=Object.keys(X.nameSpaces);if(0===a.length)return void requestAnimationFrame((function(){se.createCssColorVar(e,t,n,i,r)}));o=a[0]}var l=se.getColor(o,t,n,i,r);if(!oe.isEmpty(l)&&e)fe[e]=!0,document.getElementById("preso").style.setProperty(e,l)}};var ve=se;function me(e){return me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},me(e)}function ge(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,we(i.key),i)}}function we(e){var t=function(e,t){if("object"!==me(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==me(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===me(t)?t:String(t)}var Se=DS,ke=Se.detection,Oe=Se.pubSub,Ce=Se.events,Ee=327,Le=new(function(){function e(){var t,n,i,r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t=this,i=function(){r.scale=Math.min(window.innerWidth/r.ratioW,window.innerHeight/r.ratioH),r.scale>1&&r.preventUpscale&&(r.scale=1),r.scaledRatioH=r.ratioH*r.scale,r.scaledRatioW=r.ratioW*r.scale},(n=we(n="onResize"))in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,this.scale=1,this.ratioW=720,this.ratioH=540,this.isMobileChrome=ke.os.isIOS&&ke.browser.isChrome,ke.deviceView.isMobile?this.isScaled=!0:this.setScaleMode(),DS.flagManager.playerSizeOption&&this.isLockedFit&&(window.addEventListener("resize",this.onResize),this.onResize()),Oe.on("frame:modelReady",(function(){var e,t,n,i,o=!X.model.frame.chromeless&&!ke.env.hideFrame;r.ratioW=null==X||null===(e=X.model)||void 0===e?void 0:e.slideWidth,r.ratioH=null==X||null===(t=X.model)||void 0===t?void 0:t.slideHeight,r.preventUpscale=null==X||null===(n=X.model)||void 0===n||null===(i=n.frame)||void 0===i?void 0:i.preventUpscale,!X.model.sidebarOpts.closed&&X.model.sidebarOpts.sidebarEnabled||(Ee=0),o&&(r.ratioW+=Ee,r.ratioH+=130),r.onResize()})),this.setupFullScreen()}var t,n,i;return t=e,(n=[{key:"setupFullScreen",value:function(){var e=this;document.addEventListener("fullscreenchange",(function(){var t,n=null!=document.fullscreenElement,i="preso"===(null===(t=document.fullscreenElement)||void 0===t?void 0:t.id);n&&!i?e.forcePlayerScaled():e.playerScaleIsForced&&e.setScaleMode(),Oe.trigger(Ce.frameWindow.FULLSCREEN,{preso:n&&i})}))}},{key:"setScaleMode",value:function(){this.isLockedFit="LockedFit"===window.globals.scale,this.isLocked="Locked"===window.globals.scale,this.isScaled="Scaled"===window.globals.scale,Oe.trigger(Ce.frame.REFLOW),Oe.trigger(Ce.frame.SCALE)}},{key:"forcePlayerScaled",value:function(){this.isLockedFit=this.isLocked=!1,this.isScaled=!0,this.playerScaleIsForced=!0}},{key:"shouldUseCache",value:function(){return this.isMobileChrome&&document.activeElement.classList.contains("acc-textinput")}},{key:"innerWidth",get:function(){return this.isLockedOption?this.isLocked?this.ratioW:this.scaledRatioW:window.innerWidth}},{key:"innerHeight",get:function(){return this.isLockedOption?this.isLocked?this.ratioH:this.scaledRatioH:window.innerHeight}},{key:"minHeight",get:function(){return Math.min(this.innerHeight,window.innerHeight)}},{key:"minWidth",get:function(){return Math.min(this.minWidth,window.innerWidth)}},{key:"x",get:function(){return this.isLockedOption?Math.max(0,(window.innerWidth-this.innerWidth)/2):0}},{key:"y",get:function(){return this.isLockedOption?Math.max(0,(window.innerHeight-this.innerHeight)/2):0}},{key:"height",get:function(){return this.shouldUseCache()?(this.cachedOuterHeight!==this.outerHeight&&(this.cachedHeight=this.outerHeight-(this.cachedOuterHeight-this.cachedHeight),this.cachedOuterHeight=this.outerHeight),this.cachedHeight):(this.cachedOuterHeight=this.outerHeight,this.cachedHeight=this.innerHeight,this.innerHeight)}},{key:"width",get:function(){return this.innerWidth}},{key:"isLockedOption",get:function(){return DS.flagManager.playerSizeOption&&(this.isLockedFit||this.isLocked)}}])&&ge(t.prototype,n),i&&ge(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}());DS.frameWindow=Le;var Te=Le;function xe(e){return xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xe(e)}function Pe(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==xe(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==xe(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===xe(o)?o:String(o)),i)}var r,o}var Ie,_e,je,De,Ae,Re=DS,Be=Re.dom,Me=Re._,He=Re.detection,Ne=Re.pubSub,Fe=Re.events,Ve=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Me.bindAll(this,"onLoaderShow","onLoaderMute","onLoaderUnmute","onLoaderHide","onRemoveLoaderTitle");var t={};t[Fe.loader.SHOW]=this.onLoaderShow,t[Fe.loader.MUTE]=this.onLoaderMute,t[Fe.loader.UNMUTE]=this.onLoaderUnmute,t[Fe.loader.HIDE]=this.onLoaderHide,t[Fe.loader.REMOVE_TITLE]=this.onRemoveLoaderTitle,t[Fe.startOverlay.READY]=this.onLoaderHide,Be.addClass(document.body,"theme-".concat(window.globals.themeName)),document.body.classList.contains("view-tablet")&&Be.addClass(document.body,"is-touchable-tablet"),He.env.is360&&!Te.isLockedOption&&Be.addClass(document.body,"is-360"),Ne.on(t),this.setupBrandingColor()}var t,n,i;return t=e,(n=[{key:"setupBrandingColor",value:function(){window.requestAnimationFrame((function(){var e=ve.getColor(DS.constants.refs.FRAME,".cs-brandhighlight-bg","background-color",".cs-base.cs-custom-theme");null!=e&&(DS.constants.theme.brandingHighlight=e,Ne.trigger(Fe.app.BRANDING_COLOR,e))}))}},{key:"onRemoveLoaderTitle",value:function(){var e=document.querySelector("body > .mobile-load-title-overlay");null!=e&&e.parentNode.removeChild(e)}},{key:"getSpinLoader",value:function(){return document.querySelector("body > .slide-loader")}},{key:"onLoaderMute",value:function(){var e=this.getSpinLoader();null!=e&&(e.style.opacity=0)}},{key:"showLoaderDelayed",value:function(e){clearTimeout(this.loaderTimeout),this.loaderTimeout=setTimeout(this.onLoaderShow,e)}},{key:"onLoaderHide",value:function(){clearTimeout(this.loaderTimeout),this.getSpinLoader().style.display="none",Be.addClass(document.getElementById("preso"),"hide-slide-loader"),Ne.trigger(Fe.app.HIDE_LOADER)}},{key:"onLoaderUnmute",value:function(){var e=this.getSpinLoader();null!=e&&(e.style.opacity=1)}},{key:"onLoaderShow",value:function(e){e>0?this.showLoaderDelayed(e):(this.getSpinLoader().style.display="block",Be.removeClass(document.getElementById("preso"),"hide-slide-loader"),Ne.trigger(Fe.app.SHOW_LOADER))}}])&&Pe(t.prototype,n),i&&Pe(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Ue=DS,We=Ue.globalEventHelper.addWindowListener,ze=Ue.events,Ze=ze.ds,Ke=Ze.FRAME_DATA_LOADED,Ge=Ze.PRESO_READY,Qe=ze.window.STACKING_CHANGED,qe=ze.frame,Ye=qe.MODEL_READY,Xe=qe.SCALE,$e=ze.resume.SET_DATA,Je=ze.startOverlay.READY,et=ze.controlOptions.RESET,tt=ze.sidebar.ACTIVE_TAB_SET,nt=ze.renderTree.DESTROYED,it=Ue.constants,rt=(it.els.PRESO,it.refs.FRAME),ot=Ue.detection.theme,at=Ue.pubSub,lt=Ue.focusManager,st=(Ue.flagManager,Ue.playerGlobals),ct=Ue.stringTabler,ut=Ue.shortcutManager,ft=Ue.dom,dt={},ht=function(e){var t=X.nsStack.indexOf(e);t>=0&&X.nsStack.splice(t,1)},pt=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];X.nsStack.forEach((function(t,n,i){t.tabReachable=n===i.length-1&&e,t.updateTabIndex()}))},yt=function(e){Ie={createWindow:function(t,n){var i,r,o,a,l,s=this,c=X.getNamespace(t),u=function(){return function(e){var t=X.getNamespace(e),n=t.isAttached;t.reattach(),ht(t),X.nsStack.push(t),n||dt[e].all();var i=X.nsStack.length;X.nsStack.forEach((function(e,t){var n=e.slide.el;t===i-1?(ft.addClass(n,"primary-slide"),ft.removeClass(n,"secondary-slide")):(ft.removeClass(n,"primary-slide"),ft.addClass(n,"secondary-slide"))})),pt(),at.trigger(Qe,e)}(t)},f=function(e,n,i){if(e===t){var r=i?i.getWndBlockerBackground():"",o=X.getBlocker(e);null!=o&&(o.setBackgroundColor(r),o.setVisibility(n)),c.tabReachable=!n,c.updateTabIndex(!1)}};(null==c&&(X.addNameSpace(t),r=e[t](_e),i=_.flow(We("resize",(function(){r.resize(),at.trigger(Xe)})),DS.pubSub.addListener(DS.events.utilityWindow.DOCKED,(function(){r.resize(),at.trigger(Xe)}))),t===rt?_e.setLayout(_e.frame.default_layout,rt):r.all(),c=X.getNamespace(t),dt[t]=r,c.moveToTop=u,ot.isUnified&&(at.on(DS.events.frameModel.BLOCKED_CHANGED,f),at.on(DS.events.window.MAIN_CHANGED,(function(e,t){return f(t,!1)})))),u(),at.on(et,(function e(){var t=function(){var e=[],t=X.getNamespace(rt).tabs.viewLogic.getSelectedTab();return t&&e.push(t.nameKey),_.each(X.getNamespace(rt).topTabs.children,(function(t){_.each(_.filter(t.children,"viewLogic.showing",!0),(function(t){return e.push(t.nameKey)}))})),e}();ht(X.getNamespace(rt)),r.destroy(),DS.pubSub.trigger(nt),X.nameSpaces[rt]=null,i(),at.off(et,e),s.createWindow("_frame"),r.rerender(),t.forEach((function(e){at.trigger(tt,e)}))})),null!=n)&&(null===(o=c.slide)||void 0===o||null===(a=o.viewLogic)||void 0===a||null===(l=a.setPromptId)||void 0===l||l.call(a,n));return{id:t,promptId:n,el:c.slide.el,wndEl:c.wrapper.el,captionEl:(c.captionContainer||{}).el,x:function(){return c.wrapper.x},y:function(){return c.wrapper.y},close:function(){c.zoomBounds=null,c.detach(),ht(c),X.nsStack[X.nsStack.length-1].moveToTop(),lt.reCenter()},moveToTop:u,getWinScale:function(){return c.slide.winScale||1},getPinchZoomBounds:function(){return c.slide.pinchZoomBounds},onPinchZoom:dt[t].pinchZoom?function(e){c.zoomBounds=e,dt[t].pinchZoom()}:function(){},onWndBlockedChanged:f}},getSidebarPosition:function(){return _e.sidebarOpts.sidebarPos},getDefaultLayout:function(){return je.default_layout},getFonts:function(){return je.fonts},getFontScale:function(){return _e.frame.fontscale},getCaptionData:function(){var e=_e.frame.controlOptions.controls,t={font:e.font,enabled:e.closed_captions},n=_e.frame.controlOptions.ccOptions||{};return t.font=n.font,t.size=n.size,t.placement=n.placement,t.backgroundColor=n.backgroundColor,t.color=n.color,t.text=n.text,t},getNavData:function(){return _e.frame.navData.outline.links},isReadOnlyOnce:function(){return je.controlOptions.controls.readonlyOnce},topmostUnreachable:function(){return X.nsStack},setAllAccVisibility:function(e){_.forEach(X.nameSpaces,(function(t){var n=t.wrapper;e?n.el.removeAttribute("aria-hidden"):n.el.setAttribute("aria-hidden",!0)}))}},at.on($e,pt),at.on(Je,(function(){pt(!1)})),st.player=Ie},bt=function(){Ie.hasData=!0,at.trigger(Ke,Ie)},vt="wrapper";X.def(vt,(function(){return{attrs:{id:vt,class:vt},x:0,y:0,w:function(){return Te.width},h:function(){return Te.height},add:!0}}));var mt,gt="-20px",wt="-30px";var St={setTooltipOn:function(e,t,n){var i,r,o=t.left,a=t.top,l=t.width,s=t.height;null==Ae&&(i=X.model,r=ve.getColor(DS.constants.refs.FRAME,".cs-button .cs-icon","fill"),(Ae=document.createElement("div")).id="tooltip",Ae.style.left=gt,Ae.style.top=wt,Ae.style.borderColor=r,Ae.classList.add("cs-base","cs-".concat(i.frame.default_layout)),document.getElementById("app-top").appendChild(Ae),Ae.addEventListener("mouseleave",St.runObjHoverOut)),mt=e,Ae.style.display="block",Ae.innerText=n;var c=Ae.getBoundingClientRect().width,u=window.innerWidth,f=o+(l/2-c/2);f+c>=u-10?f=u-10-c:f<=10&&(f=10);var d=a-(s+10);d<=10&&(d=a+s+10),Ae.style.left="".concat(f,"px"),Ae.style.top="".concat(d,"px")},hideTooltip:function(e){null==Ae||null!=e&&e!==mt||(Ae.style.display="none",Ae.innerText="",Ae.style.left=0,mt=void 0)},updateTooltip:function(e,t){var n=Ae.getBoundingClientRect().width;Ae.innerText=t,Ae.style.left="".concat(e-n/2,"px")},runObjHoverOut:function(){null!=mt?mt.onHoverOut():St.hideTooltip()}},kt=St;function Ot(e){return Ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ot(e)}function Ct(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==Ot(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Ot(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===Ot(o)?o:String(o)),i)}var r,o}var Et=DS,Lt=Et.dom,Tt=Et.pubSub,xt=Et.events,Pt=Et._,It=Et.constants,_t=Et.keyManager,jt=Et.focusManager,Dt=(Et.flagManager,Et.stringTabler),At=Et.detection,Rt="click",Bt=function(){return At.deviceView.isUnifiedDesktop},Mt=function(){function e(t){var n=this;for(var i in function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.el=t.el,this.view=t,this.model=t.model,t.children)this[i+"El"]=t.children[i].el;DS.flagManager.localizationPlatform?(t.simpleView||(DS._.bindAll(this,"onFocus","onBlur","onLayoutChange"),this.el.addEventListener("focusin",this.onFocus),this.el.addEventListener("focusout",this.onBlur),Tt.on(xt.frameModel.LAYOUT_CHANGED,this.onLayoutChange)),Tt.on(xt.strings.UPDATE_STRINGS,(function(){return n.onStringsUpdated()}))):(DS._.bindAll(this,"onFocus","onBlur","onLayoutChange"),this.el.addEventListener("focusin",this.onFocus),this.el.addEventListener("focusout",this.onBlur),Tt.on(xt.frameModel.LAYOUT_CHANGED,this.onLayoutChange)),Bt()&&(Pt.bindAll(this,"onHoverIn","onHoverOut","onMainKeydown"),document.body.addEventListener("mouseenter",this.onHoverOut),this.el.addEventListener("mouseenter",this.onHoverIn),this.el.addEventListener("mouseleave",this.onHoverOut),this.hasTooltip&&this.el.addEventListener("mouseup",this.onHoverOut),document.addEventListener("keydown",this.onMainKeydown))}var t,n,i;return t=e,(n=[{key:"onClick",value:function(e){this.el.addEventListener(Rt,e.bind(this))}},{key:"onClickEl",value:function(e,t){e.addEventListener(Rt,t.bind(this))}},{key:"on",value:function(e,t){this.el.addEventListener(e,t.bind(this))}},{key:"getViewBox",value:function(){return this.view.getBox()}},{key:"onFocus",value:function(e){var t=this.getViewBox(),n=t.x,i=t.y,r=t.w,o=t.h;DS.flagManager.playerSizeOption&&DS.detection.deviceView.isDesktop&&(n-=window.scrollX,i-=window.scrollY),jt.setFocusRectOn(this.el,{left:n,top:i,width:r,height:o}),this.onHoverIn(e),this.hasFocus=!0}},{key:"onBlur",value:function(e){jt.takeFocusOff(),this.onHoverOut(e),this.hasFocus=!1}},{key:"getTooltipString",value:function(){return Dt.getString(this.tooltipKey)}},{key:"onHoverIn",value:function(e){var t=this;if(Bt()&&this.hasTooltip&&(null==this.hideTooltipWhenOpen||!this.isOpen)){var n=this.getTooltipString(e);if(null==n&&"seek"===this.view.nameKey)return void setTimeout((function(){return t.onHoverIn(e)}),200);kt.hideTooltip();var i=this.getViewBox(e),r=i.x,o=i.y,a=i.w,l=i.h;DS.flagManager.playerSizeOption&&DS.detection.deviceView.isDesktop&&(r-=window.scrollX,o-=window.scrollY),kt.setTooltipOn(this,{left:r,top:o,width:a,height:l},n),this.tooltipMoves&&this.setForFollowMouse(),this.tooltipOn=!0}}},{key:"dismissTooltip",value:function(){kt.hideTooltip(this),this.tooltipMoves&&this.stopFollowMouse(),this.tooltipOn=!1}},{key:"onHoverOut",value:function(){var e=this;Bt()&&this.hasTooltip&&this.tooltipOn&&setTimeout((function(){var t=document.elementFromPoint(Lt.mouseX,Lt.mouseY);null!=t&&(e.el.contains(t)||"tooltip"===t.id||e.dismissTooltip())}),200)}},{key:"onMainKeydown",value:function(e){_t.isKey(e.which,It.keys.ESCAPE)&&(e.stopPropagation(),this.dismissTooltip())}},{key:"teardown",value:function(){Tt.off(xt.frameModel.LAYOUT_CHANGED,this.onLayoutChange),At.deviceView.isUnifiedDesktop&&(document.body.removeEventListener("mouseenter",this.onHoverOut),this.el.removeEventListener("mouseenter",this.onHoverIn),this.el.removeEventListener("mouseleave",this.onHoverOut),this.el.removeEventListener("mousedown",this.dismissTooltip),document.removeEventListener("keydown",this.onMainKeydown),this.tooltipOn&&(this.onHoverOut(),this.tooltipMoves&&this.stopFollowMouse()))}},{key:"onLayoutChange",value:function(){}},{key:"onStringsUpdated",value:function(){this.view.updateStrings()}}])&&Ct(t.prototype,n),i&&Ct(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Ht(e){return Ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ht(e)}function Nt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Ht(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Ht(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ht(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ft=DS,Vt=Ft._,Ut=Ft.pubSub,Wt=Ft.events,zt=Ft.detection,Zt=Ft.constants.MOBILE_UI_SIZE,Kt="top ".concat(150,"ms ease-in-out");function Gt(e){return Gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gt(e)}function Qt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==Gt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Gt(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===Gt(o)?o:String(o)),i)}var r,o}function qt(e,t){return qt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},qt(e,t)}function Yt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=$t(e);if(t){var r=$t(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Gt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Xt(e)}(this,n)}}function Xt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $t(e){return $t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$t(e)}var Jt=DS,en=Jt.pubSub,tn=Jt.events,nn=Jt._,rn=Jt.utils,on=(Jt.flagManager,function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qt(e,t)}(o,e);var t,n,i,r=Yt(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),nn.bindAll(Xt(t),"onSlideChange","onAriaToggle"),en.on(tn.slide.HAS_MOUNTED,t.onSlideChange),en.on(tn.slide.ARIA_TOGGLE,t.onAriaToggle),t.teardownPushableSlide=function(e){var t;if(!zt.deviceView.isPhone)return Vt.noop;function n(){e.view.el.style.transition=null,e.view.el.style.top="0px"}function i(t){e.view.el.style.transition=Kt;var n=.45*window.innerHeight-10,i=-(e.view.bottom()-n),r=e.view.y+i,o=0;r<Zt&&zt.theme.isUnified?o=Zt-r+10:r<0&&(o=-1*r+10),e.view.el.style.top="".concat(i+o,"px")}function r(){e.view.el.style.transition=Kt,e.view.el.style.top="".concat(0,"px")}return Ut.on((Nt(t={},Wt.threeSixtyImage.UN_PUSH_LABEL,n),Nt(t,Wt.threeSixtyImage.PUSH_UP_BY_LABEL,i),Nt(t,Wt.threeSixtyImage.PUSH_DOWN_BY_LABEL,r),t)),function(){n(),Ut.off(Wt.threeSixtyImage.UN_PUSH_LABEL,n),Ut.off(Wt.threeSixtyImage.PUSH_UP_BY_LABEL,i),Ut.off(Wt.threeSixtyImage.PUSH_DOWN_BY_LABEL,r)}}(Xt(t)),t}return t=o,(n=[{key:"onAriaToggle",value:function(e){e.hidden?(this.el.setAttribute("aria-hidden",!0),this.el.setAttribute("tabindex",0)):(this.el.removeAttribute("aria-hidden"),this.el.removeAttribute("tabindex"))}},{key:"teardown",value:function(){en.off(tn.slide.HAS_MOUNTED,this.onSlideChange),this.teardownPushableSlide()}},{key:"onSlideChange",value:function(e){null!=this.labelEl&&this.view.nameSpace===e.props.windowId&&(this.labelEl.textContent="".concat(X.model.getString("slide"),": ").concat(rn.stripTags(e.props.model.title())))}},{key:"onFocus",value:function(){}},{key:"onBlur",value:function(){}}])&&Qt(t.prototype,n),i&&Qt(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(Mt)),an=DS,ln=an.constants.MOBILE_UI_SIZE,sn=an.detection.orientation,cn="slide";X.def(cn,on,(function(e){var t=X.model;X.getNamespace(e).optionPane;return{attrs:{id:cn,class:cn},methods:{getAvailableWidth:function(){return Te.width-(sn.isLandscape?ln:0)},getAvailableHeight:function(){return Te.height-(sn.isLandscape?0:ln)}},winScale:function(){var e=t.slideWidth,n=t.slideHeight;return Math.min(this.getAvailableWidth()/e,this.getAvailableHeight()/n)},origin:"0 0",w:function(){return t.slideWidth*this.winScale},h:function(){return t.slideHeight*this.winScale},x:function(){return(this.getAvailableWidth()-this.w)/2},y:function(){return(this.getAvailableHeight()-this.h)/2},z:1,overflow:"visible",add:!0,html:'<div id="slide-label" data-ref="label" aria-live="polite"></div>\n      <main class="slide-container" data-ref="container" aria-live="off" tabindex="-1"></main>'}}));var un="frame";function fn(e){return fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fn(e)}function dn(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==fn(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==fn(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===fn(o)?o:String(o)),i)}var r,o}function hn(e,t){return hn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},hn(e,t)}function pn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=bn(e);if(t){var r=bn(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===fn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return yn(e)}(this,n)}}function yn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bn(e){return bn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},bn(e)}X.def(un,(function(){return{attrs:{id:un},x:0,y:0,w:"100%",h:"100%",z:2}}));var vn=DS,mn=vn.detection,gn=vn._,wn=vn.pubSub,Sn=vn.events,kn=vn.globalEventHelper.addWindowListener,On=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hn(e,t)}(o,e);var t,n,i,r=pn(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),gn.bindAll(yn(t),"onLayoutReady"),mn.deviceView.isTablet&&kn("resize",(function(){window.requestAnimationFrame((function(){t.view.update()}))})),wn.on(Sn.frame.LAYOUT_READY,t.onLayoutReady),t}return t=o,(n=[{key:"onLayoutReady",value:function(e){this.view.layout=e}},{key:"teardown",value:function(){wn.off(Sn.frame.LAYOUT_READY,this.onLayoutReady)}}])&&dn(t.prototype,n),i&&dn(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(Mt),Cn=DS,En=Cn.constants.MOBILE_UI_SIZE,Ln=Cn.detection,Tn=Ln.deviceView.isPhone,xn=Ln.orientation,Pn=Cn.dom,In="optionPane";X.def(In,On,(function(e){X.model;var t=X.getNamespace(e),n=t.fullScreenOpen,i=t.captions,r=t.settings,o=t.seek,a=t.playPause,l=t.submit,s=t.next,c=t.prev;return{tag:"section",attrs:{id:In,class:_.kebabCase(In)},wl:function(){return En},wp:function(){return window.innerWidth},hl:function(){return window.innerHeight},hp:function(){return En},xl:function(){return window.innerWidth-En},xp:0,yl:0,yp:function(){return window.innerHeight-En},z:4,childVisibilityChangedHook:function(){this.update()},methods:{moveButtonsToOverflow:function(){var e=[n,i,r,a,l,s,c].filter((function(e){return e&&e.visible}));this.applyOverflowVisibility(e,[i])},applyOverflowVisibility:function(e,t){for(this.ctrlOverflow=[];e.length>5&&t.length>0;){var n=t.pop(),i=e.indexOf(n);i>=0&&(e.splice(i,1),n.setVisibility(!1),this.ctrlOverflow.push(n),Pn.addClass(this.el,"".concat(n.nameKey,"-overflow")))}return e},revertOverflowVisibility:function(){var e=this;null!=this.ctrlOverflow&&this.ctrlOverflow.forEach((function(t){t.setVisibility(t.layoutDefaultVisible),Pn.removeClass(e.el,"".concat(t.nameKey,"-overflow"))}))}},updateHook:function(){if(this.hasAllChildren())if(Tn&&(this.revertOverflowVisibility(),this.moveButtonsToOverflow()),xn.isPortrait){this.layout.seek&&o.setVisibility(!0),o.width=0;var e=this.calcChildrensWidth();o.width=this.w-e,this.flowChildren({sizeToChildren:!0,reverse:!1})}else o.setVisibility(!1),this.flowChildren({vertical:!0,sizeToChildren:!0,reverse:!1})},overflow:"visible"}}));var _n=function(){return"no icon"},jn={hamburger:function(){return'<svg class="cs-icon hamburger-icon" width="40" height="36" viewBox="0 0 40 36" focusable="false">\n    <g id="icon-menu-mobile">\n    <rect width="40" height="4"></rect>\n    <rect y="16" width="40" height="4"></rect>\n    <rect y="32" width="40" height="4"></rect>\n    </g>\n  </svg>'},play:function(){return'<svg class="cs-icon play-icon" width="13" height="15" viewBox="0 0 13 15" focusable="false">\n    <path id="icon-play" d="M 13 7.15 L 2 0 2 14.3 13 7.15 Z"/>\n  </svg>'},next:function(){return'<svg className="cs-icon pause-icon" width="40" height="36" viewBox="0 0 40 36" focusable="false">\n    <path transform="translate(0, -5)" d="M39.414,16.587L22.826,0L20,2.826L33.175,16H0v4h33.175L20,33.174L22.826,36l16.588-16.587C40.195,18.633,40.195,17.368,39.414,16.587z"/>\n  </svg>'},prev:function(){return'<svg class="cs-icon prev-mobile-icon" width="40" height="36" viewBox="0 0 40 36" focusable="false">\n    <path transform="translate(0, -5)" d="M0.586,19.413L17.174,36L20,33.174L6.825,20H40v-4H6.825L20,2.826L17.174,0L0.586,16.587C-0.195,17.367-0.195,18.632,0.586,19.413z"/>\n  </svg>'},pause:function(){return'<svg class="cs-icon pause-icon" width="12" height="14" viewBox="0 0 12 14" focusable="false">\n    <g id="icon-pause">\n      <rect x="0" width="4" height="14"/>\n      <rect x="8" width="4" height="14"/>\n    </g>\n  </svg>'},submit:function(){return'<svg class="cs-icon submit-icon" width="40" height="30" viewBox="0 0 40 30" focusable="false">\n    <path transform="translate(0, -5)" d="M12.685,30c-0.538,0-1.053-0.218-1.429-0.604L0,17.832l2.857-2.8l9.827,10.097L37.143,0L40,2.8L14.114,29.396C13.738,29.782,13.222,30,12.685,30z"/>\n  </svg>'},close:function(){return'\n    <svg class="cs-icon icon-close" width="36" height="36" viewBox="0 0 36 36" focusable="false">\n      <polygon points="36,2.826 33.174,0 18,15.174 2.826,0 0,2.826 15.174,18 0,33.174 2.826,36 18,20.826 33.174,36 36,33.174 20.826,18" />\n    </svg>'},captions:function(e){return'<svg class="cs-icon caption-icon" width="22px" height="20px" viewBox="0 0 22 20" focusable="false">\n    <g stroke="none" stroke-width="1" fill-rule="evenodd" focusable="false">\n      <g>\n        <path d="M14.8517422,14 L20.008845,14 C21.1103261,14 22,13.1019465 22,11.9941413 L22,2.00585866 C22,0.897060126 21.1085295,0 20.008845,0 L1.991155,0 C0.889673948,0 0,0.898053512 0,2.00585866 L0,11.9941413 C0,13.1029399 0.891470458,14 1.991155,14 L8.09084766,14 L11.4712949,17.3804472 L14.8517422,14 Z M3,4 L13,4 L13,6 L3,6 L3,4 Z M14,4 L19,4 L19,6 L14,6 L14,4 Z M19,8 L8,8 L8,10 L19,10 L19,8 Z M7,8 L3,8 L3,10 L7,10 L7,8 Z"></path>\n      </g>\n    </g>\n  </svg>'},disableOrientation:function(){return'<svg viewBox="0 0 161 135">\n    <g stroke="none" stroke-width="1" fill="#fff" fill-rule="evenodd">\n      <path d="M59,31.9948589 C59,30.340844 60.3408574,29 62.0069809,29 L99.9930191,29 C101.653729,29 103,30.3364792 103,31.9948589 L103,103.005141 C103,104.659156 101.659143,106 99.9930191,106 L62.0069809,106 C60.3462712,106 59,104.663521 59,103.005141 L59,31.9948589 Z M61,36 L101,36 L101,96 L61,96 L61,36 Z M81,104 C82.6568542,104 84,102.656854 84,101 C84,99.3431458 82.6568542,98 81,98 C79.3431458,98 78,99.3431458 78,101 C78,102.656854 79.3431458,104 81,104 Z M76,32.5 C76,32.2238576 76.2276528,32 76.5096495,32 L85.4903505,32 C85.7718221,32 86,32.2319336 86,32.5 C86,32.7761424 85.7723472,33 85.4903505,33 L76.5096495,33 C76.2281779,33 76,32.7680664 76,32.5 Z"></path>\n      <path d="M144.276039,68.4976037 C143.65768,83.6270348 137.530567,98.6224671 125.961909,110.191125 C101.576936,134.576098 62.1020027,134.704192 37.8006658,110.402855 L37.8275751,110.429765 L33.4090737,114.848266 L33.3821643,114.821357 C60.1400795,141.579272 103.595566,141.480117 130.445572,114.630111 C143.247134,101.828549 149.95913,85.2399018 150.581333,68.4976037 L161.373625,68.4976037 L147.23149,54.3554681 L133.089354,68.4976037 L144.276049,68.4976037 Z"></path>\n      <path d="M17.2900541,66.5559885 C17.8833587,51.3895735 24.012088,36.3498513 35.6085461,24.7533932 C59.9935191,0.36842015 99.4684528,0.240325436 123.76979,24.5416624 L123.74288,24.514753 L128.161382,20.0962516 L128.188291,20.1231609 C101.430376,-6.63475424 57.9748898,-6.5355989 31.1248839,20.314407 C18.2955218,33.1437691 11.582203,49.7766814 10.9851551,66.5559885 L0.259994507,66.5559885 L14.4021301,80.6981242 L28.5442658,66.5559885 L17.2900541,66.5559885 Z"></path>\n    </g>\n  </svg>'},search:function(){return'<svg class="cs-icon search-icon" width="22" height="22" viewBox="0 0 40 40" focusable="false">\n    <g id="icon-search" transform="translate(4, 0)">\n      <path d="M14.1378906,27.4473684 C21.6653507,27.4473684 27.7757813,21.4196023 27.7757813,13.9736842 C27.7757813,6.52776609 21.6653507,0.5 14.1378906,0.5 C6.61043053,0.5 0.5,6.52776609 0.5,13.9736842 C0.5,21.4196023 6.61043053,27.4473684 14.1378906,27.4473684 L14.1378906,27.4473684 Z M14.1378906,24.4473684 C8.25820695,24.4473684 3.5,19.7535325 3.5,13.9736842 C3.5,8.19383595 8.25820695,3.5 14.1378906,3.5 C20.0175743,3.5 24.7757813,8.19383595 24.7757813,13.9736842 C24.7757813,19.7535325 20.0175743,24.4473684 14.1378906,24.4473684 L14.1378906,24.4473684 Z" ></path>\n      <path d="M20.887408,24.4494377 L31.4348235,34.8541634 L32.5026823,35.9075758 L34.609507,33.7718582 L33.5416482,32.7184459 L22.9942327,22.3137202 L21.9263739,21.2603078 L19.8195492,23.3960254 L20.887408,24.4494377 L20.887408,24.4494377 Z" ></path>\n    </g>\n  </svg>'},enterFullScreen:function(){return'<svg class="cs-icon enter-fullscreen-icon" width="25" height="25" viewBox="0 0 32 32" focusable="false">\n    <g>\n      <path d="M0,0 L12,0 L12,3 L3,3 L3,12 L0,12 L0,0 Z"/>  \n      <path d="M20,0 L32,0 L32,12, L29,12, L29,3, L20,3, L20,0 Z"/>\n      <path d="M0,20 L3,20 L3,29, L12,29, L12,32, L0,32, L0,20 Z"/>\n      <path d="M29,20 L32,20 L32,32, L20,32, L20,29, L29,29, L29,20 Z"/>\n    </g>\n  </svg>'},settings:function(){return'\n    <svg class="cs-icon" data-ref="settings" width="16px" height="16px" viewBox="0 0 16 16" focusable="false">\n      <path d="M8.94,0 C9.82,0 10.55,0.62 10.63,1.45 L10.73,2.36 C11.1,2.52 11.45,2.71 11.78,2.94 L12.66,2.56 C13.46,2.22 14.39,2.5 14.83,3.23 L15.77,4.77 C16.21,5.5 16,6.4 15.29,6.9 L14.51,7.42 C14.54,8.19 14.53,8.38 14.51,8.58 L15.29,9.11 C16,9.6 16.21,10.51 15.77,11.23 L14.83,12.77 C14.39,13.49 13.46,13.78 12.66,13.44 L11.78,13.06 C11.45,13.29 11.1,13.48 10.73,13.64 L10.63,14.55 C10.55,15.38 9.82,16 8.94,16 L7.06,16 C6.18,16 5.45,15.38 5.37,14.55 L5.27,13.64 C4.9,13.48 4.55,13.29 4.22,13.06 L3.34,13.44 C2.54,13.78 1.61,13.5 1.17,12.77 L0.23,11.23 C-0.21,10.51 0,9.6 0.71,9.11 L1.49,8.58 C1.46,7.81 1.47,7.62 1.49,7.42 L0.71,6.89 C0,6.40 -0.21,5.49 0.23,4.77 L1.17,3.23 C1.61,2.51 2.54,2.22 3.34,2.56 L4.22,2.94 C4.55,2.71 4.9,2.52 5.27,2.36 L5.37,1.45 C5.45,0.62 6.18,0 7.06,0 Z M7.96,4.53 C5.91,4.53 4.25,6.11 4.25,8.06 C4.25,10.01 5.91,11.59 7.96,11.59 C10.02,11.59 11.68,10.01 11.68,8.06 C11.68,6.11 10.02,4.53 7.96,4.53 Z"></path>\n    </svg>\n    '},track:function(e){return'\n      <svg xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="16px" viewBox="0 0 24 16" focusable="false">\n        <defs>\n            <rect id="'.concat(e,'-track" x="2" y="3.5" width="20" height="9" rx="4.5"></rect>\n            <filter x="-12.5%" y="-27.8%" width="125.0%" height="155.6%" filterUnits="objectBoundingBox" id="').concat(e,'-trackFilter">\n                <feGaussianBlur stdDeviation="1.5" in="SourceAlpha" result="shadowBlurInner1"></feGaussianBlur>\n                <feOffset dx="0" dy="1" in="shadowBlurInner1" result="shadowOffsetInner1"></feOffset>\n                <feComposite in="shadowOffsetInner1" in2="SourceAlpha" operator="arithmetic" k2="-1" k3="1" result="shadowInnerInner1"></feComposite>\n                <feColorMatrix values="0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.5 0" type="matrix" in="shadowInnerInner1"></feColorMatrix>\n            </filter>\n        </defs>\n        <g class="thumb-off" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n            <g>\n                <use fill="#303030" fill-rule="evenodd" xlink:href="#').concat(e,'-track"></use>\n                <use fill="black" fill-opacity="1" filter="url(#').concat(e,'-trackFilter)" xlink:href="#').concat(e,'-track"></use>\n                <use stroke="#595959" stroke-width="1" xlink:href="#').concat(e,'-track"></use>\n                <circle fill="#B4B4B4" stroke-width="0" cx="8" cy="8" r="5"></circle>\n            </g>\n        </g>\n        <g class="thumb-on" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n            <g>\n                <use fill="#505050" fill-rule="evenodd" xlink:href="#').concat(e,'-track"></use>\n                <use fill="black" fill-opacity="1" filter="url(#').concat(e,'-trackFilter)" xlink:href="#').concat(e,'-track"></use>\n                <use stroke="#595959" stroke-width="1" xlink:href="#').concat(e,'-track"></use>\n                <circle fill="#6EBBEF" stroke-width="0" cx="16" cy="8" r="6"></circle>\n            </g>\n        </g>        \n    </svg>\n    ')},downArrow:function(){return'\n      <svg width="22px" height="11px" viewBox="0 0 22 11" focusable="false">\n        <path d="M 0 0 L 11 11 22 0" fill="#191c1d"/>\n      </svg>\n    '}},Dn=function(e){return jn[e]||_n},An=function(e){var t=X.model.frame.controlOptions.controls.search;return'\n    <button\n      class="hamburger"\n      aria-expanded="false"\n      data-ref="burger"\n      aria-label="'.concat(X.model.getString("sidebar_toggle"),'">\n        ').concat(Dn("hamburger")(),"\n    </button>\n    ").concat(t?function(e){return'\n    <button\n      class="search-toggle-btn search-toggle-'.concat(e,'"\n      aria-pressed="false"\n      data-ref="searchBtn"\n      aria-label="').concat(X.model.getString("search_toggle"),'">\n        ').concat(Dn("search")(),"\n    </button>")}(e):"","\n  ")},Rn=DS.constants.MOBILE_UI_SIZE,Bn="hamburger";function Mn(e){return Mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mn(e)}function Hn(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==Mn(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Mn(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===Mn(o)?o:String(o)),i)}var r,o}X.def(Bn,(function(){X.model;return{attrs:{id:Bn},x:0,y:0,w:Rn,h:Rn,overflow:"visible",updateHook:function(){var e,t,n,i,r,o;this.setEnabled((e=X.model,t=e.topTabsLeft,n=e.topTabsRight,i=e.sidebarTabs,r=e.currControlLayout,o=function(e){return e.some((function(e){var t=e.name,n=r[t];return"outline"===t?n.enabled:"customlink"===t||n}))},o(t)||o(n)||o(i)))},html:An("portrait")}}));var Nn=DS,Fn=Nn._,Vn=Nn.pubSub,Un=Nn.events,Wn=Nn.dom.toggleClasses,zn=(Nn.shortcutManager,function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.view=t,Fn.bindAll(this,"onSlideChanged","onTimelineChanged","onPlaybackChanged"),Vn.on(Un.slide.STARTED,this.onSlideChanged)}var t,n,i;return t=e,(n=[{key:"teardown",value:function(){Vn.off(Un.slide.STARTED,this.onSlideChanged)}},{key:"onTimelineChanged",value:function(e,t){e!==this.currTimeline&&(Vn.trigger(Un.playbackControls.TIMELINE_CHANGED,e,t),null!=this.currTimeline&&(this.currTimeline.off(Un.timeline.PLAYING,this.onPlaybackChanged),this.currTimeline.off(Un.timeline.PAUSED,this.onPlaybackChanged),this.currTimeline.off(Un.timeline.ENDED,this.onPlaybackChanged)),this.currTimeline=e,this.currTimeline.on(Un.timeline.PLAYING,this.onPlaybackChanged),this.currTimeline.on(Un.timeline.PAUSED,this.onPlaybackChanged),this.currTimeline.on(Un.timeline.ENDED,this.onPlaybackChanged),this.onPlaybackChanged())}},{key:"onPlaybackChanged",value:function(){var e=this.view.children,t=e.reset,n=e.playPause,i=null!=this.currTimeline&&"playing"===this.currTimeline.playbackState();Wn(document.body,"timeline-playing","timeline-paused",i),Wn(document.body,"has-reset","no-reset",this.view.visible&&null!=t&&t.visible),null!=n&&n.viewLogic.onPlaybackChanged()}},{key:"onSlideChanged",value:function(e,t,n){this.view.el.tabIndex=0,this.view.el.tabIndex=-1,this.view.nameSpace===n&&(null!=this.currSlide&&this.currSlide.off(Un.slide.CURRENT_TIMELINE,this.onTimelineChanged),this.currSlide=t,this.currSlide.on(Un.slide.CURRENT_TIMELINE,this.onTimelineChanged),this.onTimelineChanged(t.currentTimeline(),t))}}])&&Hn(t.prototype,n),i&&Hn(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}()),Zn=DS,Kn=Zn.constants.MOBILE_UI_SIZE,Gn=Zn.detection.orientation,Qn="playbackControls";function qn(e){return qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qn(e)}function Yn(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,ni(i.key),i)}}function Xn(e,t){return Xn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Xn(e,t)}function $n(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=ei(e);if(t){var r=ei(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===qn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Jn(e)}(this,n)}}function Jn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ei(e){return ei=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ei(e)}function ti(e,t,n){return(t=ni(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ni(e){var t=function(e,t){if("object"!==qn(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==qn(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===qn(t)?t:String(t)}X.def(Qn,zn,(function(e){var t=X.getNamespace(e),n=t.hamburger,i=t.seek,r=X.model,o=(r.rtl,r.currControlLayout);o.pauseplay,o.seekbar;return{attrs:{id:Qn,"aria-label":"playback controls"},visibility:"no-reflow",overflow:"visible",x:0,yp:0,yl:function(){return null!=n?Kn:0},wp:function(){return this.width+(i.visible?0:i.w)||0},wl:"100%",hp:"100%",hl:function(){return this.height||0},noUpdate:!0,updateHook:function(){this.flowChildren({fullUpdate:!0,reverse:!1,sizeToChildren:!0,startPos:0,vertical:Gn.isLandscape});var e=this.children.some((function(e){return e.visible}));this.setVisibility(e)}}}));var ii=DS,ri=ii._,oi=ii.events,ai=ii.pubSub,li=ii.detection,si=ii.dom.tappedClass,ci=ii.keyManager,ui=ii.stringTabler,fi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xn(e,t)}(o,e);var t,n,i,r=$n(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),ti(Jn(t=r.call(this,e)),"hasTooltip",!0),ti(Jn(t),"onTap",(function(e){si(t.el)})),ti(Jn(t),"onClickBtn",(function(e){1!==t.currTimeline.progress()?t.currTimeline.togglePlayback():li.theme.isUnified&&t.currTimeline.reset()})),ti(Jn(t),"onKeydown",(function(e){var t=e.which;ci.isSeekKey(t)&&ai.trigger(oi.player.SEEK,e)})),ti(Jn(t),"onPlaybackChanged",(function(){t.updateToggle(),t.updateView()})),ri.bindAll(Jn(t),"onTimelineChanged"),ai.on(oi.player.TOGGLE_PLAYBACK,t.onClickBtn),ai.on(oi.playbackControls.TIMELINE_CHANGED,t.onTimelineChanged),li.deviceView.isMobile&&t.onClick(t.onTap),t.onClick(t.onClickBtn),t.el.addEventListener("keydown",t.onKeydown),t.view.toggle=!0,li.deviceView.isMobile&&ai.on(oi.currTimeline.TICK,t.onTick.bind(Jn(t))),t}return t=o,(n=[{key:"tooltipKey",get:function(){return this.view.toggle?"acc_pause":"acc_play"}},{key:"teardown",value:function(){ai.off(oi.currTimeline.TICK,this.onTick.bind(this))}},{key:"onTick",value:function(e){null!=this.circleProgress&&this.circleProgress.setAttribute("d",DS.svgUtils.wheelPath(17,17,17,0,360*e)),this.lastProgress=e}},{key:"updateView",value:function(){this.view.updateHtml(),this.circleProgress=this.el.querySelector(".circle-progress path"),this.onTick(this.lastProgress)}},{key:"updateToggle",value:function(){this.view.toggle="playing"===this.currTimeline.playbackState(),this.view.el.setAttribute("aria-pressed",!this.view.toggle),this.view.el.setAttribute("aria-label",ui.getString(this.view.toggle?"acc_pause":"acc_play"))}},{key:"onTimelineChanged",value:function(e){this.currTimeline=e,this.view.toggle=this.currTimeline.isPlaying(),this.updateView()}}])&&Yn(t.prototype,n),i&&Yn(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(Mt),di=DS.constants.MOBILE_UI_SIZE,hi="playPause";function pi(e){return pi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pi(e)}function yi(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,wi(i.key),i)}}function bi(e,t){return bi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},bi(e,t)}function vi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=gi(e);if(t){var r=gi(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===pi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return mi(e)}(this,n)}}function mi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gi(e){return gi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},gi(e)}function wi(e){var t=function(e,t){if("object"!==pi(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==pi(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===pi(t)?t:String(t)}X.def(hi,fi,(function(){var e=X.model;return{attrs:{id:hi,class:"play-pause-btn content-center cs-button","aria-pressed":!1,"aria-label":"".concat(e.getString("acc_play"),"/").concat(e.getString("acc_pause")),tabindex:-1},tag:"button",style:{background:"transparent",border:"none"},updateHook:function(){this.el.setAttribute("aria-pressed",!this.toggle)},html:function(){return'\n        <div style="transform:translate(0, -2px)">\n          '.concat(this.toggle?Dn("pause")():Dn("play")(),'\n        </div>\n\n        <svg class="circle-progress" width="38" height="38" viewBox="0 0 38 38">\n          <circle\n            cx="17" cy="17" r="17"\n            fill="#464646"\n            stroke="none" />\n\n          <path\n            d="M 0 0"\n            transform="rotate(-90 17 17)"\n            fill="white"\n            stroke="none" />\n\n          <circle\n            cx="17" cy="17" r="14.5"\n            fill="#31373a"\n            stroke="none" />\n        </svg>\n      ')},minW:di,minH:di,z:1}}));var Si=DS,ki=Si.detection,Oi=Si.dom,Ci=Si.pubSub,Ei=Si.events,Li={next:"acc_next_visual",prev:"acc_previous_visual",submit:"acc_submit"},Ti=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bi(e,t)}(o,e);var t,n,i,r=vi(o);function o(e){var t,n,i,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),n=mi(t),a=!0,(i=wi(i="hasTooltip"))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a,ki.deviceView.isMobile&&t.onClick(t.onTap),t.onClick(t.onClickBtn),t}return t=o,(n=[{key:"tooltipKey",get:function(){return Li[this.view.nameKey]}},{key:"onTap",value:function(e){Oi.tappedClass(this.el)}},{key:"onClickBtn",value:function(e){var t=this.view,n=t.enabled,i=t.nameKey;n&&Ci.trigger(Ei.presentation.ON_OBJECT_EVENT,i+"_pressed")}},{key:"onLayoutChange",value:function(e){var t=this,n=this.view.nameKey;this.hasFocus&&(e[n]?window.requestAnimationFrame((function(){return t.onFocus()})):this.onBlur())}}])&&yi(t.prototype,n),i&&yi(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(Mt),xi="next",Pi=DS,Ii=Pi.detection,_i=Ii.orientation,ji=Ii.deviceView.isTablet,Di=Pi.constants.MOBILE_UI_SIZE;X.def(xi,Ti,(function(e){var t=X.model,n={tag:"button",attrs:{id:xi,class:"cs-button btn","aria-label":t.getString("acc_"+xi),tabindex:0},html:'\n      <div class="icon">\n        '.concat(Dn(xi)(),"\n      </div>\n    "),padLeft:6,padRight:6,wp:47,wl:Di,minH:Di,noUpdate:!0,parentAlign:"br",noContent:!1};return ji&&Object.assign(n,{wp:"fit-to-text-w",wl:Di,wPad:function(){return _i.isLandscape?0:20},calcTextSize:!0,html:'\n        <span class="txt">'.concat(t.getString(xi),'</span>\n        <div class="icon">\n          ').concat(Dn("next")(),"\n        </div>\n      "),beforeReflowHook:function(){this.doTextCalcs(),this.update()}}),n}));var Ai=DS,Ri=Ai.detection,Bi=Ri.orientation,Mi=Ri.deviceView.isTablet,Hi=Ai.constants.MOBILE_UI_SIZE,Ni="prev";X.def(Ni,Ti,(function(){var e=X.model,t={tag:"button",attrs:{id:Ni,class:"cs-button btn","aria-label":e.getString("acc_"+Ni),tabindex:0},html:'\n      <div class="icon">\n        '.concat(Dn(Ni)(),"\n      </div>\n    "),padLeft:6,padRight:6,wp:47,wl:Hi,minH:Hi,noUpdate:!0,parentAlign:"br",noContent:!1};return Mi&&Object.assign(t,{wp:"fit-to-text-w",wl:Hi,wPad:function(){return Bi.isLandscape?0:20},calcTextSize:!0,html:'\n        <span class="txt">'.concat(e.getString(Ni),'</span>\n        <div class="icon">\n          ').concat(Dn("prev")(),"\n        </div>\n      "),beforeReflowHook:function(){this.doTextCalcs(),this.update()}}),t}));var Fi=DS,Vi=Fi.constants.MOBILE_UI_SIZE,Ui=Fi.detection.orientation,Wi="navControls";function zi(e){return zi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zi(e)}function Zi(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Xi(i.key),i)}}function Ki(e,t){return Ki=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ki(e,t)}function Gi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=qi(e);if(t){var r=qi(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===zi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Qi(e)}(this,n)}}function Qi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qi(e){return qi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},qi(e)}function Yi(e,t,n){return(t=Xi(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xi(e){var t=function(e,t){if("object"!==zi(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==zi(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===zi(t)?t:String(t)}X.def(Wi,(function(e){X.model.rtl;var t=X.getNamespace(e).playbackControls;return{tag:"nav",attrs:{id:Wi,"aria-label":"slide navigation"},wp:function(){return this.width||0},wl:"100%",hp:"100%",hl:function(){return this.parent.h-Vi},updateHook:function(){var e={reverse:!1,pad:0,fullUpdate:!0,sizeToChildren:!0};Ui.isLandscape&&(e.sizeToChildren=!1,e.vertical=!0,e.toTop=!0,e.startPos=this.h-t.h,e.reverse=!0),this.flowChildren(e)}}}));var $i=DS,Ji=$i._,er=$i.detection,tr=$i.utils,nr=$i.keyManager,ir=$i.dom,rr=$i.dom,or=rr.addClass,ar=rr.removeClass,lr=$i.globalEventHelper.addWindowListener,sr=$i.events,cr=$i.pubSub,ur=($i.stringTabler,function(e){for(;e.startsWith("0")&&!e.startsWith("0:");)e=e.substring(1);return e}),fr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ki(e,t)}(o,e);var t,n,i,r=Gi(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),Yi(Qi(t=r.call(this,e)),"hasTooltip",!0),Yi(Qi(t),"tooltipMoves",!0),Ji.bindAll(Qi(t),"onTick","onSeek","onMouseDown","onMouseUp","onMouseMove","checkSeekable","onKeydown","onTimelineChanged","onChange"),cr.on(sr.slide.STARTED,t.checkSeekable),cr.on(sr.player.SEEK,t.onKeydown),cr.on(sr.playbackControls.TIMELINE_CHANGED,t.onTimelineChanged),t.isUserControlled=!X.model.frame.controlOptions.controls.readonly||X.model.frame.controlOptions.controls.readonlyOnce,t.bindListeners(),t.isUp=!0,t}return t=o,(n=[{key:"bindListeners",value:function(){if(this.isUserControlled){var e=er.deviceView.isClassicDesktop?this.seekEl:this.view.el;er.device.isMobile?(e.addEventListener("touchstart",this.onMouseDown),this.seekEvent="touchmove",this.endEvent="touchend"):(e.addEventListener("mousedown",this.onMouseDown),e.addEventListener("keydown",this.onKeydown),this.seekEvent="mousemove",this.endEvent="mouseup"),this.progressBarEl.addEventListener("change",this.onChange)}}},{key:"isSeekable",value:function(){if(null==this.currSlide)return!1;var e=X.model.frame.controlOptions.controls,t=e.readonly,n=e.readonlyOnce;return!(t&&!n||n&&!this.currSlide.currentTimelineCompletedOnce())}},{key:"getSeekValue",value:function(e){var t=this.view.getBox();return tr.clamp(0,1,(e-t.x)/t.w)}},{key:"getEventX",value:function(e){return er.device.isMobile?e.touches[0]&&e.touches[0].pageX:e.pageX}},{key:"onTimelineChanged",value:function(e,t){null!=this.currTimeline&&(this.currTimeline.off(sr.timeline.TICK,this.onTick),this.currTimeline.off(sr.timeline.COMPLETE,this.checkSeekable)),this.currSlide=t,this.currTimeline=e,this.currTimeline.on(sr.timeline.TICK,this.onTick),this.currTimeline.on(sr.timeline.COMPLETE,this.checkSeekable);var n=this.currTimeline.progress();this.duration=tr.toSeconds(this.currTimeline.timelineDuration()),this.progressBarEl.max=Math.round(1e3*this.duration),this.progressBarEl.step=100,this.progressBarEl.setAttribute("aria-valuemin",0),this.progressBarEl.setAttribute("aria-valuemax",this.progressBarEl.max),isNaN(n)&&(n=0),this.onTick(n),this.checkSeekable()}},{key:"checkSeekable",value:function(){this.isSeekable()?(ar(this.el,"read-only"),this.progressBarEl.disabled=!1):(or(this.el,"read-only"),this.progressBarEl.disabled=!0)}},{key:"onTick",value:function(e){var t=100*e;this.progressBarFillEl.style.width="".concat(t,"%");var n=DS.stringTabler.getString("acc_played",{time:this.getTooltipString({type:"ariaTick"})},"%time% played");this.progressBarEl.value=this.currTimeline.timeline?this.currTimeline.timeline.currentTime:0,this.progressBarEl.setAttribute("aria-valuenow",this.progressBarEl.value),this.progressBarEl.setAttribute("aria-valuetext",n),cr.trigger(sr.currTimeline.TICK,e,Math.floor(this.progressBarEl.value))}},{key:"onSeek",value:function(e){var t=this;e.preventDefault(),e.stopPropagation(),this.seeking=!0,!0!==this.isUp&&this.currTimeline.isPlaying()&&(this.currTimeline.pause(!0),this.currTimeline.on(sr.timeline.AFTER_SEEK_UPDATE,(function e(){t.currTimeline.play(),t.currTimeline.off(sr.timeline.AFTER_SEEK_UPDATE,e)})));var n=this.getEventX(e);null!=n&&this.currTimeline.progress(this.getSeekValue(n)),this.isUp=!1}},{key:"seekBy",value:function(e,t){var n=this;e.preventDefault();var i=(this.currTimeline.elapsedTime()+t)/this.currTimeline.duration();this.currTimeline.onSeekStart(),this.currTimeline.progress(i),this.currTimeline.onSeekEnd(),this.currTimeline.isPlaying()&&(this.currTimeline.pause(),setTimeout((function(){return n.currTimeline.play()}),125))}},{key:"isEnded",value:function(){return this.currTimeline.progress()>=1}},{key:"onChange",value:function(e){this.currTimeline.progress(this.progressBarEl.value/this.progressBarEl.max)}},{key:"onMouseDown",value:function(e){this.isUp=!1,this.removeEndListener=lr(this.endEvent,this.onMouseUp),this.removeSeekListener=lr(this.seekEvent,this.onSeek),this.currTimeline.onSeekStart(),this.onSeek(e)}},{key:"onMouseUp",value:function(e){this.onSeek(e),this.removeEndListener(),this.removeSeekListener(),this.isUp=!0,this.currTimeline.onSeekEnd()}},{key:"onKeydown",value:function(e){var t=e.which;nr.isActionKey(t)?cr.trigger(sr.player.TOGGLE_PLAYBACK):this.isSeekable()&&(nr.isDownishKey(t)?this.seekBy(e,-100):nr.isPageDownKey(t)?this.seekBy(e,-1e3):nr.isUpishKey(t)?this.seekBy(e,100):nr.isPageUpKey(t)&&this.seekBy(e,1e3))}},{key:"getViewBox",value:function(e){var t=this.view.getBox();return null!=e&&(t.x="focusin"===e.type?t.x+t.w/2:e.pageX,t.w=2),t}},{key:"onMouseMove",value:function(e){kt.updateTooltip(e.pageX,this.getTooltipString())}},{key:"setForFollowMouse",value:function(){this.el.addEventListener("mousemove",this.onMouseMove)}},{key:"stopFollowMouse",value:function(){this.el.removeEventListener("mousemove",this.onMouseMove)}},{key:"getTooltipString",value:function(e){if(null!=this.duration){var t=0;t=null==e||"focusin"!==e.type&&"ariaTick"!==e.type?this.getSeekValue(ir.mouseX)*this.duration:Math.floor(tr.toSeconds(this.progressBarEl.value));var n=tr.formatSecondsAsTime(t),i=tr.formatSecondsAsTime(this.duration);return"".concat(ur(n)," / ").concat(ur(i))}}}])&&Zi(t.prototype,n),i&&Zi(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(Mt),dr="seek";X.def(dr,fr,(function(){var e=X.model,t=X.model.frame.controlOptions.controls,n=t.readonly,i=t.seekbar;return{attrs:{id:dr,tabindex:-1,class:"progress-bar cs-seekcontrol ".concat(n?"read-only":"")},y:function(){return this.parent.h/3},overflow:"visible",noUpdate:!0,w:function(){return this.width||0},h:30,html:'\n      <div class="cs-seekbar-inner progress-bar-inner slide-lockable">\n        <div class="cs-seek progress-bar-seek">\n          <div data-ref="progressBarFill" class="cs-fill progress-bar-fill" style="width: 0px">\n          </div>\n        </div>\n        <input\n          aria-hidden="'.concat(!i,'"\n          ').concat(n?"disabled":"",'\n          data-ref="progressBar"\n          type="range"\n          tabindex="0"\n          aria-label="').concat(e.getString("acc_slide_progress"),'"\n        />\n      </div>\n    ')}}));var hr=DS,pr=hr.constants.MOBILE_UI_SIZE,yr=hr.detection,br=yr.orientation,vr=yr.deviceView.isTablet,mr="submit";X.def(mr,Ti,(function(){var e=X.model,t={tag:"button",attrs:{id:mr,class:"cs-button btn","aria-label":e.getString("acc_"+mr),tabindex:0},html:'\n      <div class="icon">\n        '.concat(Dn(mr)(),"\n      </div>\n    "),overflow:"visible",padLeft:6,padRight:6,wp:47,wl:pr,minH:pr,noUpdate:!0,parentAlign:"br",noContent:!1};return vr&&Object.assign(t,{wp:"fit-to-text-w",wl:pr,wPad:function(){return br.isLandscape?0:20},calcTextSize:!0,html:'\n        <span class="txt">'.concat(e.getString(mr),'</span>\n        <div class="icon">\n          ').concat(Dn(mr)(),"\n        </div>\n      "),beforeReflowHook:function(){this.doTextCalcs(),this.update()}}),t}));function gr(e){return gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gr(e)}function wr(e,t,n){return(t=kr(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sr(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,kr(i.key),i)}}function kr(e){var t=function(e,t){if("object"!==gr(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==gr(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===gr(t)?t:String(t)}function Or(e,t){return Or=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Or(e,t)}function Cr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Lr(e);if(t){var r=Lr(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===gr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Er(e)}(this,n)}}function Er(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lr(e){return Lr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Lr(e)}var Tr=DS,xr=Tr.events,Pr=Tr.pubSub,Ir=Tr.detection.orientation,_r=(Tr.utils.getPath,Tr.dom.hasClass),jr=Tr._,Dr=jr.bindAll,Ar=jr.first,Rr=jr.kebabCase,Br=Tr.globalEventHelper.addWindowListener,Mr=Tr.constants.MOBILE_ANIMATION_DURATION,Hr=/Panel$/,Nr=/Link$/,Fr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Or(e,t)}(o,e);var t,n,i,r=Cr(o);function o(e){var t,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(n=r.call(this,e)).ns=X.getCurrentNameSpace(),Dr(Er(n),"onShow","onHide","onCloseClick","onLayoutReady","onCheckLayoutLandscape"),Pr.on((wr(t={},xr.tab.SHOW,n.onShow),wr(t,xr.tab.HIDE,n.onHide),wr(t,xr.frame.LAYOUT_READY,n.onLayoutReady),t)),o.current=Ar(n.view.children),n.onClickEl(n.tabCloseEl,n.onCloseClick),Br("resize",n.onCheckLayoutLandscape),n}return t=o,n=[{key:"isDeactivated",value:function(e){return _r(document.body,"no-"+e)}},{key:"onCheckLayoutLandscape",value:function(){!this.view.visible&&null!=this.lastViewVisibility&&Ir.isLandscape&&(this.onLayoutReady(this.lastViewVisibility),this.lastViewVisibility=null)}},{key:"onLayoutReady",value:function(e){var t=this;if(null==this.lastLink||!e[this.lastLink.nameKey])if(Ir.isLandscape){var n=this.ns.tabs.children;o.panelAvailable=n.some((function(n){var i=n.nameKey.replace(Nr,""),r=Nr.test(n.nameKey)&&e[n.nameKey]&&!t.isDeactivated(i);return r&&t.onShow(n.nameKey.replace(Nr,"Panel"),!1),r})),this.lastViewVisibility=null}else this.lastViewVisibility=e}},{key:"onCloseClick",value:function(){Ir.isLandscape?this.ns.sidebar.viewLogic.toggle():Pr.trigger(DS.events.tab.HIDE)}},{key:"onShow",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.view.children[e];if(this.view.setVisibility(t),null!=this.lastPanel&&this.lastPanel.setVisibility(!1),null!=n){n.setVisibility(t),o.current=n;var i=this.ns[e.replace(Hr,"Link")];this.lastLink=i,i.viewLogic.select(),t&&(Pr.trigger(xr.slide.ARIA_TOGGLE,{hidden:!0}),"outlinePanel"===e?Pr.trigger(xr.mobile.OUTLINE_SHOWN):"transcriptPanel"===e&&Pr.trigger(xr.mobile.NOTES_SHOWN),document.body.classList.add("tab-shown"),null!=this.prevPanelName&&document.body.classList.remove(this.prevPanelName),this.prevPanelName=this.activePanelClass(e),document.body.classList.add(this.prevPanelName),null!=this.lastPanel&&(this.lastPanel.el.style.opacity=0),n.el.style.opacity=1),this.lastPanel=n}}},{key:"activePanelClass",value:function(e){return"tab-active-".concat(Rr(e))}},{key:"onHide",value:function(e){clearTimeout(this.tabShownDelayId),this.tabShownDelayId=setTimeout((function(){document.body.classList.remove("tab-shown")}),Mr),Pr.trigger(xr.slide.ARIA_TOGGLE,{hidden:!1}),this.view.setVisibility(!1)}}],n&&Sr(t.prototype,n),i&&Sr(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(Mt);Fr.current=null,Fr.panelAvailable=!1;var Vr=Fr;function Ur(e){return Ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ur(e)}function Wr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,a,l=[],s=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(i=o.call(n)).done)&&(l.push(i.value),l.length!==t);s=!0);}catch(e){c=!0,r=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw r}}return l}}(e,t)||Kr(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zr(e,t,n){return(t=qr(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zr(e){return function(e){if(Array.isArray(e))return Gr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Kr(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kr(e,t){if(e){if("string"==typeof e)return Gr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Gr(e,t):void 0}}function Gr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Qr(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,qr(i.key),i)}}function qr(e){var t=function(e,t){if("object"!==Ur(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Ur(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ur(t)?t:String(t)}function Yr(e,t){return Yr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Yr(e,t)}function Xr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Jr(e);if(t){var r=Jr(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Ur(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return $r(e)}(this,n)}}function $r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jr(e){return Jr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Jr(e)}var eo=DS,to=eo._,no=eo.detection,io=no.orientation,ro=no.deviceView,oo=ro.isTablet,ao=ro.isPhone,lo=eo.events,so=eo.pubSub,co=eo.dom,uo=(co.addClass,co.removeClass,eo.globalEventHelper),fo=uo.addWindowListener,ho=uo.addDocumentListener,po=eo.constants,yo=po.MOBILE_UI_SIZE,bo=po.MOBILE_ANIMATION_DURATION,vo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yr(e,t)}(o,e);var t,n,i,r=Xr(o);function o(e){var t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),n=r.call(this,e),to.bindAll($r(n),"showContent","hideContent","onCheckTabShown","onCheckTabHidden","forceHide","onToggleSearch");var i=X.getCurrentNameSpace();return n.panels=i.panels,n.visibleOverlay=i.visibleOverlay,n.hamburger=i.hamburger,n.toggleShow=!1,window.requestAnimationFrame((function(){Zr(document.querySelectorAll(".hamburger")).forEach((function(e){return n.onClickEl(e,n.onToggle)}))})),fo("resize",n.onResize.bind($r(n))),so.on((zr(t={},lo.sidebar.OPEN,n.showContent),zr(t,lo.sidebar.CLOSE,n.hideContent),zr(t,lo.tab.SHOW,n.onCheckTabShown),zr(t,lo.tab.HIDE,n.onCheckTabHidden),zr(t,lo.window.STACKING_CHANGED,n.forceHide),t)),n.searchToggle=!1,ho("touchend",n.onToggleSearch),n.hideContent(),n}return t=o,n=[{key:"onToggleSearch",value:function(e){if(e.target.classList.contains("search-toggle-btn")){this.searchToggle=!this.searchToggle;var t=Wr(this.searchToggle?["add",lo.sidebar.SHOW_SEARCH,!0]:["remove",lo.sidebar.HIDE_SEARCH,!1],3),n=t[0],i=t[1],r=t[2];so.trigger(i),document.body.classList[n]("search-active"),e.target.setAttribute("aria-pressed",r)}}},{key:"forceHide",value:function(e){"MessageWnd"===e&&(this.hideContent(),so.trigger(lo.tab.HIDE))}},{key:"onCheckTabShown",value:function(){this.tabShown=!0,io.isPortrait&&this.hideContent()}},{key:"onCheckTabHidden",value:function(){this.tabShown=!1}},{key:"onResize",value:function(){var e=this;this.el.classList.remove("transition-all"),setTimeout((function(){e.el.classList.add("transition-all"),e.tabShown&&io.isLandscape&&(e.showContent(),e.el.style.display="block")}),bo),this.hideContent()}},{key:"ariaToggleBurger",value:function(e){null==this.hamburgers&&(this.hamburgers=document.querySelectorAll(".hamburger")),this.hamburgers.forEach((function(t){t.setAttribute("aria-expanded",e)}))}},{key:"showContent",value:function(){var e=this,t=this.view.children.tabs,n=X.getNamespace(this.view.nameSpace).hamburger;if(io.isPortrait&&this.visibleOverlay.setVisibility(!0),this.el.removeAttribute("aria-hidden"),this.el.focus(),this.el.style.display="block",window.requestAnimationFrame((function(){e.el.style.opacity=1;var n=window.innerHeight-t.h-yo,i=0;oo&&(n-=25,i=25),e.el.style.transform=io.isPortrait?"translate(".concat(i,"px, ").concat(n,"px)"):"translate(".concat(window.innerWidth-160,"px, 0)")})),this.toggleShow=!0,null!=n){var i=n.children,r=i.burger,o=i.searchBtn;this.ariaToggleBurger(!0),this.el.setAttribute("aria-expanded",!0),(ao||oo&&io.isLandscape)&&(r.el.style.display="none"),null!=o&&(o.el.style.display="none")}if(!this.tabShown&&io.isLandscape&&Vr.panelAvailable){var a=Vr.current||to.first(this.panels.children);null!=a&&(so.trigger(lo.tab.SHOW,a.nameKey),this.tabShown=!0)}}},{key:"hideContent",value:function(){var e=this,t=X.getNamespace(this.view.nameSpace).hamburger;if(this.visibleOverlay.setVisibility(!1),this.el.style.opacity=0,this.el.setAttribute("aria-hidden",!0),io.isPortrait&&setTimeout((function(){e.el.style.display="none"}),bo),this.view.updateTrans(),this.toggleShow=!1,null!=t){var n=t.children,i=n.burger,r=n.searchBtn;this.ariaToggleBurger(!1),i.el.style.display="block",null!=r&&(r.el.style.display="block"),this.el.setAttribute("aria-expanded",!1)}}},{key:"toggle",value:function(){this.toggleShow?(this.hideContent(),to.forEach(this.el.querySelectorAll(".selected"),(function(e){return e.classList.remove("selected")})),io.isLandscape&&so.trigger(lo.tab.HIDE)):this.showContent(),this.ariaToggleBurger(this.toggleShow),this.el.setAttribute("aria-expanded",this.toggleShow)}},{key:"onToggle",value:function(e){null!=this.hamburger&&this.hamburger.enabled&&this.toggle()}}],n&&Qr(t.prototype,n),i&&Qr(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(Mt),mo=vo,go=DS.constants.MOBILE_UI_SIZE,wo=DS.detection.deviceView.isTablet,So="sidebar";function ko(e){return ko="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ko(e)}function Oo(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==ko(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==ko(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===ko(o)?o:String(o)),i)}var r,o}function Co(e,t){return Co=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Co(e,t)}function Eo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Lo(e);if(t){var r=Lo(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===ko(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function Lo(e){return Lo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Lo(e)}X.def(So,mo,(function(e){var t=X.getNamespace(e).tabs,n={tag:"section",attrs:{id:So,"aria-label":"sidebar",class:"transition-all "+(wo?"sidebar-tablet-trans":"")},z:3,overflow:"visible",wp:function(){return this.parent.w},wl:160,hp:function(){return t.h+go},hl:function(){return this.parent.w},xp:0,xl:function(){return window.innerWidth},yl:0,yp:function(){return window.innerHeight},html:An("landscape")};return wo&&Object.assign(n,{hp:function(){return t.h},wp:function(){return this.width||this.parent.w}}),n}));var To=DS,xo=To._,Po=To.pubSub,Io=To.events,_o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Co(e,t)}(o,e);var t,n,i,r=Eo(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e)).onClick(t.onClickLink),t}return t=o,(n=[{key:"onClickLink",value:function(e){Po.trigger(Io.tab.SHOW,this.model.name+"Panel")}},{key:"deselect",value:function(){xo.forEach(this.el.parentNode.querySelectorAll(".selected"),(function(e){e.classList.remove("selected")}))}},{key:"select",value:function(){this.deselect(),this.el.classList.add("selected")}}])&&Oo(t.prototype,n),i&&Oo(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(Mt);function jo(e){return jo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jo(e)}function Do(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==jo(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==jo(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===jo(o)?o:String(o)),i)}var r,o}function Ao(e,t){return Ao=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ao(e,t)}function Ro(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Bo(e);if(t){var r=Bo(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===jo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function Bo(e){return Bo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Bo(e)}var Mo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ao(e,t)}(o,e);var t,n,i,r=Ro(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e)).onClick(t.onClickLink),t}return t=o,(n=[{key:"onClickLink",value:function(e){var t=this.model.properties.data;DS.pubSub.trigger(DS.events.sidebar.CLOSE),DS.pubSub.trigger(DS.events.tab.HIDE),DS.pubSub.trigger(DS.events.customlink.EVENT,t)}}])&&Do(t.prototype,n),i&&Do(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(Mt);function Ho(e){return function(e){if(Array.isArray(e))return No(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return No(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return No(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function No(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Fo=DS,Vo=(Fo.utils.getPath,Fo.constants.MOBILE_UI_SIZE),Uo=Fo.detection,Wo=Uo.orientation,zo=Uo.deviceView,Zo=zo.isTablet,Ko=zo.isPhone,Go="tabs",Qo=X.def(Go,(function(e){var t=!0,n=X.getNamespace(e),i=n.sidebar;n.tabs;return{attrs:{id:Go,tabindex:0,"aria-label":"sidebar-tabs"},overflow:"auto",x:0,yl:Vo,yp:function(){return Zo&&Wo.isPortrait?0:Vo},noContent:!1,w:"100%",h:function(){return Wo.isLandscape?window.innerHeight-58:this.height||0},methods:{sizeToLargestTab:function(){var e=160;this.children.forEach((function(t){t.el.style.width="auto";var n=t.el.clientWidth;n>e&&(e=n)})),i.width=e,i.updateSize(),this.updateSize(),this.children.forEach((function(t){t.el.style.width="",t.width=e,t.updateSize()}))}},updateHook:function(){0!==this.children.length&&(this.flowChildren({fullUpdate:!1,sizeToChildren:!0,vertical:!0}),Zo&&t&&Wo.isPortrait?(this.sizeToLargestTab(),t=!1):this.updateSize())},childDef:function(){qo(X.model)}}})),qo=function(e){[].concat(Ho(e.sidebarTabs),Ho(e.topTabsLeft),Ho(e.topTabsRight)).forEach((function(t,n){!function(e,t,n){var i,r,o,a=t.name,l=a+"Tab";"customlink"===a?(i=Mo,r=t.properties.title,l="link".concat(n),o="custom-link"):(i=_o,r=e.getString(t.name),l=t.name+"Link",o="panel-link");var s=X.def(l,i,{model:Object.assign(t,{idx:n}),tag:"button",attrs:{id:l,class:"tab ".concat(o),"aria-label":r,tabindex:-1},w:function(){return Wo.isLandscape||Ko?this.parent.w:this.width||null},h:50,noUpdate:!0,html:r});s.init(),Qo.append(s)}(e,t,n)}))};function Yo(e){return Yo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yo(e)}function Xo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,a,l=[],s=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(i=o.call(n)).done)&&(l.push(i.value),l.length!==t);s=!0);}catch(e){c=!0,r=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw r}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return $o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Jo(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==Yo(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Yo(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===Yo(o)?o:String(o)),i)}var r,o}function ea(e,t){return ea=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ea(e,t)}function ta(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=ia(e);if(t){var r=ia(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Yo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return na(e)}(this,n)}}function na(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ia(e){return ia=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ia(e)}var ra,oa=DS,aa=oa.pubSub,la=oa.events,sa=oa.TweenLite,ca=oa.focusManager,ua=oa._.bindAll,fa=oa.dom.addClass,da=oa.detection,ha=!1,pa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ea(e,t)}(o,e);var t,n,i,r=ta(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var n=(t=r.call(this,e)).view.children.searchForm.el,i=t.view.children.searchInput.el;return n.addEventListener("submit",t.onSearch.bind(na(t))),da.deviceView.isMobile&&(ua(na(t),"onMobileOutlineShown"),i.addEventListener("input",t.onSearch.bind(na(t))),aa.on(la.mobile.OUTLINE_SHOWN,t.onMobileOutlineShown)),t.ensureEventSubscriptions(),t}return t=o,n=[{key:"teardown",value:function(){aa.off(la.mobile.OUTLINE_SHOWN,this.onMobileOutlineShown),aa.off(la.controlOptions.RESET,this.onControlOptionsReset,this),ha=!1}},{key:"ensureEventSubscriptions",value:function(){ha||(aa.on(la.controlOptions.RESET,this.onControlOptionsReset,this),ha=!0)}},{key:"onControlOptionsReset",value:function(){this.view.updateHtml(),this.view.update()}},{key:"onMobileOutlineShown",value:function(){document.getElementById("outline-panel").appendChild(this.el),fa(document.body,"tab-shown")}},{key:"onFocus",value:function(e){ca.setFocusRectOn(this.view.el)}},{key:"onSearch",value:function(e){e.preventDefault();var t=this.view.parent.children.searchResults,n=this.view.children,i=n.bottomDiv,r=n.searchStatus,o=document.querySelector("#outline-content ul");sa.to(o,.2,{alpha:0,onComplete:function(){t.el.style.opacity=0,sa.to(t.el,.2,{alpha:1,onComplete:function(){return t.viewLogic.onAfterVisible()}}),i.el.style.opacity=0,t.setVisibility(!0)}});var a=t.viewLogic.performSearch(this.searchInputEl.value),l=Xo(1===a?["acc_search_result_status","%count% result found for %term%"]:["acc_search_results_status","%count% results found for %term%"],2),s=l[0],c=l[1],u=DS.stringTabler.getString(s,{count:a,term:this.searchInputEl.value},c);r.el.textContent=u,fa(document.body,"search-results-active")}},{key:"updateVisibility",value:function(e){var t=this.view,n=t.searchResults,i=t.searchResults.visible,r=t.visible;this.view.setVisibility(e),n.setVisibility(e&&this.searchResultsOpen),r&&(this.searchResultsOpen=i)}}],n&&Jo(t.prototype,n),i&&Jo(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(Mt),ya=pa,ba="search",va=DS,ma=va.pubSub,ga=va.events,wa=va.constants.MOBILE_ANIMATION_DURATION,Sa=X.def(ba,ya,(function(){var e=X.model,t=(X.getCurrentNameSpaceString(),e.frame.controlOptions.controls.search),n=0;return t&&(n=-58,ma.on(ga.sidebar.SHOW_SEARCH,(function(){n=0,ra.update()})),ma.on(ga.sidebar.HIDE_SEARCH,(function(){setTimeout((function(){n=-58,ra.update()}),wa)}))),{attrs:{class:ba,"aria-label":e.getString("acc_search_input"),tabIndex:0},style:{background:"white"},z:3,x:0,y:function(){return n},w:function(){return this.parent.w},h:function(){return 58},updateHook:function(){ra=this},html:'\n      <div class="search-ui">\n        <div data-ref="bottomDiv"></div>\n        <form id="outline-search" data-ref="searchForm" class="search-input cs-outlinesearch cs-searchinput">\n          <input class="cs-input " data-ref="searchInput" type="search" placeholder="'.concat(e.getString("search"),'">\n          <div\n            class="input-search-icon"\n            style="background-repeat: no-repeat"\n            tabindex="-1"\n          >').concat(Dn("search")(),"</div>\n        </form>\n      </div>\n    ")}}));function ka(e){return ka="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ka(e)}function Oa(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==ka(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==ka(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===ka(o)?o:String(o)),i)}var r,o}function Ca(){return Ca="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=xa(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},Ca.apply(this,arguments)}function Ea(e,t){return Ea=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ea(e,t)}function La(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=xa(e);if(t){var r=xa(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===ka(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ta(e)}(this,n)}}function Ta(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xa(e){return xa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},xa(e)}var Pa=DS,Ia=Pa.focusManager,_a=Pa.keyManager,ja=Pa.detection,Da=Pa.globalEventHelper,Aa=Da.addDocumentListener,Ra=Da.removeDocumentListener,Ba=(Pa.utils.getPath,Pa.dom),Ma=Ba.parentNodesOf,Ha=Ba.addClass,Na=Ba.removeClass,Fa=Pa._,Va=Fa.first,Ua=Fa.last,Wa=Fa.bindAll,za=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ea(e,t)}(o,e);var t,n,i,r=La(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),Wa(Ta(t),"onKeydown","addEvents","onClickItem"),t.addEvents(),t}return t=o,(n=[{key:"focusSelf",value:function(){this.hasListItems()&&this.getItems().find((function(e){return 0===e.tabIndex})).focus()}},{key:"addEvents",value:function(){var e=this;ja.device.isMobile?(this.el.addEventListener("touchmove",(function(t){e.moved=!0})),this.onClick((function(t){e.moved||e.onClickItem(t),e.moved=!1}))):this.onClick(this.onClickItem)}},{key:"onClickItem",value:function(){}},{key:"onFocus",value:function(){!this.isFocused&&this.hasListItems()&&(this.isFocused=!0,this.currentItem=this.currentItem||Va(this.getItems()),Ha(this.currentItem,"hover"),_a.isShowFocus&&this.centerOnFocused(),Ia.setFocusRectOn(this.getFocusRectTarget()),Aa("keydown",this.onKeydown))}},{key:"onBlur",value:function(e){this.el.contains(e.relatedTarget)||(Ca(xa(o.prototype),"onBlur",this).call(this,e),null!=this.currentItem&&(Na(this.currentItem,"hover"),this.currentItem.style.backgroundColor=""),Ra("keydown",this.onKeydown),this.isFocused=!1)}},{key:"onKeydown",value:function(e){var t=this.currentItem;_a.isActionKey(e.which)?(this.activateItem(e),_a.isSpaceKey(e.which)&&e.preventDefault()):_a.isDownishKey(e.which)?this.currentItem=this.getNextItem(this.getItemContent()):_a.isUpishKey(e.which)?this.currentItem=this.getPrevItem(this.getItemContent()):_a.isHomeKey(e.which)?this.currentItem=this.getFirstItem():_a.isEndKey(e.which)&&(this.currentItem=this.getLastItem()),t!==this.currentItem&&(e.preventDefault(),t.tabIndex=-1,Na(t,"hover"),this.focusOnCurrent())}},{key:"hasListItems",value:function(){return!1}},{key:"getFocusRectTarget",value:function(){return this.currentItem}},{key:"focusOnCurrent",value:function(){this.centerOnFocused(),document.activeElement!==this.currentItem&&(this.currentItem.tabIndex=0,Ha(this.currentItem,"hover"),this.currentItem.focus()),Ia.setFocusRectOn(this.getFocusRectTarget())}},{key:"activateItem",value:function(){this.onClickItem({target:this.currentItem.firstElementChild})}},{key:"getNextItem",value:function(e){var t=this,n=this.getItems().findIndex((function(n){return t.findIndexCb(n,e)}))+1;return n===this.getItems().length&&(n=0),this.getItems()[n]}},{key:"getPrevItem",value:function(e){var t=this,n=this.getItems().findIndex((function(n){return t.findIndexCb(n,e)}))-1;return-1===n&&(n=this.getItems().length-1),this.getItems()[n]}},{key:"getLastItem",value:function(){return Ua(this.getItems())}},{key:"getFirstItem",value:function(){return Va(this.getItems())}},{key:"getItemContent",value:function(){return this.currentItem.textContent.trim()}},{key:"findIndexCb",value:function(e,t){return e.textContent.trim()===t}},{key:"getItems",value:function(){return[]}},{key:"getScrollEl",value:function(){return this.el}},{key:"getOffsetEl",value:function(){return this.el}},{key:"getOffsetTop",value:function(e){return function(e){return Ma(e,(function(e){return"li"===e.nodeName.toLowerCase()})).reduce((function(e,t){return e+t.offsetTop}),0)}(e)}},{key:"getOffsetHeight",value:function(e){return e.offsetHeight}},{key:"centerOnFocused",value:function(){if(null!=this.currentItem){var e=this.getOffsetEl(),t=this.getOffsetHeight(e),n=this.getScrollEl().scrollTop,i=this.getOffsetTop(this.currentItem),r=i+this.getOffsetHeight(this.currentItem);r-n>t?e.scrollTop=r-t+10:i<n+10&&(e.scrollTop=i-10)}}}])&&Oa(t.prototype,n),i&&Oa(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(Mt),Za=function(){return"no icon"},Ka={next:function(){return'\n  <svg class="cs-icon next-icon" width="10px" height="18px" viewBox="0 -1 10 18" focusable="false" aria-hidden="true">\n    <path transform="rotate(180, 5, 8)" d="M2.81685219,7.60265083 L9.00528946,1.41421356 L7.5910759,-1.27897692e-13 L1.55431223e-13,7.5910759 L0.0115749356,7.60265083 L1.55431223e-13,7.61422577 L7.5910759,15.2053017 L9.00528946,13.7910881 L2.81685219,7.60265083 Z" stroke="none" fillRule="evenodd"></path>\n  </svg>'},prev:function(){return'\n  <svg class="cs-icon prev-icon" width="10px" height="18px" viewBox="0 -1 10 18" focusable="false" aria-hidden="true">\n    <path transform="translate(0, 1)" d="M2.81685219,7.60265083 L9.00528946,1.41421356 L7.5910759,-1.27897692e-13 L1.55431223e-13,7.5910759 L0.0115749356,7.60265083 L1.55431223e-13,7.61422577 L7.5910759,15.2053017 L9.00528946,13.7910881 L2.81685219,7.60265083 Z" stroke="none" fillRule="evenodd"></path>\n  </svg>\n'},submit:function(){return'\n   <svg class="cs-icon check-icon" width="17px" height="18px" viewBox="0 0 17 16" focusable="false" aria-hidden="true">\n\n  <path stroke="none" transform="translate(0, 1)" d="\n  M 17 1.4\n  L 15.6 0 5.7 9.9 1.4 5.65 0 7.05 5.65 12.75 5.7 12.75 17 1.4 Z"/>\n\n  </svg>'},replay:function(){return'<svg class="cs-icon" x="0px" y="0px" width="16px" height="16px" viewBox="0 0 16 16" focusable="false" aria-hidden="true">\n    <path fill="#FFFFFF" stroke="none" d="\n      M 10.95 8.75\n      Q 11 9 11 9.25 10.95 11.15 9.7 12.4 8.4 13.7 6.5 13.75 4.6 13.7 3.3 12.4 2.05 11.15 2 9.25 2.05 7.3 3.3 6.05 4.398828125 4.998828125 6 4.75\n      L 6 6.9\n      Q 6.05 7.75 6.85 7.35\n      L 11.35 4.3\n      Q 11.7 4.05 11.7 3.75 11.7 3.45 11.35 3.2\n      L 6.85 0.15\n      Q 6.05 -0.3 6 0.6\n      L 6 2.75\n      Q 3.4517578125 3.001171875 1.8 4.75 0.05 6.6 0 9.25 0.05 12 1.9 13.85 3.75 15.65 6.5 15.75 9.25 15.65 11.1 13.85 12.95 12 13 9.25 13 9 13 8.75\n      L 10.95 8.75 Z"/>\n    </svg>'},play:function(){return'<svg id="icon-play" class="cs-icon play-icon" width="11" height="13" viewBox="0 0 11 13" focusable="false" aria-hidden="true">\n    <path fill="#FFFFFF" stroke="none" d="\n      M 0.851 13.011\n      C 0.381 13.295 0 13.068 0 12.526\n      L 0 0.771\n      C 0 0.219 0.378 0 0.854 0.288\n      L 10.507 6.132\n      C 10.979 6.417 10.981 6.878 10.504 7.168\n      L 6.307 9.708\n      L 0.851 13.011 Z" />\n  </svg>'},pause:function(){return'<svg id="icon-pause" class="cs-icon pause-icon" width="9" height="14" viewBox="0 0 9 14" focusable="false" aria-hidden="true">\n    <rect x="0" width="3" height="14"/>\n    <rect x="6" width="3" height="14"/>\n  </svg>'},volume:function(e,t){var n=Math.min(1,e/5),i=Math.min(1,Math.max(0,e/5-.5));return'<svg class="cs-icon volume-icon '.concat(t?"volume-icon-selected":"",'" width="16px" height="14px" viewBox="0 0 16 14" focusable="false" aria-hidden="true">\n      <rect x="0" y="4" width="3" height="6"></rect>\n      <polygon points="4 4 9 0 9 14 4 10"></polygon>\n      <g transform="translate(10, 0)">\n        <mask id="vol-mask" fill="white">\n          <rect id="path-1" x="0" y="0" width="8" height="14" style="fill: white;"></rect>\n        </mask>\n        <circle strokeWidth="1.5" style="opacity: ').concat(i,';" mask="url(#vol-mask)" fill="none" cx="-1" cy="7" r="6.5"></circle>\n        <circle strokeWidth="1.5" style="opacity: ').concat(n,';" mask="url(#vol-mask)" fill="none" cx="-1" cy="7" r="3.5"></circle>\n      </g>\n    </g>\n  </svg>')},captionsOn:function(e){return'<svg class="cs-icon captions-icon" width="19px" height="16px" viewBox="0 0 19 16" focusable="false" aria-hidden="true">\n            <path fill="#FFFFFF" stroke="none" d="M 19 2 Q 19 1.15 18.4 0.6 17.85 0 17 0 L 2 0 Q 1.15 0 0.6 0.6 0 1.15 0 2 L 0 12 Q 0 12.85 0.6 13.4 1.15 14 2 14 L 7.6 14 9.5 15.9 11.4 14 17 14 Q 17.85 14 18.4 13.4 19 12.85 19 12 L 19 2 M 15.7 4.2 L 15.25 4.85 Q 15.15 4.9 15.1 5 15 5.05 14.85 5.05 14.75 5.05 14.6 4.95 14.5 4.9 14.3 4.8 14.15 4.65 13.9 4.6 13.65 4.5 13.3 4.5 12.85 4.5 12.5 4.7 12.15 4.85 11.9 5.15 11.7 5.45 11.6 5.9 11.45 6.35 11.45 6.9 11.5 7.45 11.6 7.9 11.7 8.35 11.95 8.65 12.2 8.95 12.5 9.15 12.85 9.3 13.25 9.3 13.65 9.3 13.9 9.2 14.2 9.1 14.35 8.95 14.5 8.85 14.65 8.75 14.8 8.65 14.95 8.65 15.15 8.65 15.25 8.8 L 15.75 9.4 Q 15.45 9.75 15.15 10 14.8 10.2 14.45 10.35 14.05 10.5 13.7 10.55 13.3 10.6 12.95 10.6 12.25 10.6 11.65 10.35 11.1 10.1 10.65 9.65 10.2 9.15 9.95 8.45 9.7 7.75 9.7 6.9 9.7 6.1 9.95 5.4 10.15 4.75 10.6 4.25 11.05 3.75 11.7 3.5 12.35 3.2 13.2 3.2 14 3.2 14.6 3.45 15.2 3.7 15.7 4.2 M 5.85 4.7 Q 5.5 4.85 5.25 5.15 5.05 5.45 4.95 5.9 4.8 6.35 4.8 6.9 4.85 7.45 4.95 7.9 5.05 8.35 5.3 8.65 5.55 8.95 5.85 9.15 6.2 9.3 6.6 9.3 7 9.3 7.25 9.2 7.55 9.1 7.7 8.95 7.85 8.85 8 8.75 8.15 8.65 8.3 8.65 8.5 8.65 8.6 8.8 L 9.1 9.4 Q 8.8 9.75 8.5 10 8.15 10.2 7.8 10.35 7.4 10.5 7.05 10.55 6.65 10.6 6.3 10.6 5.6 10.6 5 10.35 4.45 10.1 4 9.65 3.55 9.15 3.3 8.45 3.05 7.75 3.05 6.9 3.05 6.1 3.3 5.4 3.5 4.75 3.95 4.25 4.4 3.75 5.05 3.5 5.7 3.2 6.55 3.2 7.35 3.2 7.95 3.45 8.55 3.7 9.05 4.2 L 8.6 4.85 Q 8.5 4.9 8.45 5 8.35 5.05 8.2 5.05 8.1 5.05 7.95 4.95 7.85 4.9 7.65 4.8 7.5 4.65 7.25 4.6 7 4.5 6.65 4.5 6.2 4.5 5.85 4.7 Z"/>\n          </svg>'},captionsOff:function(e){return'<svg class="cs-icon captions-icon" width="19px" height="16px" viewBox="0 0 19 16" focusable="false" aria-hidden="true">\n            <g>\n              <path d="M 11.45 3.5 Q 10.8 3.75 10.35 4.25 9.9 4.75 9.7 5.4 9.45 6.1 9.45 6.9 9.45 7.75 9.7 8.45 9.95 9.15 10.4 9.65 10.85 10.1 11.4 10.35 12 10.6 12.7 10.6 13.05 10.6 13.45 10.55 13.8 10.5 14.2 10.35 14.55 10.2 14.9 10 15.2 9.75 15.5 9.4 L 15 8.8 Q 14.9 8.65 14.7 8.65 14.55 8.65 14.4 8.75 14.25 8.85 14.1 8.95 13.95 9.1 13.65 9.2 13.4 9.3 13 9.3 12.6 9.3 12.25 9.15 11.95 8.95 11.7 8.65 11.45 8.35 11.35 7.9 11.25 7.45 11.2 6.9 11.2 6.35 11.35 5.9 11.45 5.45 11.65 5.15 11.9 4.85 12.25 4.7 12.6 4.5 13.05 4.5 13.4 4.5 13.65 4.6 13.9 4.65 14.05 4.8 14.25 4.9 14.35 4.95 14.5 5.05 14.6 5.05 14.75 5.05 14.85 5 14.9 4.9 15 4.85 L 15.45 4.2 Q 14.95 3.7 14.35 3.45 13.75 3.2 12.95 3.2 12.1 3.2 11.45 3.5 M 5.6 4.7 Q 5.95 4.5 6.4 4.5 6.75 4.5 7 4.6 7.25 4.65 7.4 4.8 7.6 4.9 7.7 4.95 7.85 5.05 7.95 5.05 8.1 5.05 8.2 5 8.25 4.9 8.35 4.85 L 8.8 4.2 Q 8.3 3.7 7.7 3.45 7.1 3.2 6.3 3.2 5.45 3.2 4.8 3.5 4.15 3.75 3.7 4.25 3.25 4.75 3.05 5.4 2.8 6.1 2.8 6.9 2.8 7.75 3.05 8.45 3.3 9.15 3.75 9.65 4.2 10.1 4.75 10.35 5.35 10.6 6.05 10.6 6.4 10.6 6.8 10.55 7.15 10.5 7.55 10.35 7.9 10.2 8.25 10 8.55 9.75 8.85 9.4 L 8.35 8.8 Q 8.25 8.65 8.05 8.65 7.9 8.65 7.75 8.75 7.6 8.85 7.45 8.95 7.3 9.1 7 9.2 6.75 9.3 6.35 9.3 5.95 9.3 5.6 9.15 5.3 8.95 5.05 8.65 4.8 8.35 4.7 7.9 4.6 7.45 4.55 6.9 4.55 6.35 4.7 5.9 4.8 5.45 5 5.15 5.25 4.85 5.6 4.7 Z" />\n              <path class="icon-stroke-only" stroke-width="1.5" stroke-linejoin="round" stroke-linecap="round" fill="none" d="M 9.5 15.2 L 7.8 13.5 2 13.5 Q 1.35 13.5 0.95 13.05 0.5 12.65 0.5 12 L 0.5 2 Q 0.5 1.35 0.95 0.95 1.35 0.5 2 0.5 L 17 0.5 Q 17.65 0.5 18.05 0.95 18.5 1.35 18.5 2 L 18.5 12 Q 18.5 12.65 18.05 13.05 17.65 13.5 17 13.5 L 11.2 13.5 9.5 15.2 Z" />\n            </g>\n          </svg>'},captions:function(){return'\n    <svg class="cs-icon captions-icon" width="19px" height="16px" viewBox="0 0 19 16" focusable="false" aria-hidden="true">\n      <g>\n        <path d="M 11.45 3.5 Q 10.8 3.75 10.35 4.25 9.9 4.75 9.7 5.4 9.45 6.1 9.45 6.9 9.45 7.75 9.7 8.45 9.95 9.15 10.4 9.65 10.85 10.1 11.4 10.35 12 10.6 12.7 10.6 13.05 10.6 13.45 10.55 13.8 10.5 14.2 10.35 14.55 10.2 14.9 10 15.2 9.75 15.5 9.4 L 15 8.8 Q 14.9 8.65 14.7 8.65 14.55 8.65 14.4 8.75 14.25 8.85 14.1 8.95 13.95 9.1 13.65 9.2 13.4 9.3 13 9.3 12.6 9.3 12.25 9.15 11.95 8.95 11.7 8.65 11.45 8.35 11.35 7.9 11.25 7.45 11.2 6.9 11.2 6.35 11.35 5.9 11.45 5.45 11.65 5.15 11.9 4.85 12.25 4.7 12.6 4.5 13.05 4.5 13.4 4.5 13.65 4.6 13.9 4.65 14.05 4.8 14.25 4.9 14.35 4.95 14.5 5.05 14.6 5.05 14.75 5.05 14.85 5 14.9 4.9 15 4.85 L 15.45 4.2 Q 14.95 3.7 14.35 3.45 13.75 3.2 12.95 3.2 12.1 3.2 11.45 3.5 M 5.6 4.7 Q 5.95 4.5 6.4 4.5 6.75 4.5 7 4.6 7.25 4.65 7.4 4.8 7.6 4.9 7.7 4.95 7.85 5.05 7.95 5.05 8.1 5.05 8.2 5 8.25 4.9 8.35 4.85 L 8.8 4.2 Q 8.3 3.7 7.7 3.45 7.1 3.2 6.3 3.2 5.45 3.2 4.8 3.5 4.15 3.75 3.7 4.25 3.25 4.75 3.05 5.4 2.8 6.1 2.8 6.9 2.8 7.75 3.05 8.45 3.3 9.15 3.75 9.65 4.2 10.1 4.75 10.35 5.35 10.6 6.05 10.6 6.4 10.6 6.8 10.55 7.15 10.5 7.55 10.35 7.9 10.2 8.25 10 8.55 9.75 8.85 9.4 L 8.35 8.8 Q 8.25 8.65 8.05 8.65 7.9 8.65 7.75 8.75 7.6 8.85 7.45 8.95 7.3 9.1 7 9.2 6.75 9.3 6.35 9.3 5.95 9.3 5.6 9.15 5.3 8.95 5.05 8.65 4.8 8.35 4.7 7.9 4.6 7.45 4.55 6.9 4.55 6.35 4.7 5.9 4.8 5.45 5 5.15 5.25 4.85 5.6 4.7 Z" />\n        <path class="icon-stroke-only" stroke-width="1.5" stroke-linejoin="round" stroke-linecap="round" fill="none" d="M 9.5 15.2 L 7.8 13.5 2 13.5 Q 1.35 13.5 0.95 13.05 0.5 12.65 0.5 12 L 0.5 2 Q 0.5 1.35 0.95 0.95 1.35 0.5 2 0.5 L 17 0.5 Q 17.65 0.5 18.05 0.95 18.5 1.35 18.5 2 L 18.5 12 Q 18.5 12.65 18.05 13.05 17.65 13.5 17 13.5 L 11.2 13.5 9.5 15.2 Z" />\n      </g>\n    </svg>'},carrot:function(e){return'\n    <svg style="left:calc('.concat(e,');" class="cs-icon cs-icon-carrot carrot"width="30" height="30" viewBox="0 0 30 30" focusable="false" aria-hidden="true">\n      <g transform="translate(8, 8)">\n        <polygon style="fill:currentColor !important" points="1,1.5 5,5 1,8.5"/>\n      </g>\n  </svg>')},search:function(){return'\n    <svg class="search-icon" width="13px" height="15px" viewBox="0 0 13 15" focusable="false" aria-hidden="true"\n      <g fill="none" fill-rule="evenodd">\n        <g stroke-width="2">\n          <circle cx="5.6" cy="5.6" r="4.6"/>\n          <path d="M8 9l4 5"/>\n        </g>\n      </g>\n    </svg>\n    '},searchClear:function(){return'\n    <svg class="cs-icon icon" width="11px" height="11px" viewBox="0 0 11 11">\n    <g id="Desktop-Color-Contrast" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="Search" transform="translate(-290.000000, -69.000000)" fill="fill:currentColor !important" fill-rule="nonzero">\n            <g id="search" transform="translate(13.000000, 59.000000)">\n                <polygon id="ic_close" points="286.777666 10 282.500215 14.2779053 278.222334 10 277 11.2222382 281.277881 15.5002869 277 19.7779053 278.222334 21 282.500215 16.7222382 286.777666 21 288 19.7779053 283.722119 15.5002869 288 11.2222382"></polygon>\n            </g>\n        </g>\n    </g>\n    </svg>\n    '},filter:function(){return'<svg class="cs-icon icon-gear" width="14" height="14" viewBox="0 0 14 14" focusable="false" aria-hidden="true">\n    <path id="icon-gear" transform="translate(0,3)" d="M11.1,9.8C11.1,9.8,11.1,9.8,11.1,9.8C11.1,9.8,11.1,9.7,11.1,9.8c0-0.1,0.1-0.1,0.1-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0-0.1,0.1-0.1c0,0,0,0,0,0c0-0.1,0.1-0.1,0.1-0.2c0,0,0,0,0,0c0-0.1,0-0.1,0.1-0.2c0,0,0,0,0,0c0.1-0.2,0.2-0.5,0.2-0.7l2-0.4V6.4l-2-0.4c0-0.3-0.1-0.5-0.2-0.7c0,0,0,0,0,0c0-0.1,0-0.1-0.1-0.2c0,0,0,0,0,0c0-0.1,0-0.1-0.1-0.2c0,0,0,0,0,0c0,0,0-0.1-0.1-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0l1.2-1.7l-0.9-0.9L9.7,2.8c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0-0.1,0-0.1-0.1c0,0,0,0,0,0c-0.1,0-0.1-0.1-0.2-0.1c0,0,0,0,0,0c-0.1,0-0.1,0-0.2-0.1c0,0,0,0,0,0C8.3,2.1,8.1,2.1,7.8,2L7.4,0H6.2L5.9,2c-0.3,0-0.5,0.1-0.7,0.2c0,0,0,0,0,0C5,2.3,5,2.3,4.9,2.3c0,0,0,0,0,0c-0.1,0-0.1,0-0.2,0.1c0,0,0,0,0,0c0,0-0.1,0-0.1,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0L2.3,1.6L1.4,2.5l1.2,1.7c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0.1-0.1,0.1c0,0,0,0,0,0C2.2,5,2.2,5,2.2,5.1c0,0,0,0,0,0c0,0.1,0,0.1-0.1,0.2c0,0,0,0,0,0C2,5.5,1.9,5.8,1.9,6l-2,0.4v1.2l2,0.4c0,0.3,0.1,0.5,0.2,0.7c0,0,0,0,0,0c0,0.1,0,0.1,0.1,0.2c0,0,0,0,0,0c0,0.1,0,0.1,0.1,0.2c0,0,0,0,0,0c0,0,0,0.1,0.1,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0l-1.2,1.7l0.9,0.9L4,11.2c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0.1,0,0.1,0.1c0,0,0,0,0,0c0.1,0,0.1,0.1,0.2,0.1c0,0,0,0,0,0c0.1,0,0.1,0,0.2,0.1c0,0,0,0,0,0c0.2,0.1,0.5,0.2,0.7,0.2l0.4,2h1.2l0.4-2c0.3,0,0.5-0.1,0.7-0.2c0,0,0,0,0,0c0.1,0,0.1,0,0.2-0.1c0,0,0,0,0,0c0.1,0,0.1,0,0.2-0.1c0,0,0,0,0,0c0,0,0.1,0,0.1-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0l1.7,1.2l0.9-0.9L11.1,9.8C11,9.8,11,9.8,11.1,9.8C11,9.8,11.1,9.8,11.1,9.8z M6.8,9.2c-1.2,0-2.2-1-2.2-2.2c0-1.2,1-2.2,2.2-2.2C8,4.8,9,5.8,9,7C9,8.2,8,9.2,6.8,9.2z"/>\n  </svg>'},close:function(){return'\n    <svg class="cs-icon icon-close" width="20" height="20" viewBox="0 0 36 36" focusable="false" aria-hidden="true">\n      <polygon points="36,2.826 33.174,0 18,15.174 2.826,0 0,2.826 15.174,18 0,33.174 2.826,36 18,20.826 33.174,36 36,33.174 20.826,18" />\n    </svg>'},clear:function(){return'<svg class="cs-icon icon-clear" width="13" height="14" viewBox="0 0 13 14" focusable="false" aria-hidden="true">\n    <use xlink:href="#icon-clear" fill="rgba(240, 240, 240, 1)" transform="translate(0, 1)" />\n    <path id="icon-clear" transform="translate(3,3)" d="M6.5,0C2.9,0,0,2.9,0,6.5C0,10.1,2.9,13,6.5,13c3.6,0,6.5-2.9,6.5-6.5C13,2.9,10.1,0,6.5,0z M1.5,6.5c0-2.8,2.2-5,5-5c1.2,0,2.4,0.5,3.2,1.2L2.2,9.1C1.8,8.3,1.5,7.5,1.5,6.5z M6.5,11.5c-1.2,0-2.3-0.5-3.2-1.2L10.8,4c0.4,0.7,0.7,1.6,0.7,2.5C11.5,9.3,9.3,11.5,6.5,11.5z"/>\n  </svg>'},hamburger:function(){return'\n    <svg class="cs-icon" width="30px" height="12px" viewBox="0 10 30 12" focusable="false" aria-hidden="true">\n      <path transform="translate(0, 1)" d="M0,15 L17,15 L17,17 L0,17 L0,15 Z M0,11 L17,11 L17,13 L0,13 L0,11 Z M0,19 L17,19 L17,21 L0,21 L0,19 Z" ></path>\n    </svg>\n  '},file:function(){return'\n    <svg width="20px" height="27px" viewBox="0 0 40 50" role="presentation" focusable="false" aria-hidden="true">\n      <g stroke="none" strokeWidth="1" fill="none" fillRule="evenodd">\n        <g>\n          <path class="file-icon-bg" d="M2.00804893,0 C0.899034128,0 0,0.889064278 0,1.99091407 L0,48.0090859 C0,49.1086374 0.892756032,50 1.99862555,50 L37.2170607,50 C38.3208711,50 39.2156863,49.1011186 39.2156863,47.993136 L39.2156863,13.6363636 L26.1437908,0 L2.00804893,0 Z"></path>\n          <path class="file-icon-fold" d="M26.1437908,0 L26.1437908,11.7296861 C26.1437908,12.8319383 27.0422752,13.7254902 28.1433598,13.7254902 L39.2156863,13.7254902"></path>\n        </g>\n      </g>\n    </svg>'},link:function(e){return'\n  <svg class="link-icon" preserveAspectRatio="none" x="0px" y="0px" width="18px" height="18px" viewBox="0 0 18 18" role="presentation" focusable="false" aria-hidden="true">\n      <path fill="'.concat(e,'" stroke="none" d="\n            M 1.45 8.5\n            Q 0.0453125 10.0015625 0 11.9\n            L 0 12.15\n            Q 0.0453125 14.0484375 1.45 15.55\n            L 1.5 15.6\n            Q 3.0015625 17.0046875 4.85 17.05\n            L 5.1 17.05\n            Q 7.0150390625 17.0046875 8.5 15.6\n            L 10.65 13.45\n            Q 10.95 13.15 10.95 12.75 10.95 12.35 10.65 12.05 10.3689453125 11.7689453125 10 11.75\n            L 9.95 11.75\n            Q 9.55 11.75 9.2 12.05\n            L 7.1 14.15\n            Q 6.2 15.05 5 15.05 3.8 15.05 2.9 14.15 2 13.25 2 12.05 2 10.8826171875 2.85 9.95\n            L 5 7.8\n            Q 5.3 7.5 5.3 7.1\n            L 5.3 7.05\n            Q 5.2810546875 6.6810546875 5 6.4 4.7 6.1 4.3 6.1 3.9 6.1 3.55 6.4\n            L 1.45 8.5\n            M 12.05 5\n            Q 11.75 4.7 11.35 4.7 10.95 4.7 10.65 5\n            L 5 10.65\n            Q 4.7 10.95 4.7 11.35 4.7 11.75 5 12.05 5.3 12.35 5.7 12.35 6.1 12.35 6.4 12.05\n            L 12.05 6.4\n            Q 12.35 6.1 12.35 5.7 12.35 5.3 12.05 5\n            M 15.6 1.5\n            L 15.55 1.45\n            Q 14 0 12.05 0\n            L 12 0\n            Q 10.05 0 8.5 1.45\n            L 6.4 3.55\n            Q 6.1 3.9 6.1 4.3 6.1 4.7 6.4 5 6.7 5.3 7.1 5.3 7.5 5.3 7.8 5\n            L 9.95 2.85\n            Q 10.8826171875 2 12.05 2 13.25 2 14.15 2.9 15.05 3.8 15.05 5 15.05 6.2 14.15 7.1\n            L 12.05 9.2\n            Q 11.75 9.55 11.75 9.95 11.75 10.35 12.05 10.65 12.35 10.95 12.75 10.95 13.15 10.95 13.45 10.65\n            L 15.6 8.5\n            Q 17.05 6.96875 17.05 5 17.05 3.05 15.6 1.5 Z"/>\n          </svg>')},settings:function(){return'\n    <svg class="cs-icon" data-ref="settings" width="16px" height="16px" viewBox="0 0 16 16" focusable="false" aria-hidden="true">\n      <path d="M8.94,0 C9.82,0 10.55,0.62 10.63,1.45 L10.73,2.36 C11.1,2.52 11.45,2.71 11.78,2.94 L12.66,2.56 C13.46,2.22 14.39,2.5 14.83,3.23 L15.77,4.77 C16.21,5.5 16,6.4 15.29,6.9 L14.51,7.42 C14.54,8.19 14.53,8.38 14.51,8.58 L15.29,9.11 C16,9.6 16.21,10.51 15.77,11.23 L14.83,12.77 C14.39,13.49 13.46,13.78 12.66,13.44 L11.78,13.06 C11.45,13.29 11.1,13.48 10.73,13.64 L10.63,14.55 C10.55,15.38 9.82,16 8.94,16 L7.06,16 C6.18,16 5.45,15.38 5.37,14.55 L5.27,13.64 C4.9,13.48 4.55,13.29 4.22,13.06 L3.34,13.44 C2.54,13.78 1.61,13.5 1.17,12.77 L0.23,11.23 C-0.21,10.51 0,9.6 0.71,9.11 L1.49,8.58 C1.46,7.81 1.47,7.62 1.49,7.42 L0.71,6.89 C0,6.40 -0.21,5.49 0.23,4.77 L1.17,3.23 C1.61,2.51 2.54,2.22 3.34,2.56 L4.22,2.94 C4.55,2.71 4.9,2.52 5.27,2.36 L5.37,1.45 C5.45,0.62 6.18,0 7.06,0 Z M7.96,4.53 C5.91,4.53 4.25,6.11 4.25,8.06 C4.25,10.01 5.91,11.59 7.96,11.59 C10.02,11.59 11.68,10.01 11.68,8.06 C11.68,6.11 10.02,4.53 7.96,4.53 Z"></path>\n    </svg>\n    '},playbackSpeed:function(){return'\n    <svg class="cs-icon" width="15" height="15" viewBox="0 0 15 15" focusable="false" aria-hidden="true">\n      <path d="M5.9 4.0L10.4 7.4L5.9 10.8V4.0ZM1.5 8.2H0.0C0.1 9.6 0.6 10.9 1.5 12.0L2.6 11.0C2.0 10.1 1.6 9.2 1.5 8.2H1.5ZM15 7.4H14.9C14.9 5.6 14.3 3.8 13.0 2.4C11.8 1.0 10.0 0.1 8.2 0.0V1.5C10.1 1.7 11.8 2.9 12.8 4.7C13.7 6.4 13.7 8.5 12.8 10.2C11.8 12.0 10.1 13.1 8.2 13.4V14.9C10.0 14.7 11.8 13.8 13.0 12.5C14.3 11.1 14.9 9.3 14.9 7.4L15 7.4ZM3.6 12.1L2.5 13.1C3.7 14.1 5.1 14.8 6.7 14.9V13.4V13.4C5.5 13.3 4.5 12.8 3.6 12.1V12.1ZM2.6 3.9L1.5 2.8C0.6 3.9 0.1 5.3 0 6.7H1.5H1.5C1.6 5.7 2.0 4.7 2.6 3.9H2.6ZM6.7 1.5V0.0C5.1 0.1 3.7 0.7 2.5 1.7L3.6 2.8C4.5 2.1 5.5 1.6 6.7 1.5V1.5Z" stroke="none" />\n    </svg>\n  '},track:function(e,t){return'\n    <svg xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="16px" viewBox="0 0 24 16" focusable="false" aria-hidden="true">\n      <defs>\n        <rect id="'.concat(t,'-track" x="2" y="3.5" width="20" height="9" rx="4.5"></rect>\n        <filter x="-12.5%" y="-27.8%" width="125.0%" height="155.6%" filterUnits="objectBoundingBox" id="').concat(t,'-trackFilter">\n          <feGaussianBlur stdDeviation="1.5" in="SourceAlpha" result="shadowBlurInner1"></feGaussianBlur>\n          <feOffset dx="0" dy="1" in="shadowBlurInner1" result="shadowOffsetInner1"></feOffset>\n          <feComposite in="shadowOffsetInner1" in2="SourceAlpha" operator="arithmetic" k2="-1" k3="1" result="shadowInnerInner1"></feComposite>\n          <feColorMatrix values="0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.5 0" type="matrix" in="shadowInnerInner1"></feColorMatrix>\n        </filter>\n      </defs>\n      <g class="thumb-off" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g>\n          <use class="track" fill-rule="evenodd" xlink:href="#').concat(t,'-track"></use>\n          <use fill="black" fill-opacity="1" filter="url(#').concat(t,'-trackFilter)" xlink:href="#').concat(t,'-track"></use>\n          <use class="border" stroke-width="1" xlink:href="#').concat(t,'-track"></use>\n          <circle class="thumb" stroke-width="0" cx="8" cy="8" r="6"></circle>\n        </g>\n      </g>\n      <g class="thumb-on" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g>\n          <use class="track" fill-rule="evenodd" xlink:href="#').concat(t,'-track"></use>\n          <use fill="black" fill-opacity="1" filter="url(#').concat(t,'-trackFilter)" xlink:href="#').concat(t,'-track"></use>\n          <use class="border" stroke-width="1" xlink:href="#').concat(t,'-track"></use>\n          <circle fill="').concat(e,'" stroke-width="0" cx="16" cy="8" r="6"></circle>\n        </g>\n      </g>\n    </svg>\n  ')},downArrow:function(e,t){return'\n    <div style="height: 100%; width: 100%; background-color: '.concat(e,"; border-right: 1px solid; border-bottom: 1px solid; border-color: ").concat(t,'; border-bottom-right-radius: 3px; transform: rotate(45deg);" />\n    ')},checkmark:function(){return'<svg  class="cs-icon check-icon" focusable="false" aria-hidden="true" width="16px" height="16px" viewBox="0 0 16 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n          <polygon style="fill:currentColor !important" points="12.04 4 13.45 5.41 6.25 12.62 2 8.36 3.41 6.95 6.25 9.79"></polygon>\n      </g>\n    </svg>'},lock:function(){return'<svg width="16px" height="12px" viewBox="0 0 9 12" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g fill="#FFFFFF" fill-rule="nonzero">\n            <path style="fill:currentColor !important" d="M7.875,4 L7.3125,4 L7.3125,2.85714286 C7.3125,1.28 6.0525,0 4.5,0 C2.9475,0 1.6875,1.28 1.6875,2.85714286 L1.6875,4 L1.125,4 C0.50625,4 0,4.51428571 0,5.14285714 L0,10.8571429 C0,11.4857143 0.50625,12 1.125,12 L7.875,12 C8.49375,12 9,11.4857143 9,10.8571429 L9,5.14285714 C9,4.51428571 8.49375,4 7.875,4 Z M6.24375,4 L2.75625,4 L2.75625,2.85714286 C2.75625,1.88 3.538125,1.08571429 4.5,1.08571429 C5.461875,1.08571429 6.24375,1.88 6.24375,2.85714286 L6.24375,4 Z"></path>\n        </g>\n    </g>\n</svg>'},lockedViewed:function(){return'<svg width="16px" height="12px" viewBox="0 0 9 12" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g fill="#FFFFFF" fill-rule="nonzero">\n            <path style="fill:currentColor !important" d="M7.875,4 L7.3125,4 L7.3125,2.85714286 C7.3125,1.28 6.0525,0 4.5,0 C2.9475,0 1.6875,1.28 1.6875,2.85714286 L1.6875,4 L1.125,4 C0.50625,4 0,4.51428571 0,5.14285714 L0,10.8571429 C0,11.4857143 0.50625,12 1.125,12 L7.875,12 C8.49375,12 9,11.4857143 9,10.8571429 L9,5.14285714 C9,4.51428571 8.49375,4 7.875,4 Z M7.11248548,6.17405922 C7.38175483,6.47268397 7.38175483,6.92847965 7.0966461,7.21138731 L4.53066757,9.75755627 C4.38811321,9.8990101 4.19804072,9.96187847 4.02380761,9.96187847 C3.83373513,9.96187847 3.65950202,9.8990101 3.51694766,9.75755627 L2.34544071,8.45018243 C2.06033199,8.16727477 2.06033199,7.71147909 2.34544071,7.42857143 C2.63054944,7.14566377 3.08989127,7.14566377 3.375,7.42857143 L4.02380761,8.21728122 L6.08292619,6.17405922 C6.36803491,5.89115155 6.82737675,5.89115155 7.11248548,6.17405922 Z M4.5,1.08571429 C5.461875,1.08571429 6.24375,1.88 6.24375,2.85714286 L6.24375,4 L2.75625,4 L2.75625,2.85714286 C2.75625,1.88 3.538125,1.08571429 4.5,1.08571429 Z"></path>\n        </g>\n    </g>\n</svg>'},languagePicker:function(){return'\n<svg class="cs-icon" viewBox="0 0 48 48" width="16" height="16" xmlns="http://www.w3.org/2000/svg">\n  <path d="M23.99 4c-11.05 0-19.99 8.95-19.99 20s8.94 20 19.99 20c11.05 0 20.01-8.95 20.01-20s-8.96-20-20.01-20zm13.85 12h-5.9c-.65-2.5-1.56-4.9-2.76-7.12 3.68 1.26 6.74 3.81 8.66 7.12zm-13.84-7.93c1.67 2.4 2.97 5.07 3.82 7.93h-7.64c.85-2.86 2.15-5.53 3.82-7.93zm-15.48 19.93c-.33-1.28-.52-2.62-.52-4s.19-2.72.52-4h6.75c-.16 1.31-.27 2.64-.27 4 0 1.36.11 2.69.28 4h-6.76zm1.63 4h5.9c.65 2.5 1.56 4.9 2.76 7.13-3.68-1.26-6.74-3.82-8.66-7.13zm5.9-16h-5.9c1.92-3.31 4.98-5.87 8.66-7.13-1.2 2.23-2.11 4.63-2.76 7.13zm7.95 23.93c-1.66-2.4-2.96-5.07-3.82-7.93h7.64c-.86 2.86-2.16 5.53-3.82 7.93zm4.68-11.93h-9.36c-.19-1.31-.32-2.64-.32-4 0-1.36.13-2.69.32-4h9.36c.19 1.31.32 2.64.32 4 0 1.36-.13 2.69-.32 4zm.51 11.12c1.2-2.23 2.11-4.62 2.76-7.12h5.9c-1.93 3.31-4.99 5.86-8.66 7.12zm3.53-11.12c.16-1.31.28-2.64.28-4 0-1.36-.11-2.69-.28-4h6.75c.33 1.28.53 2.62.53 4s-.19 2.72-.53 4h-6.75z"/>\n</svg>\n  '}},Ga={play:function(){return'<svg id="icon-play" class="cs-icon play-icon" width="14" height="16" viewBox="0 0 14 16" focusable="false" aria-hidden="true">\n    <path d="M1.4 15.4C0.8 15.8 0 15.3 0 14.5L0 1.4C0 0.6 0.8 0.1 1.4 0.5L12.9 7.1C13.5 7.5 13.5 8.4 12.9 8.8L8.0 11.6L1.4 15.4Z" stroke="none" />\n  </svg>'}},Qa=function(e){return DS.detection.env.isPerpetual?Ka[e]||Za:Ga[e]||Ka[e]||Za};function qa(e){return qa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qa(e)}function Ya(e){return function(e){if(Array.isArray(e))return Ja(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||$a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,a,l=[],s=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(i=o.call(n)).done)&&(l.push(i.value),l.length!==t);s=!0);}catch(e){c=!0,r=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw r}}return l}}(e,t)||$a(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $a(e,t){if(e){if("string"==typeof e)return Ja(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ja(e,t):void 0}}function Ja(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function el(e,t){return el=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},el(e,t)}function tl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=il(e);if(t){var r=il(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===qa(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return nl(e)}(this,n)}}function nl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function il(e){return il=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},il(e)}function rl(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==qa(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==qa(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===qa(o)?o:String(o)),i)}var r,o}function ol(e,t,n){return t&&rl(e.prototype,t),n&&rl(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function al(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var ll=function(e){return t(e.slideid)},sl=DS,cl=sl.windowManager,ul=sl.focusManager,fl=sl.TweenLite,dl=sl.events,hl=sl.pubSub,pl=sl.keyManager,yl=sl.resolver,bl=sl.dom,vl=(bl.hasClass,bl.removeClass),ml=bl.addClass,gl=bl.getParentWithClass,wl=sl._,Sl=wl.bindAll,kl=(wl.first,sl.utils),Ol=kl.stripTags,Cl=(kl.stripPlayer,kl.prefixWithPlayer),El=sl.globalEventHelper,Ll=El.addDocumentListener,Tl=(El.removeDocumentListener,sl.detection),xl=Tl.theme,Pl=Tl.os,Il=ol((function e(t,n,i){al(this,e),this.slideId=t,this.title=n,this.text=i})),_l=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&el(e,t)}(n,e);var t=tl(n);function n(e){var i;al(this,n),i=t.call(this,e),Sl(nl(i),"traverseLinks","performSearch","onSlideChanged","onClear","onReset","loadSlideBankSearchData"),i.animationDuration=.2;var r=X.model.frame.notesData||[];return i.notesBySlideId=r.map((function(e){return new Il(Cl(e.slideId),DS.utils.getPath(yl.resolvePath(e.slideId,DS.presentation),"title"),Ol(e.content).trim())})),i.slideTextData=X.model.frame.navData.search||[],i.slideTextBySlideId=i.slideTextData.filter((function(e){return!e.slidebank})).map((function(e){return new Il(Cl(e.slideid),DS.utils.getPath(yl.resolvePath(e.slideid,DS.presentation),"title"),Ol(e.Text).trim())})),i.menuOptions=X.model.frame.controlOptions.menuOptions,i.wrapListItems=i.menuOptions.wrapListItems,i.links=X.model.frame.navData.outline.links,i.hasSlideBankSlides=i.slideTextData.some((function(e){return e.slidebank})),i.hasSlideBankSlides&&hl.on(dl.player.RESET,i.onReset),null!=i.clearEl&&i.onClickEl(i.clearEl,i.onClear),hl.on(dl.search.CLEAR,i.onClear),i.onClickEl(i.searchFilterEl,i.onToggleSearchOptions),i.onClick(i.onClickLink),hl.on(dl.window.MAIN_CHANGED,i.onSlideChanged),i}return ol(n,[{key:"loadSlideBankSearchData",value:function(){this.slideBankTextBySlideId=this.slideTextData.filter((function(e){return e.slidebank})).reduce((function(e,t){var n=yl.getSlideBankSlideInstance(t.slideid);return null!==n&&e.push(new Il(n.absoluteId,n.title(),Ol(t.Text))),e}),[])}},{key:"teardown",value:function(){hl.off(dl.window.MAIN_CHANGED,this.onSlideChanged),window.globals.HAS_SLIDE&&hl.off(dl.search.CLEAR,this.onClear)}},{key:"onSlideChanged",value:function(e){var t=this.resultsEl.querySelector(".cs-selected"),n=this.resultsEl.querySelector('[data-slide-id="'.concat(e.absoluteId,'"]'));null!=t&&vl(t,"cs-selected"),null!=n&&(ml(n,"cs-selected"),ml(n,"cs-viewed"),this.updateAriaLabel(n))}},{key:"onReset",value:function(){this.onClear(),this.loadSlideBankSearchData()}},{key:"onFocus",value:function(e){e.relatedTarget;var t=e.target;if(this.el.contains(t)){if(t===this.searchFilterEl||t===this.clearEl)return ul.setFocusRectOn(t),this.isFocused=!1,!1;if(t===this.notesCheckEl||t===this.slideCheckEl)return ul.setFocusRectOn(t.parentElement),this.isFocused=!1,!1;if(!this.isFocused&&(!xl.isUnified||pl.isShowFocus)){var n=Xa(this.getItems(),1)[0];this.isFocused=!0,null!=n&&(this.currentItem=n,this.lastSelected!==this.currentItem&&this.focusOnCurrent(),Ll("keydown",this.onKeydown))}}return!1}},{key:"getIsSearchVisible",value:function(){return this.searchOptionsEl.classList.contains("visible")}},{key:"setCheckboxesVisible",value:function(e){this.notesCheckEl.hidden=e,this.slideCheckEl.hidden=e}},{key:"onToggleSearchOptions",value:function(e){var t=this,n=this.getIsSearchVisible(),i=n?"remove":"add";this.searchOptionsEl.classList[i]("visible"),n?(clearTimeout(this.checkBoxTimeout),this.checkBoxTimeout=setTimeout((function(){t.setCheckboxesVisible(n)}),200)):this.setCheckboxesVisible(n)}},{key:"onClickLink",value:function(e){if("locked"!==this.menuOptions.flow){var t=gl(e.target,"listitem"),n=t.dataset.slideId;null==n||"restricted"===this.menuOptions.flow&&!e.target.classList.contains("cs-viewed")||(ml(t,"cs-viewed"),this.updateAriaLabel(t),hl.trigger(dl.request.NEXT_SLIDE,n))}}},{key:"updateAriaLabel",value:function(e){xl.isUnified&&Ya(e.querySelector(".outline-states").children).forEach((function(t){if("none"===window.getComputedStyle(t).display);else{var n=t.getAttribute("aria-label"),i=e.getAttribute("data-slide-title");e.children[0].textContent=i+" "+n}}))}},{key:"traverseLinks",value:function(e){for(var t=0;t<e.length;t++){var n=e[t];ll(n)||this.searchResults.has(n.slideid)||(this.noSearchTerm||n.displaytext.toLowerCase().indexOf(this.term)>=0)&&this.searchResults.set(n.slideid,n.displaytext),null!=n.links&&this.traverseLinks(n.links)}}},{key:"getDefaultSate",value:function(e){var t=cl.getCurrentWindow().getCurrentSlide().absoluteId===e||yl.resolvePath(e).viewed,n=this.menuOptions.flow;if(t)switch(n){case"free":case"restricted":return X.model.getString("acc_visited");case"locked":return"".concat(X.model.getString("acc_visited"),", ").concat(X.model.getString("acc_locked"))}else switch(n){case"free":return"";case"restricted":case"locked":return X.model.getString("acc_locked")}}},{key:"performSearch",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(!window.globals.HAS_SLIDE)return 0;this.term=t.toLowerCase(),this.items=null,this.noSearchTerm=""===t,this.searchResults=new Map,this.resultsEl.innerHTML="",this.slideTextEnabled=this.slideCheckEl.checked,this.notesEnabled=this.notesCheckEl.checked;var n=X.model.frame.navData.links;null!=n&&this.traverseLinks(n),this.hasSlideBankSlides&&void 0===this.slideBankTextBySlideId&&this.loadSlideBankSearchData();var i=function(t){t.forEach((function(t){(t.text.toLowerCase().indexOf(e.term)>=0||t.title.toLowerCase().indexOf(e.term)>=0)&&e.searchResults.set(t.slideId,t.title)}))},r=!this.noSearchTerm;this.slideTextEnabled&&r&&i(this.slideTextBySlideId),this.hasSlideBankSlides&&r&&i(this.slideBankTextBySlideId),this.notesEnabled&&r&&i(this.notesBySlideId);Pl.isIOS;var o=this.wrapListItems?"":"no-wrap",a=cl.getCurrentWindow().getCurrentSlide().absoluteId,l=0;return this.searchResults.forEach((function(t,n){0;var i=a===n?"cs-selected":"",r=document.createElement("li"),s=yl.resolvePath(n).viewed?"cs-viewed":"",c=e.menuOptions.flow,u=e.getDefaultSate(n),f='\n      <div role="menuitem" class="cs-listitem listitem '.concat(i," ").concat(o," ").concat(s," ").concat("free"!==c&&"cs-"+c,'"\n           data-slide-id="').concat(n,'"\n           data-slide-title="').concat(t,'"\n           tabindex="').concat(l,'"\n           role = "treeitem">\n          <span style="position: absolute; opacity: 0;">').concat(t," ").concat(u,"</span>");xl.isUnified?f+='\n           <span class="linkText" aria-hidden="true">\n             '.concat(t,'\n           </span>\n           <span class="outline-states" aria-hidden="true">\n             <span class="visitedIcon" aria-label="').concat(X.model.getString("acc_visited"),'">\n               ').concat(Qa("checkmark")(),'\n             </span>\n             <span class="lockedIcon" aria-label="').concat(X.model.getString("acc_locked"),'">\n               ').concat(Qa("lock")(),'\n             </span>\n             <span class="lockedViewedIcon" aria-label="').concat(X.model.getString("acc_visited"),", ").concat(X.model.getString("acc_locked"),'">\n               ').concat(Qa("lockedViewed")(),"\n             </span>\n           </span>\n        </div>\n      "):f+="\n             ".concat(t,"\n        </div>"),r.innerHTML=f,e.resultsEl.appendChild(r),l=-1})),this.searchResults.size}},{key:"onClear",value:function(){var e=this,t=this.view.parent.children,n=t.outline,i=t.search;this.outlineUl=this.outlineUl||document.querySelector("#outline-content ul"),n.setVisibility(!0),fl.to(this.el,this.animationDuration,{alpha:0,onComplete:function(){fl.to(e.outlineUl,e.animationDuration,{alpha:1}),e.view.setVisibility(!1),i.children.bottomDiv.el.style.opacity=1,pl.isShowFocus&&e.el.contains(document.activeElement)&&n.el.focus()}}),this.term="",i.children.searchInput.el.value="",vl(document.body,"search-results-active"),hl.trigger(dl.search.UPDATE_PANEL)}},{key:"hasListItems",value:function(){return!_.isEmpty(this.getItems())}},{key:"getItems",value:function(){return this.items=this.items||Ya(this.el.querySelectorAll(".cs-listitem")),this.items}},{key:"activateItem",value:function(){this["locked"!==this.menuOptions.flow?"onClickLink":"onCarrotClick"]({target:this.currentItem})}},{key:"findIndexCb",value:function(e,t){return e===t}},{key:"getItemContent",value:function(){return this.currentItem}},{key:"onAfterVisible",value:function(){this.view.parent.children.outline.setVisibility(!1)}}]),n}(za),jl=_l;function Dl(e){return Dl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dl(e)}function Al(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==Dl(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Dl(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===Dl(o)?o:String(o)),i)}var r,o}function Rl(){return Rl="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Nl(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},Rl.apply(this,arguments)}function Bl(e,t){return Bl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Bl(e,t)}function Ml(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Nl(e);if(t){var r=Nl(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Dl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Hl(e)}(this,n)}}function Hl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nl(e){return Nl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Nl(e)}var Fl=DS,Vl=Fl.pubSub,Ul=Fl.events,Wl=Fl.utils.toSeconds,zl=Fl.constants.MOBILE_ANIMATION_DURATION,Zl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bl(e,t)}(o,e);var t,n,i,r=Ml(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),_.bindAll(Hl(t),"onClear"),t.animationDuration=Wl(zl),Vl.on(Ul.sidebar.HIDE_SEARCH,t.onClear),t}return t=o,(n=[{key:"onClear",value:function(){Rl(Nl(o.prototype),"onClear",this).call(this)}},{key:"onClickLink",value:function(e){Rl(Nl(o.prototype),"onClickLink",this).call(this,e),Vl.trigger(Ul.tab.HIDE),Vl.trigger(Ul.sidebar.CLOSE),Vl.trigger(Ul.topEllipsesPanel.HIDE)}}])&&Al(t.prototype,n),i&&Al(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(jl);function Kl(e){return Kl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kl(e)}function Gl(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Kl(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Kl(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Kl(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ql="searchResults",ql=X.def(Ql,Zl,(function(e){var t,n=X.model,i=n.rtl?"rtl":"";return Gl(t={attrs:{id:Ql+"-content",class:"cs-menu cs-panel panel".concat(i),tabindex:-1},z:2,x:0,y:0,w:"100%"},"y",(function(){return 48})),Gl(t,"h",(function(){return this.parent.h})),Gl(t,"visible",!1),Gl(t,"html",'\n     <div class="outline-title">'.concat(n.title.text,'</div>\n      <span class="cs-outline search-content">\n        <div style="display:none">\n          <span class="flex-static-auto">\n            <h4 data-ref="title" class=\'cs-heading search-heading panel-section-heading\'>\n              ').concat(n.getString("search_results"),'\n            </h4>\n            <button class="btn-unstyled search-filter cs-search-filter" tabindex="0" data-ref="searchFilter">\n              <span>').concat(n.getString("filter"),"</span>\n              ").concat(Dn("filter")(),'\n            </button>\n          </span>\n          \n          <div class="search-options flex-static-auto" data-ref="searchOptions">\n            <p>').concat(n.getString("search_in"),'</p>\n            <label>\n              <input data-ref="notesCheck" type="checkbox" checked>\n              <span>').concat(n.getString("transcript_chk"),'</span>\n            </label>\n            <label>\n              <input data-ref="slideCheck" type="checkbox" checked>\n              <span>').concat(n.getString("slide_text_chk"),'</span>\n            </label>\n          </div>\n        </div>\n        <div class="search-results is-scrollable" tabindex="0" data-ref="searchResults">\n          <ul data-ref="results"></ul>\n        </div>\n       \n        <button data-ref="clear" class="btn search-clear cs-button flex-static-auto">\n          <span>').concat(n.getString("clear"),"</span>\n          ").concat(Dn("clear")(),"\n        </button>\n      </span>\n    ")),t}));function Yl(e){return Yl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yl(e)}function Xl(e){return function(e){if(Array.isArray(e))return $l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return $l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $l(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Jl(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==Yl(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Yl(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===Yl(o)?o:String(o)),i)}var r,o}function es(){return es="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=rs(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},es.apply(this,arguments)}function ts(e,t){return ts=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ts(e,t)}function ns(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=rs(e);if(t){var r=rs(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Yl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return is(e)}(this,n)}}function is(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rs(e){return rs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},rs(e)}var os,as=DS,ls=as.detection,ss=as.pubSub,cs=as._,us=as.events,fs=as.keyManager,ds=as.resolver,hs=as.windowManager,ps=as.utils.prefixWithPlayer,ys=as.focusManager.setFocusRectOn,bs=as.globalEventHelper.addDocumentListener,vs=as.dom,ms=vs.parentNodesOf,gs=vs.getParentWithClass,ws=vs.hasClass,Ss=vs.addClass,ks=vs.removeClass,Os=function(e){return ms(e,(function(e){return"li"===e.nodeName.toLowerCase()}))},Cs=function(e){return Os(e).slice(1).some((function(e){return ws(e,"item-collapsed")}))},Es=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ts(e,t)}(a,e);var n,i,r,o=ns(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),t=o.call(this,e),cs.bindAll(is(t),"updateVisitedSlides","onSlideChanged","onSelectFirstSlideLink","addSlideToVisited","visuallyUpdateLinks","collapseLastItem","onClickLink","onCarrotClick","onClickItem","centerOnFocused","setDrawSlides","mouseDown","mouseUp"),t.visitedSlides=new Set,t.completedScenes=new Set,t.menuOptions=X.model.frame.controlOptions.menuOptions,ss.once(us.resume.SET_DATA,t.updateVisitedSlides),ss.on(us.window.MAIN_CHANGED,t.onSlideChanged),ss.on(us.mobile.OUTLINE_SHOWN,t.centerOnFocused),ss.on(us.navData.SELECT_FIRST_SLIDE_LINK,t.onSelectFirstSlideLink),t.removeDocListeners=cs.flow(bs("mousedown",t.mouseDown),bs("mouseup",t.mouseUp)),null!=DS.presentation.getDrawPromise&&DS.presentation.getDrawPromise().then(t.setDrawSlides),t.isTopTabChild=X.model.topTabs.some((function(e){return"outline"===e.name})),DS.flagManager.localizationPlatform&&ss.on(us.frame.SHOW_TAB_ITEM,t.onShowTabItem.bind(is(t))),ss.on(us.navData.REFRESH_VIEW,(function(){if(DS.flagManager.localizationPlatform){var e=DS.utils.getPath(t.el.querySelector(".cs-selected"),"dataset.ref");t.view.updateHtml(),t.view.update(),t.view.initChildRefs(),t.visuallyUpdateLinks();var n=DS.utils.getPath(t.view,["children",e,"el"]);null!=n&&Ss(n,"cs-selected")}else t.view.updateHtml(),t.view.update()})),t}return n=a,i=[{key:"teardown",value:function(){ss.off(us.window.MAIN_CHANGED,this.onSlideChanged),ss.off(us.mobile.OUTLINE_SHOWN,this.centerOnFocused),this.removeDocListeners()}},{key:"focusSelf",value:function(){this.getItems().find((function(e){return 0===e.parentNode.tabIndex})).parentNode.focus()}},{key:"onFocus",value:function(){var e=this;this.isMouseDown||(null!=this.view.parent.children.search&&ls.theme.isUnified?setTimeout((function(){e.el.contains(document.activeElement)&&es(rs(a.prototype),"onFocus",e).call(e)}),500):es(rs(a.prototype),"onFocus",this).call(this))}},{key:"mouseDown",value:function(){this.isMouseDown=!0}},{key:"mouseUp",value:function(){this.isMouseDown=!1}},{key:"onClickItem",value:function(e){var t=this;if(ls.theme.isUnified){var n=gs(e.target,"listitem");ws(e.target,"carrot")&&(t.onCarrotClick(n),1)||n&&ws(n.parentNode,"item-collapsible")&&(t.onCarrotClick(n),!ws(n,"is-promoted-slide"))||"locked"!==t.menuOptions.flow&&t.onClickLink(n)}else("locked"!==this.menuOptions.flow?this.onClickLink:this.onCarrotClick)(e.target)}},{key:"visuallyUpdateLinks",value:function(){var e=this;this.visitedSlides.forEach((function(t){var n=e.view.children[t];null!=n&&(ls.theme.isUnified?e.updateViewedState(n.el):Ss(n.el,"cs-viewed"))})),ls.theme.isUnified&&(this.setComplete("div.is-promoted-slide"),this.setComplete("div.is-scene",1))}},{key:"setComplete",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=this.el.querySelectorAll(e);Array.from(i).forEach((function(e){var i=Array.from(e.parentNode.querySelectorAll("div")).slice(n);i.length&&i.every((function(e){return ws(e,"cs-viewed")}))&&(Ss(e,"cs-complete"),t.updateAriaLabel(e))}))}},{key:"updateVisitedSlides",value:function(e,t){null!=e&&(e.forEach(this.addSlideToVisited),this.visuallyUpdateLinks())}},{key:"getNextItem",value:function(e){var t,n=this,i=this.getItems(),r=i.findIndex((function(t){return n.findIndexCb(t,e)}));do{(r+=1)===i.length&&(r=0),t=i[r]}while(Cs(t));return t}},{key:"getPrevItem",value:function(e){var t,n=this,i=this.getItems(),r=i.findIndex((function(t){return n.findIndexCb(t,e)}));do{-1==(r-=1)&&(r=i.length-1),t=i[r]}while(Cs(t));return t}},{key:"addSlideToVisited",value:function(e){var t=e.absoluteId,n=e.getScene().absoluteId;this.visitedSlides.add(n).add(t),this.addSceneCompleted(e,n)}},{key:"addSceneCompleted",value:function(e,t){var n,i;n=e.collection.models.map((function(e){return e.absoluteId})),i=Xl(this.visitedSlides),n.every((function(e){return i.includes(e)}))&&this.completedScenes.add(t)}},{key:"isSceneCompleted",value:function(e){return this.completedScenes.has(e)}},{key:"isCurrentLinkParent",value:function(e,t){return e.el===this.view.children[t].el&&e.el.getAttribute("data-has-links")&&!e.el.getAttribute("data-is-scene")}},{key:"onSelectFirstSlideLink",value:function(){var e=this.view.el.querySelector("ul > li > div:not(.is-scene)");if(null!=e){var t=e.getAttribute("data-ref");this.selectLink(e,t)}}},{key:"onSlideChanged",value:function(e){if(this.addSlideToVisited(e),!this.currentItem||gs(this.currentItem,"listitem").getAttribute("data-ref")!=e.absoluteId){var t=e.absoluteId,n=this.view.children[t];if(null==n){var i=e.getSlideDraw();null!=i&&(t=i.absoluteId,n=this.view.children[t])}if(null!=n&&this.selectLink(n.el,t),null==n){var r,o=e.getScene().absoluteId,a=null===(r=this.view.children[o])||void 0===r?void 0:r.el;if(null==a)return;var l=Os(a)[0];if(null!=l&&!ws(l,"item-collapsible")){var s=this.el.querySelector(".cs-selected");null!=s&&ks(s,"cs-selected"),Ss(a,"cs-selected")}this.isSceneCompleted(o)&&Ss(a,"cs-complete"),this.updateViewedState(a)}}}},{key:"selectLink",value:function(e,t){var n=this;this.onClickLink(e,!0),ms(e,(function(i){i.classList.contains("item-collapsed")&&(n.isCurrentLinkParent(e,t)||(ks(i,"item-collapsed"),i.setAttribute("aria-expanded",!0)))}),(function(e){return n.el===e}))}},{key:"collapsibleParents",value:function(e){var t=this;return ms(e,(function(e){return e.classList.contains("item-collapsible")}),(function(e){return t.el===e}))}},{key:"collapseLastItem",value:function(e){var t=this;null!=this.lastExpandedEls&&this.menuOptions.autocollapse&&this.lastExpandedEls.forEach((function(n){n.contains(e)||ws(n,"item-collapsed")||t.toggleScene(n)}))}},{key:"toggleScene",value:function(e){var t,n=ws(e,"item-collapsed");if(t=n?"remove":"add",e.classList[t]("item-collapsed"),e.setAttribute("aria-expanded",n),ls.theme.isUnified){var i=Array.from(e.querySelectorAll("div.listitem")),r=i[0];!function(e,t){if(!n){var i=e.slice(1).filter((function(e){return!ws(e,"is-promoted-slide")&&!ws(e,"is-scene")}));i.some((function(e){return ws(e,"cs-viewed")}))&&ks(t,"cs-unvisited"),i.every((function(e){return ws(e,"cs-viewed")}))&&Ss(t,"cs-complete")}}(i,r),this.updateAriaLabel(r)}ss.trigger(us.menuLinksListItem.TOGGLE)}},{key:"updateAriaLabel",value:function(e){var t,n,i=[].slice.call(null!==(t=null===(n=e.querySelector(".outline-states"))||void 0===n?void 0:n.children)&&void 0!==t?t:[]),r=e.getAttribute("data-slide-title"),o=e.children[0];null!=o&&(i.some((function(e){if("none"!==window.getComputedStyle(e).display){var t=e.getAttribute("aria-label");return o.textContent=r+" "+t,!0}return!1}))||(o.textContent=r))}},{key:"onCarrotClick",value:function(e){if(null!==e){var t=gs(e,"item-collapsible");this.toggleScene(t)}}},{key:"onClickLink",value:function(e,t){var n=this;if(e)if(ls.theme.isUnified){var i=e.getAttribute("data-ref"),r=null!=i;if("restricted"!==this.menuOptions.flow||t||this.visitedSlides.has(i)){if(null!=this.currentItem&&e!==this.currentItem&&(this.currentItem.tabIndex=-1,ks(this.currentItem,"hover")),this.currentItem=e,r&&(this.collapseLastItem(e),this.lastExpandedEls=this.collapsibleParents(e),this.lastExpandedEls.forEach((function(e){var t=e.firstElementChild;i.includes(t.getAttribute("data-ref"))&&(Ss(t,"cs-viewed"),n.updateAriaLabel(t))}))),ws(e,"listitem")){this.updateViewedState(e);var o=this.el.querySelector(".cs-selected"),a=Os(e).pop();ws(e,"is-scene")&&ws(a,"item-collapsible")||(null!=o&&(ks(o,"cs-selected"),this.updateAriaLabel(o)),Ss(e,"cs-selected"),window.requestAnimationFrame((function(){return n.updateAriaLabel(e)})))}else this.onCarrotClick(e);if(r&&!t){var l=hs.getCurrentWindowSlide().absoluteId;i!=l&&(ss.trigger(us.request.NEXT_SLIDE,i),ls.theme.isUnified&&ss.trigger(us.topEllipsesPanel.HIDE)),ls.deviceView.isMobile&&(ss.trigger(us.tab.HIDE),(ls.deviceView.isPhone||ls.theme.isClassic)&&ss.trigger(us.sidebar.CLOSE))}null!=this.currentItem&&null!=this.focusor&&ys(this.currentItem)}}else this.onClickLinkOld(e,t)}},{key:"onClickLinkOld",value:function(e,n){var i=e.getAttribute("data-ref"),r=null!=i,o=t(i);if("UL"!==e.nodeName)if("restricted"!==this.menuOptions.flow||n||this.visitedSlides.has(i)){if(null!=this.currentItem&&e!==this.currentItem&&(this.currentItem.tabIndex=-1,ks(this.currentItem,"hover")),this.currentItem=e,(o||ws(e.parentNode,"item-collapsible"))&&this.toggleScene(e.parentNode),null!=i&&(this.collapseLastItem(e),this.lastExpandedEls=this.collapsibleParents(e),Array.from(this.lastExpandedEls).forEach((function(e){var t=e.firstElementChild;i.includes(t.getAttribute("data-ref"))&&Ss(t,"cs-viewed")}))),ws(e,"listitem")){Ss(e,"cs-viewed");var a=this.el.querySelector(".cs-selected");null!=a&&ks(a,"cs-selected"),Ss(e,"cs-selected")}else this.onCarrotClick(e);if(r&&!n){var l=hs.getCurrentWindowSlide().absoluteId;i!=l&&(ss.trigger(us.request.NEXT_SLIDE,i),ls.theme.isUnified&&ss.trigger(us.topEllipsesPanel.HIDE)),ls.deviceView.isMobile&&(ss.trigger(us.tab.HIDE),(ls.deviceView.isPhone||ls.theme.isClassic)&&ss.trigger(us.sidebar.CLOSE))}null!=this.currentItem&&null!=this.focusor&&ys(this.currentItem)}else ws(e,"carrot")&&this.onCarrotClick(e)}},{key:"updateViewedState",value:function(e){Ss(e,"cs-viewed");var t=Os(e).pop();if(null!=t){if(!ws(e,"is-scene")||!ws(t,"item-collapsible")){var n=t.querySelector("div.listitem");ks(n,"cs-unvisited")}ws(e,"is-scene")&&this.isSceneCompleted(e.getAttribute("data-ref"))&&Ss(e,"cs-complete")}this.updateAriaLabel(e)}},{key:"isExpanded",value:function(){return!!this.currentItem.dataset.hasLinks&&ws(this.parentElement,"item-collapsed")}},{key:"onKeydown",value:function(e){var t=this.currentItem;if(fs.isActionKey(e.which))this.activateItem(),fs.isSpaceKey(e.which)&&e.preventDefault();else if(fs.isRightKey(e.which)&&t.dataset.hasLinks)ws(this.currentItem.parentNode,"item-collapsed")?this.onCarrotClick(this.currentItem.firstElementChild):this.currentItem=this.getNextItem(this.getItemContent());else if(fs.isDownKey(e.which))this.currentItem=this.getNextItem(this.getItemContent());else if(fs.isUpKey(e.which))this.currentItem=this.getPrevItem(this.getItemContent());else if(fs.isLeftKey(e.which))if(t.dataset.hasLinks&&!ws(t.parentNode,"item-collapsed"))this.onCarrotClick(this.currentItem.firstElementChild);else{var n=gs(this.currentItem,"item-collapsible");null!=n&&(this.currentItem=n.querySelector(".cs-listitem"))}else fs.isHomeKey(e.which)?this.currentItem=this.getFirstItem():fs.isEndKey(e.which)&&(this.currentItem=this.getLastItem());t!==this.currentItem&&(e.preventDefault(),ks(t,"hover"),t.parentNode.tabIndex=-1,this.focusOnCurrent())}},{key:"focusOnCurrent",value:function(){this.centerOnFocused(),document.activeElement!==this.currentItem.parentNode&&(this.currentItem.parentNode.tabIndex=0,Ss(this.currentItem,"hover"),this.currentItem.parentNode.focus()),ys(this.currentItem)}},{key:"hasListItems",value:function(){return!cs.isEmpty(X.model.frame.navData.outline.links)}},{key:"getItems",value:function(){return this.links=this.links||Xl(this.el.querySelectorAll(".cs-listitem")),this.links}},{key:"activateItem",value:function(){var e="locked"!==this.menuOptions.flow&&null==this.currentItem.dataset.isScene,t=e?"onClickLink":"onCarrotClick",n=e?this.currentItem:this.currentItem.querySelector(".carrot");this[t](n)}},{key:"findIndexCb",value:function(e,t){return e===t}},{key:"getItemContent",value:function(){return this.currentItem}},{key:"getTreeRootEl",value:function(){return this.el.querySelector("ul")}},{key:"getOffsetEl",value:function(){return ls.deviceView.isMobile?this.el.parentNode:this.el}},{key:"getOffsetTop",value:function(e){return ls.deviceView.isMobile?cs.first(ms(e,(function(e){return"li"===e.nodeName.toLowerCase()}))).offsetTop:es(rs(a.prototype),"getOffsetTop",this).call(this,e)}},{key:"onShowTabItem",value:function(e,t){if("outline"===e&&null!=t){var n=this.getItems().find((function(e){return e.dataset.translationId===t}));null!=n&&n.scrollIntoView({block:"nearest",behavior:"smooth"})}}},{key:"scrollToCurrent",value:function(){var e=this;ls.deviceView.isMobile&&(this.currentItem=this.getItems().find((function(t){return t.getAttribute("data-ref")===e.currentSlideId}))),es(rs(a.prototype),"scrollToCurrent",this).call(this)}},{key:"setDrawSlides",value:function(){var e=this;this.view.draws.forEach((function(t){var n=t.link,i=t.links,r=ds.resolvePath(ps(n.drawid)),o=function(){var t=n.spliceNum||1,o=r.slides();i.splice.apply(i,[n.index,t].concat(Xl(o.map(e.createNewLink)))),n.spliceNum=o.length,e.view.updateHtml(),e.view.initChildRefs()};r.on(us.draw.RESET_COMPLETE,o),null!=r.slides()&&o()}))}},{key:"createNewLink",value:function(e){var t={kind:"slidelink",expand:!1,type:"slide"};return t.slideid=e.absoluteId,t.slidetitle=t.displaytext=e.get("title"),t}}],i&&Jl(n.prototype,i),r&&Jl(n,r),Object.defineProperty(n,"prototype",{writable:!1}),a}(za),Ls=Es,Ts=DS,xs=Ts.pubSub,Ps=Ts.events,Is=Ts.constants.MOBILE_ANIMATION_DURATION,_s="outline",js=function(e){for(var t="";e;)t=e.index+1+"."+t,e=null!=e.parent&&"slidelink"===e.parent.kind&&e.parent;return t+" "},Ds=X.def(_s,Ls,(function(e){var n=X.model,i=X.model.rtl,r=(X.getNamespace(DS.constants.refs.FRAME),i?"rtl":""),o=n.frame.controlOptions.menuOptions,a=o.wrapListItems,l=o.autonumber,s=n.frame.controlOptions.controls.search,c=0;return s&&(xs.on(Ps.sidebar.SHOW_SEARCH,(function(){c=48,os.update()})),xs.on(Ps.sidebar.HIDE_SEARCH,(function(){setTimeout((function(){c=0,os.update()}),Is)}))),{tag:"nav",attrs:{id:_s+"-content",class:"cs-menu cs-panel is-scrollable cs-outline panel ".concat(r),tabindex:-1},w:"100%",y:function(){return c},h:function(){var e=this.parent.h;return e-c},overflow:"auto",draws:[],updateHook:function(){os=this},html:function(){var e=this,r=n.frame.navData.outline.links||[];this.el.depth=0,this.el.innerHTML='\n        <div class="outline-title">'.concat(n.title.text,"</div>\n      "),function n(r,o,s){var c=document.createElement("ul");c.depth=o.depth+1,o.appendChild(c);for(var u=0;u<r.length;u++){var f=document.createElement("li"),d=r[u];d.parent=s,d.index=u,f.setAttribute("tabindex",-1),c.appendChild(f),f.depth=c.depth;var h=null!=d.links,p=15*f.depth+5,y=d.slideid;null==y&&e.draws.push({link:d,links:r,i:u});var b=t(y);f.innerHTML='\n            <div\n              class="cs-listitem listitem '.concat(a?"":"no-wrap",'"\n              style="padding-').concat(i?"right":"left",": ").concat(p,'px;"\n              data-ref="').concat(y,'"\n              data-slide-title="').concat(r[u].displaytext,'"\n              ').concat(b?'data-is-scene="true"':"","\n              ").concat(h?'data-has-links="true"':"",'\n              tabIndex="-1"\n              >\n\n               ').concat(l?js(d):""," ").concat(d.displaytext,"\n            </div>\n          "),h&&(f.classList.add("item-collapsible"),d.expand||f.classList.add("item-collapsed"),n(d.links,f,d))}}(r,this.el)}}}));function As(e){return function(e){if(Array.isArray(e))return Rs(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Rs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rs(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Bs="outlineSearch",Ms=X.def(Bs,(function(){var e=X.model,t=e.frame,n=e.rtl,i=t.controlOptions.controls.search,r=n?"rtl":"";return{attrs:{id:"".concat(Bs,"-content"),class:"outline-search ".concat(r),tabindex:-1},overflow:"scroll",w:"100%",h:"100%",model:t,childViews:[Ds].concat(As(i?[Sa,ql]:[]))}}));function Hs(e){return Hs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hs(e)}function Ns(e){return function(e){if(Array.isArray(e))return Fs(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Fs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fs(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Vs(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Ks(i.key),i)}}function Us(e,t){return Us=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Us(e,t)}function Ws(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Zs(e);if(t){var r=Zs(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Hs(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return zs(e)}(this,n)}}function zs(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zs(e){return Zs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Zs(e)}function Ks(e){var t=function(e,t){if("object"!==Hs(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Hs(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Hs(t)?t:String(t)}var Gs=DS,Qs=(Gs._,Gs.focusManager),qs=Gs.detection,Ys=Gs.pubSub,Xs=Gs.events,$s=Gs.dom,Js=$s.addClass,ec=$s.removeClass,tc=(Gs.keyManager.isTabKey,function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Us(e,t)}(o,e);var t,n,i,r=Ws(o);function o(e){var t,n,i,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),n=zs(t),a=void 0,(i=Ks(i="s"))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a,t.view.isUnified&&(t.getScrollEl=function(){return t.termsEl},t.getOffsetTop=function(e){return e.offsetTop},t.getOffsetHeight=function(e){return e.offsetHeight+e.nextElementSibling.clientHeight}),t.hasDefinition=qs.deviceView.isDesktop&&!t.view.isUnified,Ys.on(Xs.glossary.REFRESH_VIEW,(function(){t.view.updateHtml(),t.view.update()})),DS.flagManager.localizationPlatform&&Ys.on(Xs.frame.SHOW_TAB_ITEM,t.onShowTabItem.bind(zs(t))),t}return t=o,(n=[{key:"onClickItem",value:function(e){var t=e.target;if(this.hasDefinition&&null!=t&&"p"!==t.nodeName.toLowerCase()){var n=null!=this.activeItem;n&&(this.activeItem.firstElementChild.setAttribute("aria-expanded",!1),this.activeItem.style.backgroundColor="",this.closeItem(this.activeItem)),n&&this.lastSelected==t||(t.setAttribute("aria-expanded",!0),this.openItem(t.parentElement)),this.lastSelected=t}}},{key:"getNextItem",value:function(e){var t,n=this.getItems(),i=this.getItems().indexOf(this.currentItem);do{(i+=1)===n.length&&(i=0),t=n[i]}while("none"===t.parentElement.style.display);return t}},{key:"getPrevItem",value:function(e){var t,n=this.getItems(),i=this.getItems().indexOf(this.currentItem);do{-1==(i-=1)&&(i=n.length-1),t=n[i]}while("none"===t.parentElement.style.display);return t}},{key:"hasListItems",value:function(){return!DS._.isEmpty(this.model.frame.glossaryData)}},{key:"getItems",value:function(){return this.links=this.links||Ns(this.el.querySelectorAll(".term")),this.links}},{key:"openItem",value:function(e){Js(e,"cs-selected"),e.nextElementSibling.style.display="block",Js(e.nextElementSibling,"open"),this.activeItem=e}},{key:"closeItem",value:function(e){var t=this;ec(e,"cs-selected"),ec(e.nextElementSibling,"open"),this.activeItem=null,TweenLite.to(e,.2,{opacity:1,onComplete:function(){e.nextElementSibling.style.display="none",Qs.setFocusRectOn(t.currentItem)}})}},{key:"onShowTabItem",value:function(e,t){if("glossary"===e&&null!=t){var n=Ns(this.el.querySelectorAll("[data-translation-id]")).find((function(e){return e.dataset.translationId===t}));null!=n&&n.scrollIntoView({block:"nearest",behavior:"smooth"})}}}])&&Vs(t.prototype,n),i&&Vs(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(za));function nc(e){return nc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nc(e)}function ic(e){return function(e){if(Array.isArray(e))return rc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return rc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rc(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function oc(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==nc(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==nc(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===nc(o)?o:String(o)),i)}var r,o}function ac(e,t){return ac=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ac(e,t)}function lc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=cc(e);if(t){var r=cc(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===nc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return sc(e)}(this,n)}}function sc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cc(e){return cc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},cc(e)}var uc=DS,fc=(uc.detection,uc.pubSub),dc=uc.events,hc=uc.keyManager.isSpaceKey,pc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ac(e,t)}(o,e);var t,n,i,r=lc(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),fc.on(dc.resources.REFRESH_VIEW,(function(){t.view.updateHtml(),t.view.update()})),DS.flagManager.localizationPlatform&&fc.on(dc.frame.SHOW_TAB_ITEM,t.onShowTabItem.bind(sc(t))),t}return t=o,(n=[{key:"onClickItem",value:function(){}},{key:"hasListItems",value:function(){return(this.model.resourceData.resources||[]).length>0}},{key:"getItems",value:function(){return this.items=this.items||ic(this.el.querySelectorAll(".resource a")),this.items}},{key:"activateItem",value:function(e){hc(e.keyCode)&&DS.windowOpen.open({url:this.currentItem.dataset.url})}},{key:"getOffsetTop",value:function(e){return this.currentItem.offsetTop}},{key:"getFocusRectTarget",value:function(){return this.currentItem.parentNode}},{key:"onShowTabItem",value:function(e,t){if("resource"===e&&null!=t){var n=this.getItems().find((function(e){return e.dataset.translationId===t}));null!=n&&n.scrollIntoView({block:"nearest",behavior:"smooth"})}}}])&&oc(t.prototype,n),i&&oc(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(tc),yc=DS,bc=yc.utils,vc=bc.getPath,mc=bc.stripTags,gc=yc.detection.device.isMobile,wc="resources",Sc=X.def(wc,pc,(function(){var e=X.model,t=e.frame,n=e.rtl?"rtl":"";return DS.slideObjectUtils.activeMobileMenuItem(X.model.frame.resourceData.resources,"no-resources"),{attrs:{id:"".concat(wc,"-content"),class:"is-scrollable panel ".concat(n),tabindex:-1},overflow:"",model:t,html:'\n      <h4 class="resources-title '.concat(n,'" tabindex="-1">\n        ').concat(mc(vc(t,"resourceData.description")),"\n      </h4>\n      <div class='resources-content panel-content'>\n        <ul>\n          ").concat(vc(t,"resourceData.resources",[]).reduce((function(e,t,n){var i=gc?"data-url":"href",r=gc?t.url:"javascript:DS.windowOpen.open({ url: '".concat(t.url,"' })"),o=gc?'target="_blank"':"";return"".concat(e,'\n              <li class="cs-listitem resource" tabindex="-1"\n                data-url="').concat(t.url,'"\n                id="resource-').concat(n,'"\n                role="presentation">\n                  <a href="').concat(t.url,'" ').concat(i,'="').concat(r,'" ').concat(o,' tabindex="').concat(0===n?0:-1,'">\n                    <img src="').concat(t.image,'" role="presentation" tabindex="-1" />\n                    ').concat(t.title,"\n                  </a>\n              </li>")}),""),"\n        </ul>\n      </div>")}})),kc=DS,Oc=kc.slideObjectUtils,Cc=kc.utils.getPath,Ec="glossary",Lc=X.def(Ec,(function(){var e=X.model,t=X.model.rtl?"rtl":"";return Oc.activeMobileMenuItem(e.frame.glossaryData,"no-glossary"),{attrs:{id:"".concat(Ec,"-content"),class:"panel ".concat(t),tabindex:-1},w:"100%",h:"100%",model:e,html:'\n      <h4 class="panel-section-heading glossary-title cs-heading">\n        '.concat(e.getString("terms"),'\n      </h4>\n\n      <div data-ref="terms" class="glossary-content scrolling-panel">\n        <ul>\n        ').concat(Cc(e,"frame.glossaryData",[]).map((function(e){return'\n              <dt class="glossary-item glossary-term" tabindex="-1">\n                '.concat(e.title,'\n              </dt>\n              <dd class="glossary-item glossary-desc" tabindex="-1">\n                ').concat(e.content,"\n              </dd>\n            ")})).join(""),"\n        </ul>\n      </div>")}}));function Tc(e){return Tc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tc(e)}function xc(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==Tc(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Tc(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===Tc(o)?o:String(o)),i)}var r,o}function Pc(e,t){return Pc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Pc(e,t)}function Ic(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=jc(e);if(t){var r=jc(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Tc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _c(e)}(this,n)}}function _c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jc(e){return jc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},jc(e)}var Dc=/color:#ffffff/gi,Ac=DS,Rc=Ac.detection,Bc=Ac.events,Mc=Ac.focusManager,Hc=Ac.pubSub,Nc=(Ac.utils,Ac.slideObjectUtils),Fc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pc(e,t)}(o,e);var t,n,i,r=Ic(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),Hc.on(Bc.window.MAIN_CHANGED,t.onSlideChanged.bind(_c(t))),DS.flagManager.localizationPlatform&&Hc.on(Bc.transcript.REFRESH_VIEW,t.onRefreshView.bind(_c(t))),Rc.deviceView.isClassicMobile?Hc.on(Bc.mobile.NOTES_SHOWN,t.onHamburgerToggle.bind(_c(t),!1)):Rc.deviceView.isUnifiedMobile&&Hc.on(Bc.hamburger.TOGGLE,t.onHamburgerToggle.bind(_c(t))),t.forceScrollToTop=!1,t}return t=o,(n=[{key:"onHamburgerToggle",value:function(e){this.forceScrollToTop&&!e&&(this.getScrollElement().scrollTop=0,this.forceScrollToTop=!1)}},{key:"onFocus",value:function(){this.el.focus(),Mc.setFocusRectOn(this.el.parentNode)}},{key:"focusSelf",value:function(){this.onFocus()}},{key:"handleTab",value:function(){return this.el.parentElement.focus(),!0}},{key:"onSlideChanged",value:function(e){if(this.lasSlideId!=e.absoluteId){this.lasSlideId=e.absoluteId;var t=(this.model.notesData||[]).find((function(t){return e.absoluteId.includes(t.slideId)}));null!=this.titleEl&&(this.titleEl.innerHTML=e.get("title"));var n=null==t?"":t.content;Rc.deviceView.isClassicMobile&&(n=n.replace(Dc,"color:#515557")),this.contentEl.innerHTML=n,Hc.trigger(Bc.transcript.CHANGED),Nc.activeMobileMenuItem(n,"no-transcript"),this.scrollToTop()}}},{key:"onRefreshView",value:function(){var e=DS.windowManager.getMainWindowSlide();null!=e&&this.onSlideChanged(e)}},{key:"scrollToTop",value:function(){Rc.deviceView.isDesktop?this.view.el.scrollTop=0:Rc.theme.isClassic?0===this.getScrollElement().scrollTop?this.forceScrollToTop=!0:this.getScrollElement().scrollTop=0:X.getNamespace(this.view.nameSpace).sidebar.collapsed?this.forceScrollToTop=!0:this.getScrollElement().scrollTop=0}},{key:"getScrollElement",value:function(){return Rc.deviceView.isClassicMobile?this.view.parent.el:this.view.el}},{key:"getViewBox",value:function(){return this.view.parent.getBox()}},{key:"teardown",value:function(){Hc.off(Bc.window.MAIN_CHANGED,this.onSlideChanged.bind(this)),DS.flagManager.localizationPlatform&&Hc.off(Bc.transcript.REFRESH_VIEW,this.onRefreshView.bind(this)),Rc.deviceView.isClassicMobile?Hc.off(Bc.mobile.NOTES_SHOWN,this.onHamburgerToggle.bind(this,!1)):Rc.deviceView.isUnifiedMobile&&Hc.off(Bc.hamburger.TOGGLE,this.onHamburgerToggle.bind(this))}}])&&xc(t.prototype,n),i&&xc(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(Mt),Vc="transcript",Uc={resources:Sc,transcript:X.def(Vc,Fc,(function(){var e=X.model,t=e.rtl?"rtl":"";return{attrs:{id:Vc+"-content",class:"cs-menu cs-panel is-scrollable cs-menu cs-transcript panel ".concat(t),tabindex:-1},w:"100%",h:"100%",html:'\n      <h4 data-ref="title" class="note-title cs-heading panel-section-heading"></h4>\n      <hr class="cs-div"></hr>\n      <div data-ref="content" class="note-content"></div>\n    ',model:e.frame}})),glossary:Lc,outline:Ms};function Wc(e){return function(e){if(Array.isArray(e))return zc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return zc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zc(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Zc=DS.constants.MOBILE_UI_SIZE,Kc=X.def("panels",Vr,(function(){var e=X.model;return{attrs:{class:"panels"},x:0,y:0,wp:function(){return window.innerWidth+2},hp:function(){return window.innerHeight-Zc+2},wl:function(){return window.innerWidth-160},hl:function(){return window.innerHeight+2},bgColor:"white",z:3,visible:!1,html:'\n      <button class="tab-close" data-ref="tabClose" aria-label="'.concat(e.getString("close"),'">\n        ').concat(Dn("close")(),"\n      </button>\n    "),childDef:function(){Gc(e)}}})),Gc=function(e){[].concat(Wc(e.sidebarTabs),Wc(e.topTabsLeft),Wc(e.topTabsRight)).forEach((function(e,t){"customlink"!==e.name&&function(e,t){var n=t.name,i=n+"Panel",r=X.def(i,{attrs:{id:i,class:"tab-panel is-scrollable","aria-labelledby":n+"-tab",role:"tabpanel",tabindex:0},visibility:"no-reflow",visible:!1,overflow:"auto",x:0,y:0,w:"100%",h:"100%"});r.init(),Kc.append(r);var o=Uc[n];null!=o&&(o.init(),r.append(o))}(0,e)}))};function Qc(e){return Qc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qc(e)}function qc(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==Qc(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Qc(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===Qc(o)?o:String(o)),i)}var r,o}function Yc(e,t){return Yc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Yc(e,t)}function Xc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=$c(e);if(t){var r=$c(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Qc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function $c(e){return $c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$c(e)}var Jc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yc(e,t)}(o,e);var t,n,i,r=Xc(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e)).onClick(t.onClickOverlay),t}return t=o,(n=[{key:"onClickOverlay",value:function(e){DS.pubSub.trigger(DS.events.sidebar.CLOSE)}}])&&qc(t.prototype,n),i&&qc(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(Mt);function eu(e){return eu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eu(e)}function tu(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,au(i.key),i)}}function nu(e,t){return nu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},nu(e,t)}function iu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=ou(e);if(t){var r=ou(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===eu(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ru(e)}(this,n)}}function ru(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ou(e){return ou=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ou(e)}function au(e){var t=function(e,t){if("object"!==eu(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==eu(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===eu(t)?t:String(t)}X.def("visibleOverlay",Jc,(function(){return{attrs:{class:"visible-overlay"},x:0,y:0,w:function(){return window.innerWidth},h:function(){return window.innerHeight},visible:!1,position:"fixed",bgColor:"rgba(0, 0, 0, 0.5)",add:!0}}));var lu=DS,su=lu.pubSub,cu=lu.captionsManager,uu=lu.stringTabler,fu=lu.events.captions,du=fu.SHOW_BUTTON,hu=fu.HIDE_BUTTON,pu=fu.ENABLED,yu=fu.ENABLE,bu=lu.detection.theme.isUnified,vu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nu(e,t)}(o,e);var t,n,i,r=iu(o);function o(e){var t,n,i,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),n=ru(t),a=!0,(i=au(i="hasTooltip"))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a,t.onClick(t.onClickCaptions),t.toggle=!1,su.on(du,(function(e){return t.onVisibilityChanged(!0)})),su.on(hu,(function(e){return t.onVisibilityChanged(!1)})),su.on(pu,t.onCaptionsEnabled.bind(ru(t))),t}return t=o,(n=[{key:"tooltipKey",get:function(){return this.toggle?"acc_cc_hide":"acc_cc_show"}},{key:"onVisibilityChanged",value:function(e){this.view.setVisibility(e,!0),this.view.childVisibilityChanged(),this.toggle=cu.isCaptionEnabled(),this.updateBtn()}},{key:"onCaptionsEnabled",value:function(e){this.toggle=e,this.updateBtn()}},{key:"updateBtn",value:function(){var e=this.toggle?"add":"remove";this.view.el.classList[e]("cs-tabs","cs-selected"),this.view.el.setAttribute("aria-pressed",this.toggle),this.view.el.setAttribute("aria-label",uu.getString(this.toggle?"acc_cc_hide":"acc_cc_show")),bu&&this.view.updateHtml()}},{key:"onClickCaptions",value:function(e){this.toggleCaptions()}},{key:"toggleCaptions",value:function(){this.toggle=!this.toggle,su.trigger(yu,this.toggle),this.updateBtn()}},{key:"getViewBox",value:function(){var e=this.view.getBox(),t=(e.h-30)/2;return e.h=30,e.y=e.y+t,e}},{key:"teardown",value:function(){su.off(du),su.off(hu),su.off(pu)}}])&&tu(t.prototype,n),i&&tu(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(Mt);function mu(e){return mu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mu(e)}function gu(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==mu(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==mu(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===mu(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wu=DS.constants.MOBILE_UI_SIZE,Su="captions";function ku(e){return ku="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ku(e)}function Ou(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Iu(i.key),i)}}function Cu(){return Cu="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=xu(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},Cu.apply(this,arguments)}function Eu(e,t){return Eu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Eu(e,t)}function Lu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=xu(e);if(t){var r=xu(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===ku(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Tu(e)}(this,n)}}function Tu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xu(e){return xu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},xu(e)}function Pu(e,t,n){return(t=Iu(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Iu(e){var t=function(e,t){if("object"!==ku(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==ku(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ku(t)?t:String(t)}X.def(Su,vu,(function(){var e,t=X.model;return gu(e={tag:"button",attrs:{id:Su,class:"cs-button btn","aria-label":t.getString("acc_closed_captions"),tabindex:0,"aria-pressed":!0},xp:function(){return this.left||0},xl:function(){return(this.parent.w-this.w)/2},minH:wu,noUpdate:!0,visible:!1,parentAlign:"tr",html:Dn("captions")()},"xp",(function(){return this.left||0})),gu(e,"xl",(function(){return(this.parent.w-this.w)/2})),gu(e,"minW",47),e}));var _u=DS,ju=_u.dom,Du=ju.addClass,Au=ju.removeClass,Ru=_u.appState,Bu=_u.scaler,Mu=_u.shortcutManager,Hu=_u.events,Nu=_u.focusManager,Fu=_u.pubSub,Vu=_u.keyManager,Uu=_u.utils.fullScreen,Wu=_u.globalEventHelper.addDocumentListener,zu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Eu(e,t)}(o,e);var t,n,i,r=Lu(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),Pu(Tu(t=r.call(this,e)),"hasTooltip",!0),Pu(Tu(t),"tooltipKey","acc_settings"),Pu(Tu(t),"hideTooltipWhenOpen",!0),Pu(Tu(t),"onToggleBackgroundAudio",(function(){Fu.trigger(Hu.backgroundAudio.TOGGLE)})),Pu(Tu(t),"toggleBackgroundAudio",(function(){t.updateToggle(t.backgroundAudioSwitchEl,DS.courseAudio.enabled())})),Pu(Tu(t),"onCaptionsEnabled",(function(){t.view.updateHook()})),DS._.bindAll(Tu(t),"onAccessibleTextChanged","onZoomModeChanged","onKeyboardShortcutsChanged"),t.onClickEl(t.settingsBtnEl,t.togglePanel),null!=t.shortcutsSwitchEl&&(t.onClickEl(t.shortcutsSwitchEl,t.toggleShortcuts),DS.pubSub.on(Hu.player.ENABLE_KEYBOARD_SHORTCUTS,t.onKeyboardShortcutsChanged)),null!=t.captionsButtonEl&&(t.onClickEl(t.captionsButtonEl,t.toggleCaptions),Fu.on(Hu.captions.ENABLED,t.onCaptionsEnabled)),null!=t.resetButtonEl&&t.onClickEl(t.resetButtonEl,t.resetTimeline),null!=t.acctextSwitchEl&&(t.onClickEl(t.acctextSwitchEl,t.toggleAccessibleText),Ru.on(Hu.player.ACCESSIBLE_TEXT_CHANGED,t.onAccessibleTextChanged)),null!=t.zoomSwitchEl&&(t.onClickEl(t.zoomSwitchEl,t.toggleZoomMode),Fu.on(Hu.window.ZOOM_MODE_CHANGED,t.onZoomModeChanged)),t.handleFullScreenChange=t.handleFullScreenChange.bind(Tu(t)),null!=t.fullScreenToggleButtonEl&&(t.onClickEl(t.fullScreenToggleButtonEl,t.toggleFullScreen),t.removeFullScreenListener=Uu.addChangeListener(t.handleFullScreenChange)),null!=t.backgroundAudioSwitchEl&&(t.onClickEl(t.backgroundAudioSwitchEl,t.onToggleBackgroundAudio),Fu.on(Hu.backgroundAudio.HAS_TOGGLED,t.toggleBackgroundAudio)),t}return t=o,(n=[{key:"toggleFullScreen",value:function(){Ru.toggleFullScreen()}},{key:"handleFullScreenChange",value:function(){Uu.getEl()===Ru.getPresoEl()?Du(this.el,"full-screen"):Au(this.el,"full-screen")}},{key:"togglePanel",value:function(){this.isOpen?this.hidePanel():(this.showPanel(),this.dismissTooltip())}},{key:"showPanel",value:function(){var e=this;this.isOpen=!0,Du(this.el,"open"),this.view.updatePanelPosition(),this.settingsBtnEl.setAttribute("aria-expanded",!0),null!=this.view.updatePanelDepth&&this.view.updatePanelDepth(!0),this.removeShowPanelListener=Wu("keydown",(function(t){return e.handleKeyDown(t)}))}},{key:"hidePanel",value:function(){this.isOpen=!1,Au(this.el,"open"),this.settingsBtnEl.setAttribute("aria-expanded",!1),null!=this.view.updatePanelDepth&&this.view.updatePanelDepth(!1),null!=this.removeShowPanelListener&&this.removeShowPanelListener()}},{key:"handleKeyDown",value:function(e){Vu.isEscapeKey(e.which)&&(this.hidePanel(),this.settingsBtnEl.focus(),Nu.setFocusRectOn(this.settingsBtnEl))}},{key:"onBlur",value:function(e){null!=e&&this.isOpen&&!this.el.contains(e.relatedTarget)&&(this.hidePanel(),Cu(xu(o.prototype),"onBlur",this).call(this))}},{key:"updateToggle",value:function(e,t){t?(Du(e,"toggle-on"),Au(e,"toggle-off")):(Du(e,"toggle-off"),Au(e,"toggle-on")),e.querySelector("button").setAttribute("aria-checked",t)}},{key:"onAccessibleTextChanged",value:function(e){this.accTextOn=e,this.updateToggle(this.acctextSwitchEl,this.accTextOn)}},{key:"onKeyboardShortcutsChanged",value:function(e){this.updateToggle(this.shortcutsSwitchEl,e)}},{key:"toggleAccessibleText",value:function(){this.accTextOn=!this.accTextOn,this.updateToggle(this.acctextSwitchEl,this.accTextOn),Ru.onToggleAccessibleText(this.accTextOn)}},{key:"onZoomModeChanged",value:function(){this.updateToggle(this.zoomSwitchEl,Bu.zoomMode)}},{key:"toggleZoomMode",value:function(){Bu.enableZoomMode(!Bu.zoomMode),this.updateToggle(this.zoomSwitchEl,Bu.zoomMode),Nu.setFocusRectOn(this.zoomSwitchEl.querySelector("button"))}},{key:"toggleShortcuts",value:function(){Mu.enableShortcuts(!Mu.enabled),this.updateToggle(this.shortcutsSwitchEl,Mu.enabled)}},{key:"toggleCaptions",value:function(){X.getNamespace("_frame").captions.viewLogic.toggleCaptions(),this.view.updateHook()}},{key:"resetTimeline",value:function(){X.getNamespace("_frame").reset.viewLogic.resetTimeline()}},{key:"teardown",value:function(){Ru.off(Hu.player.ACCESSIBLE_TEXT_CHANGED,this.onAccessibleTextChanged),Fu.off(Hu.window.ZOOM_MODE_CHANGED,this.onZoomModeChanged),Fu.off(Hu.captions.ENABLED,this.onCaptionsEnabled),Fu.off(Hu.backgroundAudio.HAS_TOGGLED,this.toggleBackgroundAudio),null!=this.removeFullScreenListener&&this.removeFullScreenListener()}},{key:"onFocus",value:function(e){var t=e.target;if(this.el.contains(t))return Nu.setFocusRectOn(t),this.onHoverIn(e),this.isFocused=!1,!1}}])&&Ou(t.prototype,n),i&&Ou(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(Mt),Zu=DS,Ku=Zu.dom,Gu=Ku.addClass,Qu=Ku.removeClass,qu=Zu.appState,Yu=Zu.utils,Xu=Yu.pxify,$u=Yu.getPath,Ju=Zu.detection,ef=(Ju.deviceView.isPhone,Ju.orientation),tf=Zu.constants.MOBILE_UI_SIZE,nf="settings";function rf(e){return rf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rf(e)}function of(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,a,l=[],s=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(i=o.call(n)).done)&&(l.push(i.value),l.length!==t);s=!0);}catch(e){c=!0,r=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw r}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return af(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return af(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function af(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function lf(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,hf(i.key),i)}}function sf(e,t){return sf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},sf(e,t)}function cf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=ff(e);if(t){var r=ff(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===rf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return uf(e)}(this,n)}}function uf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ff(e){return ff=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ff(e)}function df(e,t,n){return(t=hf(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hf(e){var t=function(e,t){if("object"!==rf(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==rf(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===rf(t)?t:String(t)}X.def(nf,zu,(function(e){var t=X.model,n=(X.model.rtl,X.getNamespace(e)),i=n.optionPane,r=n.captions;return{noUpdate:!0,attrs:{id:nf,class:"cs-settings"},overflow:"visible",minW:tf,minH:tf,w:47,h:tf,z:2,xp:function(){return this.left||0},xl:function(){return 0},y:function(){return this.top||0},methods:{getControlConfigs:function(){return DS.frameModel.hasModernText?[{name:"acctext",labelId:"accessible_text",isOn:function(){return qu.accessibleTextOn()}}]:[]},getToggleControls:function(){return this.getControlConfigs().map((function(e){var n=e.name,i=e.labelId,r=(0,e.isOn)();return'\n            <div class="switch '.concat(r?"toggle-on":"toggle-off",'" data-ref="').concat(n,'Switch">\n              <label class="switch-label" id="').concat(n,'-label">\n                ').concat(t.getString(i),'\n              </label>\n              <button class="switch-toggle" id="').concat(n,'-switch" tabindex="0" role="switch" aria-checked="').concat(r,'" aria-labelledby="').concat(n,'-label">\n                ').concat(Dn("track")(n),"\n              </button>\n            </div>\n          ")})).join("")},getIconConfigs:function(){return[{name:"captions",labelId:"acc_closed_captions",getIcon:Dn("captions")}]},getIconControls:function(){return this.getIconConfigs().map((function(e){var n=e.name,i=e.labelId,r=e.getIcon;return'\n            <button id="'.concat(n,'-overflow" class="cs-button overflow-button" tabindex="0" aria-label="').concat(t.getString(i),'" data-ref="').concat(n,'Button">\n              ').concat(r(),"\n            </button>          \n          ")})).join("")},updatePanelPosition:function(){if(null!=i){var e=this.children.settingsPanel.el;if(e.style.left=0,!ef.isLandscape){var t=e.getBoundingClientRect(),n=i.el.getBoundingClientRect(),r=0;t.right>n.right&&(r=n.right-(t.right+10)),t.left<n.left&&(r=n.left-t.left+10),e.style.left=Xu(r)}}}},updateHook:function(){var e=this;window.requestAnimationFrame((function(){return e.updatePanelPosition()}));var t=$u(r,"viewLogic.toggle");t?(Gu(this.el,"captions-on"),Qu(this.el,"captions-off")):(Gu(this.el,"captions-off"),Qu(this.el,"captions-on")),this.setVisibility(0!==this.getControlConfigs().length||t)},html:function(){return'\n        <button data-ref="settingsBtn" aria-expanded="false" class="cs-button settings-button" aria-label="'.concat(t.getString("acc_settings"),'" tabIndex="0">\n          ').concat(Dn("settings")(),'\n        </button>\n        <div data-ref="settingsPanel" class="settings-panel top-tabs-drop" tabindex="-1">\n          <div class="icon-buttons">\n            ').concat(this.getIconControls(),'\n          </div>\n          <div class="toggle-buttons">\n            ').concat(this.getToggleControls(),'\n          </div>\n        </div>\n        <div class="panel-down-arrow">\n          ').concat(Dn("downArrow")(),"\n        </div>\n      ")}}}));var pf=DS,yf=pf.detection,bf=pf.events,vf=pf.pubSub,mf=pf.svgUtils,gf=pf._.bindAll,wf={remaining:function(e,t){return DS.utils.formatSecondsAsTime(t-e,!0)},totalelapsed:function(e,t){return[e,t].map((function(e){return DS.utils.formatSecondsAsTime(e,!0)})).join(" / ")},elapsed:function(e){return DS.utils.formatSecondsAsTime(e,!0)},none:function(){return""}},Sf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sf(e,t)}(o,e);var t,n,i,r=cf(o);function o(e){var t,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),df(uf(n=r.call(this,e)),"updateReadeableTimer",(function(){n.timerTextReadEl.innerHTML=n.timerTextEl.innerHTML})),gf(uf(n),"onShow","onHide","onTick"),vf.on((df(t={},bf.timer.SHOW,n.onShow),df(t,bf.timer.HIDE,n.onHide),t)),n.timeFormat=n.getTimeFormat(),n.isPieProgress=yf.theme.isUnified,n}return t=o,(n=[{key:"getTimeFormat",value:function(){if(!yf.deviceView.isClassicMobile){var e=X.model.sidebarOpts.timeFormat;if(e&&null!=wf[e.toLowerCase()])return e.toLowerCase();if(!X.model.sidebarOpts.timeEnabled)return"none"}return"remaining"}},{key:"teardown",value:function(){var e;vf.off((df(e={},bf.timer.SHOW,this.onShow),df(e,bf.timer.HIDE,this.onHide),e))}},{key:"onTick",value:function(e,t,n){if(this.view.children.timerText.el.innerHTML=wf[this.timeFormat](t,n),!yf.deviceView.isClassicMobile){var i=mf.wheelPath(9,9,9,0,360*(1-e),this.isPieProgress);this.view.children.timerPath.el.setAttributeNS(null,"d",i)}}},{key:"onShow",value:function(e){null!=this.currentTimer&&this.onHide(),this.currentTimer=e,this.currentTimer.on("tick",this.onTick),yf.deviceView.isDesktop&&(requestAnimationFrame(this.updateReadeableTimer),this.timeReadId=setInterval(this.updateReadeableTimer,7e3)),this.toggleVisibility(!0),window.requestAnimationFrame(DS.pubSub.trigger.bind(DS.pubSub,DS.events.timer.SHOWN))}},{key:"onHide",value:function(){null!=this.currentTimer&&(this.currentTimer.off("tick",this.onTick),this.currentTimer=null,yf.deviceView.isDesktop&&clearTimeout(this.timeReadId),window.requestAnimationFrame(DS.pubSub.trigger.bind(DS.pubSub,DS.events.timer.HIDDEN))),this.toggleVisibility(!1)}},{key:"toggleVisibility",value:function(e){var t=of(e?["add","remove"]:["remove","add"],2),n=t[0],i=t[1];document.body.classList[n]("timer-shown"),this.el.classList[i]("hidden"),this.el.classList[n]("shown"),this.view.setVisibility(e),this.view.parent.updateChildren(!0)}},{key:"onFocus",value:function(){var e=this.view.children.timerText.el.getBoundingClientRect(),t=e.left,n=e.top,i=e.width,r=e.height;t-=8,n-=8,i+=37,r+=12,DS.focusManager.setFocusRectOn(this.el,{left:t,top:n,width:i,height:r})}}])&&lf(t.prototype,n),i&&lf(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(Mt),kf="timer";X.def(kf,Sf,(function(){return{noTabIndex:!0,attrs:{id:kf,"aria-label":"timer",class:"timer"},overflow:"visible",visible:!1,x:0,y:0,w:58,hp:58,hl:34,html:'<div class="timer-text" data-ref="timerText" tabindex="0" data-tabindex="0"></div>'}}));var Of=DS,Cf=(Of.detection,Of.detection),Ef=Cf.orientation,Lf=Cf.deviceView,Tf="disableOverlay";function xf(e){return xf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xf(e)}function Pf(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==xf(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==xf(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===xf(o)?o:String(o)),i)}var r,o}function If(e,t){return If=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},If(e,t)}function _f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=jf(e);if(t){var r=jf(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===xf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function jf(e){return jf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},jf(e)}X.def(Tf,(function(){var e=X.model,t=e.frame,n=window.globals.parseParams().orientations||null,i=JSON.parse(decodeURIComponent(n))||t.orientations,r=i.phone,o=i.tablet;return{attrs:{id:Tf,role:"dialog","aria-modal":!0,"aria-labelledby":"mobile-disabled-orientation-text"},style:{fontSize:"".concat(t.fontscale,"%"),background:"black",color:"white"},x:0,y:0,w:function(){},h:function(){},updateHook:function(){var e=!0;Ef.isLandscape?(Lf.isPhone&&r.includes("landscape")||Lf.isTablet&&o.includes("landscape"))&&(e=!1):Ef.isPortrait&&(Lf.isPhone&&r.includes("portrait")||Lf.isTablet&&o.includes("portrait"))&&(e=!1),e&&!Ef.forceHideWarning?document.body.classList.add("show-disabled-overlay"):document.body.classList.remove("show-disabled-overlay"),this.el.setAttribute("aria-hidden",!(e&&!Ef.forceHideWarning))},html:function(){return'<div class="mobile-disabled-orientation-overlay-inner">\n        <div class="mobile-disabled-orientation-overlay-icon">\n          '.concat(Dn("disableOrientation")(),'\n        </div>\n        <div id="mobile-disabled-orientation-text">').concat(e.getString("disabled_orientation"),"</div>\n      </div>")},add:!0}}));var Df=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&If(e,t)}(o,e);var t,n,i,r=_f(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),new MutationObserver((function(){t.view.onCaptionChanged()})).observe(t.el,{childList:!0,subtree:!0}),t}return t=o,n&&Pf(t.prototype,n),i&&Pf(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(Mt),Af=DS,Rf=Af.utils.pxify,Bf=Af.constants.MOBILE_UI_SIZE,Mf=Af.detection.orientation;function Hf(e){return Hf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hf(e)}function Nf(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==Hf(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Hf(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===Hf(o)?o:String(o)),i)}var r,o}function Ff(e,t){return Ff=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ff(e,t)}function Vf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Wf(e);if(t){var r=Wf(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Hf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Uf(e)}(this,n)}}function Uf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wf(e){return Wf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Wf(e)}X.def("captionContainer",Df,(function(e){var t=X.getNamespace(DS.constants.refs.FRAME).slide;return{attrs:{class:"caption-container"},overflow:"visible",z:1,wp:function(){return window.innerWidth},wl:function(){return window.innerWidth-Bf},hl:function(){return window.innerHeight},hp:function(){return"unset"},yp:null,add:!0,updateHook:function(){Mf.isPortrait?(this.el.style.height="unset",this.el.style.top="unset",this.onCaptionChanged()):this.el.style.bottom=""},onCaptionChanged:function(){if(Mf.isPortrait){var e=Math.max(0,window.innerHeight-(t.y+t.h+Bf));this.el.style.bottom=Rf((e-this.el.clientHeight)/2+Bf)}}}}));var zf=DS,Zf=zf.events,Kf=zf.pubSub,Gf=zf._,Qf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ff(e,t)}(o,e);var t,n,i,r=Vf(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),Gf.bindAll(Uf(t),"onEnterFullscreen"),t.onClick(t.onClickClose),t.view.setVisibility(!1),Kf.on(Zf.presentation.ENTER_FULLSCREEN,t.onEnterFullscreen),t}return t=o,(n=[{key:"onEnterFullscreen",value:function(){this.view.setVisibility(!0)}},{key:"onClickClose",value:function(e){var t=this;DS.utils.fullScreen.exit(),setTimeout((function(){Kf.trigger(Zf.presentation.EXIT_FULLSCREEN),t.view.setVisibility(!1)}),300)}}])&&Nf(t.prototype,n),i&&Nf(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(Mt),qf="fullScreenClose";function Yf(e){return Yf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yf(e)}function Xf(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,id(i.key),i)}}function $f(e,t){return $f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},$f(e,t)}function Jf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=td(e);if(t){var r=td(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Yf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ed(e)}(this,n)}}function ed(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function td(e){return td=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},td(e)}function nd(e,t,n){return(t=id(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function id(e){var t=function(e,t){if("object"!==Yf(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Yf(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Yf(t)?t:String(t)}X.def(qf,Qf,(function(e){return{tag:"button",attrs:{id:qf,class:"cs-button btn fullscreen-close-btn",tabindex:0},overflow:"visible",html:'\n      <div class="fullscreen-close-btn-bg"></div>\n      '.concat(Dn("close")(),"\n    "),x:26,y:26,w:18,h:18,noContent:!0}}));var rd=DS,od=rd.events,ad=rd.pubSub,ld=rd._,sd=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$f(e,t)}(o,e);var t,n,i,r=Jf(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),nd(ed(t=r.call(this,e)),"hasTooltip",!0),nd(ed(t),"tooltipKey","acc_enter_fullscreen"),ld.bindAll(ed(t),"onExitFullScreen"),t.onClick(t.onClickOpen),ad.on(od.presentation.EXIT_FULLSCREEN,t.onExitFullScreen),t}return t=o,(n=[{key:"onExitFullScreen",value:function(){this.view.setVisibility(!0)}},{key:"onClickOpen",value:function(e){ad.trigger(od.presentation.ENTER_FULLSCREEN),this.view.setVisibility(!1)}}])&&Xf(t.prototype,n),i&&Xf(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(Mt),cd="fullScreenOpen",ud=DS.constants.MOBILE_UI_SIZE;function fd(e){return function(e){if(Array.isArray(e))return dd(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return dd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dd(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}X.def(cd,sd,(function(e){X.model;return{tag:"button",attrs:{id:cd,class:"cs-button btn fullscreen-open-btn",tabindex:0},html:"\n      ".concat(Dn("enterFullScreen")(),"\n    "),padLeft:6,padRight:6,minW:ud,minH:ud,noUpdate:!0,parentAlign:"br",noContent:!1}}));var hd=DS.constants.refs.FRAME,pd=DS,yd=pd.pubSub,bd=pd.events,vd=pd._.isEmpty,md=pd.detection,gd=md.device,wd=md.env,Sd=wd.is360,kd=wd.isDevicePreview,Od=wd.enableFs,Cd=function(){var e=X.model,t=e.topTabsLeft,n=e.topTabsRight,i=e.sidebarTabs;return!_.isEmpty(t)||!_.isEmpty(n)||!_.isEmpty(i)};function Ed(e){return Ed="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ed(e)}function Ld(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==Ed(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Ed(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===Ed(o)?o:String(o)),i)}var r,o}var Td=DS,xd=Td._,Pd=Td.pubSub,Id=Td.events,_d=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.el=t.el,this.nameSpace=t.nameSpace,this.el.classList.add(this.nameSpace),xd.bindAll(this,"onSlideTransitionIn","onWindowClosing"),Pd.on(Id.slide.ON_TRANSITION_IN,this.onSlideTransitionIn),Pd.on(Id.window.CLOSING,this.onWindowClosing)}var t,n,i;return t=e,(n=[{key:"onSlideTransitionIn",value:function(e){e.windowId===this.nameSpace&&document.body.classList.add("showing-".concat(this.nameSpace.toLowerCase()))}},{key:"onWindowClosing",value:function(e){e===this.nameSpace&&document.body.classList.remove("showing-".concat(this.nameSpace.toLowerCase()))}}])&&Ld(t.prototype,n),i&&Ld(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}(),jd="lightBoxWrapper";X.def(jd,_d,(function(){var e=X.model,t=e.slideWidth,n=e.slideHeight;return{attrs:{id:jd,class:"cs-base fn-".concat(e.frame.default_layout)},style:{transformOrigin:"0px 0px"},overflow:"visible",dimScale:function(){var e=.8*Te.width,i=.8*Te.height;return Math.min(e/t,i/n)},wl:function(){return t*this.dimScale+58},wp:function(){return t*this.dimScale},hl:function(){return n*this.dimScale},hp:function(){return n*this.dimScale+58},x:function(){return(Te.width-this.w)/2},y:function(){return(Te.height-this.h)/2},add:!0}}));var Dd="lightBoxSlide";X.def(Dd,(function(){var e=X.getCurrentNameSpace().lightBoxWrapper;return{attrs:{class:Dd,"aria-live":"assertive",role:"dialog","aria-modal":!0},overflow:"visible",winScale:function(){return e.dimScale},origin:"0 0",wl:function(){return this.parent.wl-58},hl:function(){return this.parent.hl},wp:function(){return this.parent.wp},hp:function(){return this.parent.hp-58},z:1,bgColor:"white",add:!0,html:function(){return'<div id="slide-label-lightbox" data-ref="label" aria-live="polite"></div><main data-ref="container" class="slide-container" transform-origin: 0 0; position: absolute;" tabindex="-1"></main>'}}}));var Ad="lightBox";function Rd(e){return Rd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rd(e)}function Bd(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==Rd(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Rd(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===Rd(o)?o:String(o)),i)}var r,o}function Md(e,t){return Md=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Md(e,t)}function Hd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Nd(e);if(t){var r=Nd(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Rd(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function Nd(e){return Nd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Nd(e)}X.def(Ad,(function(){return{attrs:{class:"".concat(Ad," cs-base")},x:0,y:0,z:1,w:"100%",h:"100%",overflow:"visible"}}));var Fd=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Md(e,t)}(o,e);var t,n,i,r=Hd(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e)).onClick(t.onClickClose),t}return t=o,(n=[{key:"onClickClose",value:function(e){var t=this.model.windowId;DS.pubSub.trigger(DS.events.window.CLOSING,t)}}])&&Bd(t.prototype,n),i&&Bd(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(Mt),Vd="lightBoxClose";X.def(Vd,Fd,(function(e){var t={windowId:e};return{tag:"button",attrs:{id:Vd,class:"lightbox-close-btn-floating",tabindex:0,"aria-label":DS.stringTabler.getString("close")},style:{overflow:"visible"},html:Dn("close"),y:35,x:function(){return window.innerWidth-(this.w+35)},model:t,w:20,h:20}}));var Ud="close",Wd=DS,zd=Wd.detection.orientation,Zd=Wd.constants.MOBILE_UI_SIZE;X.def(Ud,Fd,(function(e){var t={windowId:e};return{tag:"button",attrs:{id:Ud,class:"cs-button btn",tabindex:0},html:'\n      <div class="icon">\n        '.concat(Dn("close")(),"\n      </div>\n    "),model:t,parentAlign:"t-",w:Zd,h:Zd,noContent:!1,beforeReflowHook:function(){this.setVisibility(zd.isLandscape)}}}));var Kd="LightboxWnd",Gd=DS.detection.orientation,Qd="lightBoxBottom";X.def(Qd,(function(e){var t=X.model.rtl;return{tag:"nav",attrs:{id:Qd,class:"option-pane"},methods:{getZoomBounds:function(){return X.getNamespace(e).zoomBounds},getParentBB:function(){return null==this.cachedParentBB&&(this.cachedParentBB=this.parent.getBox(),null!=this.cachedParentBB&&(this.cachedParentBB.left=this.cachedParentBB.x,this.cachedParentBB.right=this.cachedParentBB.x+this.cachedParentBB.w,this.cachedParentBB.top=this.cachedParentBB.y,this.cachedParentBB.bottom=this.cachedParentBB.y+this.cachedParentBB.h)),this.cachedParentBB},shouldZoom:function(){return null!=this.getParentBB()&&null!=this.getZoomBounds()}},z:1,xp:function(){if(this.shouldZoom()){var e=this.getZoomBounds(),t=this.getParentBB();return Math.floor(Math.max(e.left,0)-t.left)}return 0},xl:function(){if(this.shouldZoom()){var e=this.getZoomBounds(),t=this.getParentBB();return t.w+(Math.min(e.right,window.innerWidth-58)-t.right)}return this.parent.w-this.w},yp:function(){if(this.shouldZoom()){var e=this.getZoomBounds(),t=this.getParentBB();return t.h+(Math.min(e.bottom,window.innerHeight-58)-t.bottom)}return this.parent.h-this.h},yl:function(){if(this.shouldZoom()){var e=this.getZoomBounds(),t=this.getParentBB();return Math.floor(Math.max(e.top,0)-t.top)}return 0},wp:function(){if(this.shouldZoom()){var e=this.getZoomBounds();return Math.ceil(Math.min(e.right,window.innerWidth)-Math.max(e.left,0))}return this.parent.w},wl:58,hp:58,hl:function(){if(this.shouldZoom()){var e=this.getZoomBounds();return Math.ceil(Math.min(e.bottom,window.innerHeight)-Math.max(e.top,0))}return this.parent.h},updateHook:function(){var e=this;if(this.hasAllChildren()){Gd.isLandscape?this.setVisibility(!0):this.setVisibility(this.children.some((function(t){return t.visible&&t!=e.children.close})));var n={vertical:Gd.isLandscape,alignChild:!0,bounds:{t:0,b:this.h,l:0,r:this.w},reverse:t};this.flowChildren(n),this.cachedParentBB=null}},childVisibilityChangedHook:function(){this.update()}}}));var qd="LightboxControlsWnd",Yd="printWrapper";X.def(Yd,(function(e){return{attrs:{id:Yd,class:"print-window"},w:0,h:0,style:{overflow:"visible",transformOrigin:"0 0",background:"transparent"},scale:1,x:0,y:0,add:!0}}));var Xd=DS.constants.printSettings,$d="printSlide";X.def($d,on,(function(e){var t=X.model.slideWidth;return{attrs:{id:$d,class:"cs-window window-slide ".concat(e,"-slide"),tabindex:-1},style:{overflow:"visible",transformOrigin:"0 0",background:"transparent",display:"none"},origin:"0 0",winScale:function(){return this.w/t},w:function(){var e=DS.detection.os,t=e.isAndroid,n=e.isIOS;return t?Xd.android.pageW:n?Xd.ios.pageW:Xd.desktop.pageW},h:0,x:0,y:0,z:1,html:'<div data-ref="container" class="slide-container"></div>'}}));var Jd="PrintWindow";function eh(e){return eh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eh(e)}function th(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==eh(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==eh(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===eh(o)?o:String(o)),i)}var r,o}function nh(e,t){return nh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},nh(e,t)}function ih(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=rh(e);if(t){var r=rh(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===eh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function rh(e){return rh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},rh(e)}var oh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nh(e,t)}(o,e);var t,n,i,r=ih(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),DS.pubSub.on(DS.events.messageWindow.SHOWN,(function(){t.view.isNotResume=!0,t.view.update()})),t}return t=o,n&&th(t.prototype,n),i&&th(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(Mt),ah="messageWindowWrapper";X.def(ah,oh,(function(e){var t=X.model.preso.display().windows().find({id:e});return{attrs:{id:ah},w:t.get("width"),h:t.get("height"),style:{overflow:"visible",transformOrigin:"0 0",background:"transparent"},y:function(){return this.isNotResume?(window.innerHeight-this.h)/2:window.innerHeight/2-this.h/2*this.scale},scalel:function(){return this.isNotResume?1:window.innerWidth/this.w},scalep:function(){return this.isNotResume?.8:window.innerWidth/this.w},xl:function(){return this.isNotResume?(window.innerWidth-this.w)/2:0},xp:function(){return this.isNotResume?(window.innerWidth-.8*this.w)/2:0},add:!0}}));var lh="messageWindowSlide";X.def(lh,on,(function(){return{attrs:{id:lh,class:"cs-window","aria-labelledby":"slide-label-message",role:"alertdialog","aria-modal":!0,tabindex:-1},winScale:1,origin:"0 0",w:"100%",h:"100%",x:0,y:0,z:1,html:'<div id="slide-label-message" data-ref="label"></div><div data-ref="container" class="slide-container"></div>'}}));X.def("overlay",(function(){return{attrs:{class:"overlay overlay-message"},x:0,y:0,w:function(){return window.innerWidth},h:function(){return window.innerHeight},position:"fixed",add:!0}}));var sh="MessageWnd",ch="messagePromptWrapper";X.def(ch,(function(e){var t=X.model,n=X.getNamespace(DS.constants.refs.FRAME),i=n.slide,r=n.wrapper,o=t.rtl?"rtl":"";return{attrs:{id:ch,class:"cs-base cs-".concat(t.frame.default_layout," fn-").concat(t.frame.default_layout," ").concat(o)},w:336,h:210,style:{overflow:"visible",transformOrigin:"0 0",background:"transparent"},scale:function(){return r.scale},x:function(){var e=r.scale;return r.x+(i.x+(i.w-this.w)/2)*e},y:function(){var e=r.scale;return r.y+(i.y+(i.h-this.h)/2)*e},add:!0}}));function uh(e){return uh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uh(e)}function fh(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==uh(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==uh(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===uh(o)?o:String(o)),i)}var r,o}function dh(){return dh="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=yh(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},dh.apply(this,arguments)}function hh(e,t){return hh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},hh(e,t)}function ph(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=yh(e);if(t){var r=yh(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===uh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function yh(e){return yh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},yh(e)}X.def("overlay",(function(){return{attrs:{class:"overlay overlay-message"},x:0,y:0,w:function(){return window.innerWidth},h:function(){return window.innerHeight},position:"fixed",add:!0}}));var bh=DS,vh=bh.events,mh=bh.pubSub,gh=bh.focusManager,wh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hh(e,t)}(o,e);var t,n,i,r=ph(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e)).onClickEl(t.okButtonEl,t.onClickOk),t}return t=o,(n=[{key:"setPromptId",value:function(e){this.promptId=e}},{key:"onClickOk",value:function(e){var t,n,i=null===(t=this.view)||void 0===t||null===(n=t.getClosingData)||void 0===n?void 0:n.call(t);mh.trigger(vh.prompt.CLOSING,this.promptId),mh.trigger(vh.presentation.ON_OBJECT_EVENT,"".concat(this.promptId,"_closed"),i)}},{key:"onFocus",value:function(e){var t=e.target;this.el.contains(t)&&gh.setFocusRectOn(t)}},{key:"teardown",value:function(){dh(yh(o.prototype),"teardown",this).call(this)}}])&&fh(t.prototype,n),i&&fh(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(on),Sh=DS.MicroScrollBar,kh="invalidPromptSlide";X.def(kh,wh,(function(e){var t=X.model;return{attrs:{id:kh,class:"cs-window","aria-labelledby":"slide-label-message",role:"alertdialog","aria-modal":!0,tabindex:-1},origin:"0 0",w:"100%",h:"100%",x:0,y:0,z:1,html:function(){var e=t.getString("invalid_prompt_title"),n=t.getString("invalid_prompt_message"),i=t.getString("invalid_prompt_button");return'\n        <div class=\'message-window native-message-window\'>\n          <header class="message-window-header">\n            <h1 class="message-window-heading">'.concat(e,'</h1>\n          </header>\n          <div class="message-window-text-wrapper">\n            <div class=\'message-window-text\' data-ref="bodyText">').concat(n,'</div>\n          </div>\n          <div class=\'message-buttons\'>\n            <button data-ref="okButton" tabindex="0">').concat(i,"</button>\n          </div>\n        </div>\n      ")},childDef:function(){var e=this.children.bodyText.el;null==this.scrollbar&&null!=e&&(this.scrollbar=new Sh(e,"message-window-text"))}}}));var Oh=DS,Ch=Oh.MicroScrollBar,Eh=(Oh.pubSub,Oh.events,"printPromptSlide");X.def(Eh,wh,(function(e){var t=X.model;return{attrs:{id:Eh,class:"cs-window","aria-labelledby":"slide-label-message",role:"alertdialog","aria-modal":!0,tabindex:-1},origin:"0 0",w:"100%",h:"100%",x:0,y:0,z:1,methods:{getClosingData:function(){var e=this.children.userNameInput.el,t=e.value;return e.value="",{_ActPrintPromptUsername:t}}},html:function(){var e=t.getString("print_prompt_title"),n=t.getString("print_prompt_message"),i=t.getString("print_prompt_button");return'\n        <div class=\'message-window native-message-window\'>\n          <header class="message-window-header">\n            <h1 class="message-window-heading">'.concat(e,'</h1>\n          </header>\n          <div class="message-window-text-wrapper">\n            <div class=\'message-window-text\' data-ref="bodyText">').concat(n,'</div>\n          </div>\n          <input data-ref="userNameInput" tabindex="0" type="text">\n          <div class=\'message-buttons\'>\n            <button data-ref="okButton" tabindex="0">').concat(i,"</button>\n          </div>\n        </div>\n      ")},childDef:function(){var e=this.children.bodyText.el;null==this.scrollbar&&null!=e&&(this.scrollbar=new Ch(e,"message-window-text"))}}}));var Lh=DS.MicroScrollBar,Th="timerPromptSlide";X.def(Th,wh,(function(e){var t=X.model;return{attrs:{id:Th,class:"cs-window","aria-labelledby":"slide-label-message",role:"alertdialog","aria-modal":!0,tabindex:-1},origin:"0 0",w:"100%",h:"100%",x:0,y:0,z:1,html:function(){var e=t.getString("timer_prompt_title"),n=t.getString("timer_prompt_message"),i=t.getString("timer_prompt_button");return'\n        <div class=\'message-window native-message-window\'>\n          <header class="message-window-header">\n            <h1 class="message-window-heading">'.concat(e,'</h1>\n          </header>\n          <div class="message-window-text-wrapper">\n            <div class=\'message-window-text\' data-ref="bodyText">').concat(n,'</div>\n          </div>\n          <div class=\'message-buttons\'>\n            <button data-ref="okButton" tabindex="0">').concat(i,"</button>\n          </div>\n        </div>\n      ")},childDef:function(){var e=this.children.bodyText.el;null==this.scrollbar&&null!=e&&(this.scrollbar=new Lh(e,"message-window-text"))}}}));var xh,Ph={InvalidPrompt:"invalidPromptSlide",PrintPrompt:"printPromptSlide",TimerPrompt:"timerPromptSlide"},Ih=function(e){var t=e,n=Ph[e];return{nameSpace:t,render:function(e){var i=X.tree(t,["overlay",{messagePromptWrapper:[n]}]),r=X.getNamespace(t);return r.slide=r[n],r.wrapper=r.messagePromptWrapper,{all:function(){return X.update(i)},resize:function(){r.isAttached&&(r.overlay.update(),r.messagePromptWrapper.update())}}}}};function _h(e){return _h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_h(e)}function jh(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==_h(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==_h(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===_h(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Dh=Ih("InvalidPrompt"),Ah=Dh.render,Rh=Dh.nameSpace,Bh=Ih("PrintPrompt"),Mh=Bh.render,Hh=Bh.nameSpace,Nh=Ih("TimerPrompt"),Fh=Nh.render,Vh=Nh.nameSpace;!function(e,t){yt(e),function(e){var t=window.globalProvideData;if(window.globalProvideData=function(e,n){"frame"===e&&(null!=(je=JSON.parse(n)).localization&&DS.flagManager.localizationPlatform?(DS.localizationManager.registerFrameLanguageData(je.localization),DS.localizationManager.loadFrameData().then((function(e){De=e,bt()}))):bt(),window.globalProvideData=t)},at.on(Ge,(function(e){new Ve,_e=new y(je,De,e),X.setModel(_e),ct.initialize(_e),ut.initialize((function(e){return _e.getString(e)})),ve.initializeCssColorVars(),DS.frameModel=_e,DS.views=X,(DS.frameModel.frame.chromeless||DS.detection.env.hideFrame)&&ft.addClass(document.body,"chromeless"),at.trigger(Ye)})),window.globals.useJson){var n=e.replace(".js",".json"),i=new XMLHttpRequest;return i.overrideMimeType("application/json"),i.onreadystatechange=function(){4===i.readyState&&200===i.status&&window.globalProvideData("frame",i.responseText.replace(/\\'/g,"'").replace(/\\"/g,'"'))},i.open("GET",n,!0),void i.send(null)}DS.loadScript(e)}(t)}((jh(xh={},hd,(function(e){var t,n,i=e.topTabsLeft,r=e.topTabsRight,o=e.sidebarOpts,a=e.bottomBarOpts,l=e.sidebarOpts.timeEnabled,s=e.frame.controlOptions.controls,c=s.closed_captions,u=s.settings,f=X.tree(hd,[{wrapper:["slide",{frame:[{optionPane:[].concat(fd(Cd()?["hamburger"]:[]),[{playbackControls:["playPause","seek"].concat(fd(c?["captions"]:[]),fd(u?["settings"]:[]),fd(gd.isTablet&&Sd?["fullScreenOpen"]:[]))},{navControls:["prev","next","submit"].concat(fd(l?["timer"]:[]))}])}]},"panels","visibleOverlay","captionContainer",{sidebar:["tabs"]}]}].concat(fd(Sd?[]:["disableOverlay"]),["fullScreenClose"]));n=!vd(i)||!vd(r),o.sidebarEnabled||a.bottomBarEnabled||n||!t&&Sd&&(!kd||Od)||X.getNamespace(hd).optionPane.setVisibility(!1),yd.on(bd.frameModel.LAYOUT_CHANGED,(function(e,t){if(t===hd){var n={playPause:e.seekbar,seek:e.seekbar,next:e.next,prev:e.previous,submit:e.submit,glossaryLink:e.glossary,outlineLink:e.outline.enabled,transcriptLink:e.transcript,resourcesLink:e.resources};yd.trigger(bd.frame.LAYOUT_READY,n),X.resetStates(hd),X.updateVisibility(n,hd),X.update(f)}})),DS.pubSub.on(DS.events.navcontrols.CHANGED,(function(e){var t=e.kind,n=e.name,i=e.visible,r=e.enable,o="toggle_window_control_visible"===t||"toggle_window_control"===t;"previous"===n&&(n="prev");var a=X["enable_window_control"===t||"toggle_window_control"===t?"getTopNameSpace":"getFrameNameSpace"]()[n];null!=a&&(o?"toggle_window_control_visible"===t?(a.setVisibility(!a.visible),a.childVisibilityChanged()):a.setEnabled(!a.enabled):"set_window_control_visible"===t?(a.setVisibility(i),a.childVisibilityChanged()):a.setEnabled(r))}));return{all:function(){return X.update(f)},resize:function(){X.update(f),X.getNamespace(hd).panels.children.forEach((function(e){null!=e.update&&(e.update(),e.updateChildren(!0))}))}}})),jh(xh,Kd,(function(e){var t=X.tree(Kd,["visibleOverlay",{lightBoxWrapper:["lightBoxSlide",{lightBox:[{lightBoxBottom:["close","captions"]}]}]},"captionContainer","lightBoxClose"]),n=X.getNamespace(Kd);return n.slide=n.lightBoxSlide,n.wrapper=n.lightBoxWrapper,n.visibleOverlay.setVisibility(!0),{all:function(){X.update(t)},resize:function(){n.zoomBounds=null,X.update(t)},pinchZoom:function(){n.lightBoxBottom.update()}}})),jh(xh,qd,(function(e){var t=X.tree(qd,["visibleOverlay",{lightBoxWrapper:["lightBoxSlide",{lightBox:[{lightBoxBottom:["close","submit","next","prev","captions"]}]}]},"captionContainer","lightBoxClose"]),n=X.getNamespace(qd);n.slide=n.lightBoxSlide,n.wrapper=n.lightBoxWrapper,n.visibleOverlay.setVisibility(!0);var i=function(e,n){if(n===qd){var i={next:e.next,prev:e.previous,submit:e.submit};X.resetStates(qd),X.updateVisibility(i,qd),X.update(t)}};return DS.pubSub.on(DS.events.frameModel.LAYOUT_CHANGED,i),i(e.currControlLayout),{all:function(){return X.update(t)},resize:function(){n.zoomBounds=null,X.update(t)},pinchZoom:function(){return n.lightBoxBottom.update()}}})),jh(xh,Jd,(function(e){X.tree(Jd,[{printWrapper:["printSlide"]}]);var t=X.getNamespace(Jd);return t.slide=t.printSlide,t.wrapper=t.printWrapper,{all:function(){},resize:function(){},pinchZoom:function(){}}})),jh(xh,sh,(function(e){var t=X.tree(sh,["overlay",{messageWindowWrapper:["messageWindowSlide"]},"disableOverlay"]),n=X.getNamespace(sh);return n.slide=n.messageWindowSlide,n.wrapper=n.messageWindowWrapper,{all:function(){return X.update(t)},resize:function(){n.isAttached&&(n.overlay.update(),n.messageWindowWrapper.update())}}})),jh(xh,Rh,Ah),jh(xh,Hh,Mh),jh(xh,Vh,Fh),xh),"html5/data/js/frame.js")}();
